"use strict";var e=require("atom"),t=require("fs"),r=require("path"),n=require("stream"),s=require("os"),i=require("util"),o=require("events");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=a(t),u=a(r),c=a(n),h=a(s),p=a(i),f=a(o);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function d(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}function g(e,t){var r,n,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(s=2&i[0]?n.return:i[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,i[1])).done)return s;switch(n=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var m="trashman";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function E(e,t){for(var r=0,n=t.length,s=e.length;r<n;r++,s++)e[s]=t[r];return e}var v=new(function(){function e(e){void 0===e&&(e={}),this.name=e.name,this.styleSheet="\n      background-color: "+(e.backgroundColor||"darkgrey")+";\n      border-radius: 2px;\n      color: "+(e.color||"white")+";\n      line-height: 1.5;\n      padding: 1px 4px;\n      text-shadow: 0 1px 0px rgba(0, 0, 0, 0.2);\n    "}return e.prototype.__console__=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(null===atom||void 0===atom?void 0:atom.inDevMode())&&(r.unshift("%c"+this.name+"%c",this.styleSheet,""),(t=window.console)[e].apply(t,r))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,E(["debug"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,E(["error"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,E(["info"],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,E(["log"],e))},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,E(["trace"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,E(["warn"],e))},e}())({name:m,backgroundColor:"sienna"});var y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _(e){var t={exports:{}};return e(t,t.exports),t.exports}var R={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var S="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},A=_((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=R,n=(t=e.exports={}).re=[],s=t.src=[],i=t.t={};let o=0;const a=(e,t,r)=>{const a=o++;S(a,t),i[e]=a,s[a]=t,n[a]=new RegExp(t,r?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`),a("FULL",`^${s[i.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`),a("LOOSE",`^${s[i.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${s[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${s[i.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?)?)?`),a("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),a("COERCERTL",s[i.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",a("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",a("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})\\s+-\\s+(${s[i.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[i.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0.0.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const b=["includePrerelease","loose","rtl"];var w=e=>e?"object"!=typeof e?{loose:!0}:b.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const $=/^[0-9]+$/,O=(e,t)=>{const r=$.test(e),n=$.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var T={compareIdentifiers:O,rcompareIdentifiers:(e,t)=>O(t,e)};const{MAX_LENGTH:I,MAX_SAFE_INTEGER:L}=R,{re:N,t:x}=A,{compareIdentifiers:C}=T;class P{constructor(e,t){if(t=w(t),e instanceof P){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>I)throw new TypeError(`version is longer than ${I} characters`);S("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?N[x.LOOSE]:N[x.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>L||this.major<0)throw new TypeError("Invalid major version");if(this.minor>L||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>L||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<L)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(S("SemVer.compare",this.version,this.options,e),!(e instanceof P)){if("string"==typeof e&&e===this.version)return 0;e=new P(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof P||(e=new P(e,this.options)),C(this.major,e.major)||C(this.minor,e.minor)||C(this.patch,e.patch)}comparePre(e){if(e instanceof P||(e=new P(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(S("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return C(r,n)}while(++t)}compareBuild(e){e instanceof P||(e=new P(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(S("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return C(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var k=P;const{MAX_LENGTH:D}=R,{re:M,t:F}=A;var H=(e,t)=>{if(t=w(t),e instanceof k)return e;if("string"!=typeof e)return null;if(e.length>D)return null;if(!(t.loose?M[F.LOOSE]:M[F.FULL]).test(e))return null;try{return new k(e,t)}catch(e){return null}};var j=(e,t)=>{const r=H(e,t);return r?r.version:null};var G=(e,t)=>{const r=H(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var B=(e,t,r,n)=>{"string"==typeof r&&(n=r,r=void 0);try{return new k(e,r).inc(t,n).version}catch(e){return null}};var U=(e,t,r)=>new k(e,r).compare(new k(t,r));var X=(e,t,r)=>0===U(e,t,r);var V=(e,t)=>{if(X(e,t))return null;{const r=H(e),n=H(t),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",o=s?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==n[e])return i+e;return o}};var W=(e,t)=>new k(e,t).major;var K=(e,t)=>new k(e,t).minor;var q=(e,t)=>new k(e,t).patch;var Y=(e,t)=>{const r=H(e,t);return r&&r.prerelease.length?r.prerelease:null};var Q=(e,t,r)=>U(t,e,r);var Z=(e,t)=>U(e,t,!0);var z=(e,t,r)=>{const n=new k(e,r),s=new k(t,r);return n.compare(s)||n.compareBuild(s)};var J=(e,t)=>e.sort(((e,r)=>z(e,r,t)));var ee=(e,t)=>e.sort(((e,r)=>z(r,e,t)));var te=(e,t,r)=>U(e,t,r)>0;var re=(e,t,r)=>U(e,t,r)<0;var ne=(e,t,r)=>0!==U(e,t,r);var se=(e,t,r)=>U(e,t,r)>=0;var ie=(e,t,r)=>U(e,t,r)<=0;var oe=(e,t,r,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return X(e,r,n);case"!=":return ne(e,r,n);case">":return te(e,r,n);case">=":return se(e,r,n);case"<":return re(e,r,n);case"<=":return ie(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const{re:ae,t:le}=A;var ue=(e,t)=>{if(e instanceof k)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=ae[le.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),ae[le.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;ae[le.COERCERTL].lastIndex=-1}else r=e.match(ae[le.COERCE]);return null===r?null:H(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},ce=he;function he(e){var t=this;if(t instanceof he||(t=new he),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function pe(e,t,r){var n=t===e.head?new ge(r,null,t,e):new ge(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function fe(e,t){e.tail=new ge(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function de(e,t){e.head=new ge(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ge(e,t,r,n){if(!(this instanceof ge))return new ge(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}he.Node=ge,he.create=he,he.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},he.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},he.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},he.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)fe(this,arguments[e]);return this.length},he.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)de(this,arguments[e]);return this.length},he.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},he.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},he.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},he.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},he.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},he.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},he.prototype.map=function(e,t){t=t||this;for(var r=new he,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},he.prototype.mapReverse=function(e,t){t=t||this;for(var r=new he,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},he.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var s=0;null!==n;s++)r=e(r,n.value,s),n=n.next;return r},he.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var s=this.length-1;null!==n;s--)r=e(r,n.value,s),n=n.prev;return r},he.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},he.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},he.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new he;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;for(;null!==s&&n<t;n++,s=s.next)r.push(s.value);return r},he.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new he;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;null!==s&&n>t;n--)s=s.prev;for(;null!==s&&n>e;n--,s=s.prev)r.push(s.value);return r},he.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var i=[];for(n=0;s&&n<t;n++)i.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=pe(this,s,r[n]);return i},he.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{!function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}(he)}catch(e){}const me=Symbol("max"),Ee=Symbol("length"),ve=Symbol("lengthCalculator"),ye=Symbol("allowStale"),_e=Symbol("maxAge"),Re=Symbol("dispose"),Se=Symbol("noDisposeOnSet"),Ae=Symbol("lruList"),be=Symbol("cache"),we=Symbol("updateAgeOnGet"),$e=()=>1;const Oe=(e,t,r)=>{const n=e[be].get(t);if(n){const t=n.value;if(Te(e,t)){if(Le(e,n),!e[ye])return}else r&&(e[we]&&(n.value.now=Date.now()),e[Ae].unshiftNode(n));return t.value}},Te=(e,t)=>{if(!t||!t.maxAge&&!e[_e])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[_e]&&r>e[_e]},Ie=e=>{if(e[Ee]>e[me])for(let t=e[Ae].tail;e[Ee]>e[me]&&null!==t;){const r=t.prev;Le(e,t),t=r}},Le=(e,t)=>{if(t){const r=t.value;e[Re]&&e[Re](r.key,r.value),e[Ee]-=r.length,e[be].delete(r.key),e[Ae].removeNode(t)}};class Ne{constructor(e,t,r,n,s){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=s||0}}const xe=(e,t,r,n)=>{let s=r.value;Te(e,s)&&(Le(e,r),e[ye]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var Ce=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[me]=e.max||1/0;const t=e.length||$e;if(this[ve]="function"!=typeof t?$e:t,this[ye]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[_e]=e.maxAge||0,this[Re]=e.dispose,this[Se]=e.noDisposeOnSet||!1,this[we]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[me]=e||1/0,Ie(this)}get max(){return this[me]}set allowStale(e){this[ye]=!!e}get allowStale(){return this[ye]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[_e]=e,Ie(this)}get maxAge(){return this[_e]}set lengthCalculator(e){"function"!=typeof e&&(e=$e),e!==this[ve]&&(this[ve]=e,this[Ee]=0,this[Ae].forEach((e=>{e.length=this[ve](e.value,e.key),this[Ee]+=e.length}))),Ie(this)}get lengthCalculator(){return this[ve]}get length(){return this[Ee]}get itemCount(){return this[Ae].length}rforEach(e,t){t=t||this;for(let r=this[Ae].tail;null!==r;){const n=r.prev;xe(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[Ae].head;null!==r;){const n=r.next;xe(this,e,r,t),r=n}}keys(){return this[Ae].toArray().map((e=>e.key))}values(){return this[Ae].toArray().map((e=>e.value))}reset(){this[Re]&&this[Ae]&&this[Ae].length&&this[Ae].forEach((e=>this[Re](e.key,e.value))),this[be]=new Map,this[Ae]=new ce,this[Ee]=0}dump(){return this[Ae].map((e=>!Te(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Ae]}set(e,t,r){if((r=r||this[_e])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[ve](t,e);if(this[be].has(e)){if(s>this[me])return Le(this,this[be].get(e)),!1;const i=this[be].get(e).value;return this[Re]&&(this[Se]||this[Re](e,i.value)),i.now=n,i.maxAge=r,i.value=t,this[Ee]+=s-i.length,i.length=s,this.get(e),Ie(this),!0}const i=new Ne(e,t,s,n,r);return i.length>this[me]?(this[Re]&&this[Re](e,t),!1):(this[Ee]+=i.length,this[Ae].unshift(i),this[be].set(e,this[Ae].head),Ie(this),!0)}has(e){if(!this[be].has(e))return!1;const t=this[be].get(e).value;return!Te(this,t)}get(e){return Oe(this,e,!0)}peek(e){return Oe(this,e,!1)}pop(){const e=this[Ae].tail;return e?(Le(this,e),e.value):null}del(e){Le(this,this[be].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],s=n.e||0;if(0===s)this.set(n.k,n.v);else{const e=s-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[be].forEach(((e,t)=>Oe(this,t,!1)))}};class Pe{constructor(e,t){if(t=w(t),e instanceof Pe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Pe(e.raw,t);if(e instanceof it)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!Be(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&Ue(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=De.get(t);if(r)return r;const n=this.options.loose,s=n?Me[Fe.HYPHENRANGELOOSE]:Me[Fe.HYPHENRANGE];e=e.replace(s,tt(this.options.includePrerelease)),S("hyphen replace",e),e=e.replace(Me[Fe.COMPARATORTRIM],He),S("comparator trim",e,Me[Fe.COMPARATORTRIM]),e=(e=(e=e.replace(Me[Fe.TILDETRIM],je)).replace(Me[Fe.CARETTRIM],Ge)).split(/\s+/).join(" ");const i=n?Me[Fe.COMPARATORLOOSE]:Me[Fe.COMPARATOR],o=e.split(" ").map((e=>Ve(e,this.options))).join(" ").split(/\s+/).map((e=>et(e,this.options))).filter(this.options.loose?e=>!!e.match(i):()=>!0).map((e=>new it(e,this.options)));o.length;const a=new Map;for(const e of o){if(Be(e))return[e];a.set(e.value,e)}a.size>1&&a.has("")&&a.delete("");const l=[...a.values()];return De.set(t,l),l}intersects(e,t){if(!(e instanceof Pe))throw new TypeError("a Range is required");return this.set.some((r=>Xe(r,t)&&e.set.some((e=>Xe(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new k(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(rt(this.set[t],e,this.options))return!0;return!1}}var ke=Pe;const De=new Ce({max:1e3}),{re:Me,t:Fe,comparatorTrimReplace:He,tildeTrimReplace:je,caretTrimReplace:Ge}=A,Be=e=>"<0.0.0-0"===e.value,Ue=e=>""===e.value,Xe=(e,t)=>{let r=!0;const n=e.slice();let s=n.pop();for(;r&&n.length;)r=n.every((e=>s.intersects(e,t))),s=n.pop();return r},Ve=(e,t)=>(S("comp",e,t),e=Ye(e,t),S("caret",e),e=Ke(e,t),S("tildes",e),e=Ze(e,t),S("xrange",e),e=Je(e,t),S("stars",e),e),We=e=>!e||"x"===e.toLowerCase()||"*"===e,Ke=(e,t)=>e.trim().split(/\s+/).map((e=>qe(e,t))).join(" "),qe=(e,t)=>{const r=t.loose?Me[Fe.TILDELOOSE]:Me[Fe.TILDE];return e.replace(r,((t,r,n,s,i)=>{let o;return S("tilde",e,t,r,n,s,i),We(r)?o="":We(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:We(s)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(S("replaceTilde pr",i),o=`>=${r}.${n}.${s}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${s} <${r}.${+n+1}.0-0`,S("tilde return",o),o}))},Ye=(e,t)=>e.trim().split(/\s+/).map((e=>Qe(e,t))).join(" "),Qe=(e,t)=>{S("caret",e,t);const r=t.loose?Me[Fe.CARETLOOSE]:Me[Fe.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,s,i,o)=>{let a;return S("caret",e,t,r,s,i,o),We(r)?a="":We(s)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:We(i)?a="0"===r?`>=${r}.${s}.0${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${n} <${+r+1}.0.0-0`:o?(S("replaceCaret pr",o),a="0"===r?"0"===s?`>=${r}.${s}.${i}-${o} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i}-${o} <${+r+1}.0.0-0`):(S("no pr"),a="0"===r?"0"===s?`>=${r}.${s}.${i}${n} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i} <${+r+1}.0.0-0`),S("caret return",a),a}))},Ze=(e,t)=>(S("replaceXRanges",e,t),e.split(/\s+/).map((e=>ze(e,t))).join(" ")),ze=(e,t)=>{e=e.trim();const r=t.loose?Me[Fe.XRANGELOOSE]:Me[Fe.XRANGE];return e.replace(r,((r,n,s,i,o,a)=>{S("xRange",e,r,n,s,i,o,a);const l=We(s),u=l||We(i),c=u||We(o),h=c;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(i=0),o=0,">"===n?(n=">=",u?(s=+s+1,i=0,o=0):(i=+i+1,o=0)):"<="===n&&(n="<",u?s=+s+1:i=+i+1),"<"===n&&(a="-0"),r=`${n+s}.${i}.${o}${a}`):u?r=`>=${s}.0.0${a} <${+s+1}.0.0-0`:c&&(r=`>=${s}.${i}.0${a} <${s}.${+i+1}.0-0`),S("xRange return",r),r}))},Je=(e,t)=>(S("replaceStars",e,t),e.trim().replace(Me[Fe.STAR],"")),et=(e,t)=>(S("replaceGTE0",e,t),e.trim().replace(Me[t.includePrerelease?Fe.GTE0PRE:Fe.GTE0],"")),tt=e=>(t,r,n,s,i,o,a,l,u,c,h,p,f)=>`${r=We(n)?"":We(s)?`>=${n}.0.0${e?"-0":""}`:We(i)?`>=${n}.${s}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=We(u)?"":We(c)?`<${+u+1}.0.0-0`:We(h)?`<${u}.${+c+1}.0-0`:p?`<=${u}.${c}.${h}-${p}`:e?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),rt=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(S(e[r].semver),e[r].semver!==it.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0},nt=Symbol("SemVer ANY");class st{static get ANY(){return nt}constructor(e,t){if(t=w(t),e instanceof st){if(e.loose===!!t.loose)return e;e=e.value}S("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===nt?this.value="":this.value=this.operator+this.semver.version,S("comp",this)}parse(e){const t=this.options.loose?ot[at.COMPARATORLOOSE]:ot[at.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new k(r[2],this.options.loose):this.semver=nt}toString(){return this.value}test(e){if(S("Comparator.test",e,this.options.loose),this.semver===nt||e===nt)return!0;if("string"==typeof e)try{e=new k(e,this.options)}catch(e){return!1}return oe(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof st))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new ke(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new ke(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=oe(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),a=oe(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||s&&i||o||a}}var it=st;const{re:ot,t:at}=A;var lt=(e,t,r)=>{try{t=new ke(t,r)}catch(e){return!1}return t.test(e)};var ut=(e,t)=>new ke(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));var ct=(e,t,r)=>{let n=null,s=null,i=null;try{i=new ke(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&-1!==s.compare(e)||(n=e,s=new k(n,r)))})),n};var ht=(e,t,r)=>{let n=null,s=null,i=null;try{i=new ke(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&1!==s.compare(e)||(n=e,s=new k(n,r)))})),n};var pt=(e,t)=>{e=new ke(e,t);let r=new k("0.0.0");if(e.test(r))return r;if(r=new k("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let s=null;n.forEach((e=>{const t=new k(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!te(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!te(r,s)||(r=s)}return r&&e.test(r)?r:null};var ft=(e,t)=>{try{return new ke(e,t).range||"*"}catch(e){return null}};const{ANY:dt}=it;var gt=(e,t,r,n)=>{let s,i,o,a,l;switch(e=new k(e,n),t=new ke(t,n),r){case">":s=te,i=ie,o=re,a=">",l=">=";break;case"<":s=re,i=se,o=te,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lt(e,t,n))return!1;for(let r=0;r<t.set.length;++r){const u=t.set[r];let c=null,h=null;if(u.forEach((e=>{e.semver===dt&&(e=new it(">=0.0.0")),c=c||e,h=h||e,s(e.semver,c.semver,n)?c=e:o(e.semver,h.semver,n)&&(h=e)})),c.operator===a||c.operator===l)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var mt=(e,t,r)=>gt(e,t,">",r);var Et=(e,t,r)=>gt(e,t,"<",r);var vt=(e,t,r)=>(e=new ke(e,r),t=new ke(t,r),e.intersects(t));const{ANY:yt}=it,_t=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===yt){if(1===t.length&&t[0].semver===yt)return!0;e=r.includePrerelease?[new it(">=0.0.0-0")]:[new it(">=0.0.0")]}if(1===t.length&&t[0].semver===yt){if(r.includePrerelease)return!0;t=[new it(">=0.0.0")]}const n=new Set;let s,i,o,a,l,u,c;for(const t of e)">"===t.operator||">="===t.operator?s=Rt(s,t,r):"<"===t.operator||"<="===t.operator?i=St(i,t,r):n.add(t.semver);if(n.size>1)return null;if(s&&i){if(o=U(s.semver,i.semver,r),o>0)return null;if(0===o&&(">="!==s.operator||"<="!==i.operator))return null}for(const e of n){if(s&&!lt(e,String(s),r))return null;if(i&&!lt(e,String(i),r))return null;for(const n of t)if(!lt(e,String(n),r))return!1;return!0}let h=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,p=!(!s||r.includePrerelease||!s.semver.prerelease.length)&&s.semver;h&&1===h.prerelease.length&&"<"===i.operator&&0===h.prerelease[0]&&(h=!1);for(const e of t){if(c=c||">"===e.operator||">="===e.operator,u=u||"<"===e.operator||"<="===e.operator,s)if(p&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===p.major&&e.semver.minor===p.minor&&e.semver.patch===p.patch&&(p=!1),">"===e.operator||">="===e.operator){if(a=Rt(s,e,r),a===e&&a!==s)return!1}else if(">="===s.operator&&!lt(s.semver,String(e),r))return!1;if(i)if(h&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===h.major&&e.semver.minor===h.minor&&e.semver.patch===h.patch&&(h=!1),"<"===e.operator||"<="===e.operator){if(l=St(i,e,r),l===e&&l!==i)return!1}else if("<="===i.operator&&!lt(i.semver,String(e),r))return!1;if(!e.operator&&(i||s)&&0!==o)return!1}return!(s&&u&&!i&&0!==o)&&(!(i&&c&&!s&&0!==o)&&(!p&&!h))},Rt=(e,t,r)=>{if(!e)return t;const n=U(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},St=(e,t,r)=>{if(!e)return t;const n=U(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};var At=(e,t,r={})=>{if(e===t)return!0;e=new ke(e,r),t=new ke(t,r);let n=!1;e:for(const s of e.set){for(const e of t.set){const t=_t(s,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0},bt={re:A.re,src:A.src,tokens:A.t,SEMVER_SPEC_VERSION:R.SEMVER_SPEC_VERSION,SemVer:k,compareIdentifiers:T.compareIdentifiers,rcompareIdentifiers:T.rcompareIdentifiers,parse:H,valid:j,clean:G,inc:B,diff:V,major:W,minor:K,patch:q,prerelease:Y,compare:U,rcompare:Q,compareLoose:Z,compareBuild:z,sort:J,rsort:ee,gt:te,lt:re,eq:X,neq:ne,gte:se,lte:ie,cmp:oe,coerce:ue,Comparator:it,Range:ke,satisfies:lt,toComparators:ut,maxSatisfying:ct,minSatisfying:ht,minVersion:pt,validRange:ft,outside:gt,gtr:mt,ltr:Et,intersects:vt,simplifyRange:(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort(((e,t)=>U(e,t,r)));for(const e of o){lt(e,t,r)?(i=e,s||(s=e)):(i&&n.push([s,i]),i=null,s=null)}s&&n.push([s,null]);const a=[];for(const[e,t]of n)e===t?a.push(e):t||e!==o[0]?t?e===o[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const l=a.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return l.length<u.length?l:t},subset:At};var wt={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var $t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},Ot=_((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=wt,n=(t=e.exports={}).re=[],s=t.src=[],i=t.t={};let o=0;const a=(e,t,r)=>{const a=o++;$t(a,t),i[e]=a,s[a]=t,n[a]=new RegExp(t,r?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`),a("FULL",`^${s[i.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`),a("LOOSE",`^${s[i.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${s[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${s[i.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?)?)?`),a("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),a("COERCERTL",s[i.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",a("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",a("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})\\s+-\\s+(${s[i.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[i.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0.0.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const Tt=["includePrerelease","loose","rtl"];var It=e=>e?"object"!=typeof e?{loose:!0}:Tt.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const Lt=/^[0-9]+$/,Nt=(e,t)=>{const r=Lt.test(e),n=Lt.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var xt={compareIdentifiers:Nt,rcompareIdentifiers:(e,t)=>Nt(t,e)};const{MAX_LENGTH:Ct,MAX_SAFE_INTEGER:Pt}=wt,{re:kt,t:Dt}=Ot,{compareIdentifiers:Mt}=xt;class Ft{constructor(e,t){if(t=It(t),e instanceof Ft){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>Ct)throw new TypeError(`version is longer than ${Ct} characters`);$t("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?kt[Dt.LOOSE]:kt[Dt.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Pt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Pt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Pt||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Pt)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if($t("SemVer.compare",this.version,this.options,e),!(e instanceof Ft)){if("string"==typeof e&&e===this.version)return 0;e=new Ft(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ft||(e=new Ft(e,this.options)),Mt(this.major,e.major)||Mt(this.minor,e.minor)||Mt(this.patch,e.patch)}comparePre(e){if(e instanceof Ft||(e=new Ft(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if($t("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Mt(r,n)}while(++t)}compareBuild(e){e instanceof Ft||(e=new Ft(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if($t("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Mt(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var Ht=Ft;const{MAX_LENGTH:jt}=wt,{re:Gt,t:Bt}=Ot;var Ut=(e,t)=>{if(t=It(t),e instanceof Ht)return e;if("string"!=typeof e)return null;if(e.length>jt)return null;if(!(t.loose?Gt[Bt.LOOSE]:Gt[Bt.FULL]).test(e))return null;try{return new Ht(e,t)}catch(e){return null}};var Xt=(e,t)=>{const r=Ut(e,t);return r?r.version:null};var Vt=(e,t)=>{const r=Ut(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Wt=(e,t,r,n)=>{"string"==typeof r&&(n=r,r=void 0);try{return new Ht(e,r).inc(t,n).version}catch(e){return null}};var Kt=(e,t,r)=>new Ht(e,r).compare(new Ht(t,r));var qt=(e,t,r)=>0===Kt(e,t,r);var Yt=(e,t)=>{if(qt(e,t))return null;{const r=Ut(e),n=Ut(t),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",o=s?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==n[e])return i+e;return o}};var Qt=(e,t)=>new Ht(e,t).major;var Zt=(e,t)=>new Ht(e,t).minor;var zt=(e,t)=>new Ht(e,t).patch;var Jt=(e,t)=>{const r=Ut(e,t);return r&&r.prerelease.length?r.prerelease:null};var er=(e,t,r)=>Kt(t,e,r);var tr=(e,t)=>Kt(e,t,!0);var rr=(e,t,r)=>{const n=new Ht(e,r),s=new Ht(t,r);return n.compare(s)||n.compareBuild(s)};var nr=(e,t)=>e.sort(((e,r)=>rr(e,r,t)));var sr=(e,t)=>e.sort(((e,r)=>rr(r,e,t)));var ir=(e,t,r)=>Kt(e,t,r)>0;var or=(e,t,r)=>Kt(e,t,r)<0;var ar=(e,t,r)=>0!==Kt(e,t,r);var lr=(e,t,r)=>Kt(e,t,r)>=0;var ur=(e,t,r)=>Kt(e,t,r)<=0;var cr=(e,t,r,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return qt(e,r,n);case"!=":return ar(e,r,n);case">":return ir(e,r,n);case">=":return lr(e,r,n);case"<":return or(e,r,n);case"<=":return ur(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const{re:hr,t:pr}=Ot;var fr=(e,t)=>{if(e instanceof Ht)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=hr[pr.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),hr[pr.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;hr[pr.COERCERTL].lastIndex=-1}else r=e.match(hr[pr.COERCE]);return null===r?null:Ut(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},dr=gr;function gr(e){var t=this;if(t instanceof gr||(t=new gr),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function mr(e,t,r){var n=t===e.head?new yr(r,null,t,e):new yr(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function Er(e,t){e.tail=new yr(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function vr(e,t){e.head=new yr(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function yr(e,t,r,n){if(!(this instanceof yr))return new yr(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}gr.Node=yr,gr.create=gr,gr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},gr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},gr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},gr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Er(this,arguments[e]);return this.length},gr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)vr(this,arguments[e]);return this.length},gr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},gr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},gr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},gr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},gr.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},gr.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},gr.prototype.map=function(e,t){t=t||this;for(var r=new gr,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},gr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new gr,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},gr.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var s=0;null!==n;s++)r=e(r,n.value,s),n=n.next;return r},gr.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var s=this.length-1;null!==n;s--)r=e(r,n.value,s),n=n.prev;return r},gr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},gr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},gr.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new gr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;for(;null!==s&&n<t;n++,s=s.next)r.push(s.value);return r},gr.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new gr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;null!==s&&n>t;n--)s=s.prev;for(;null!==s&&n>e;n--,s=s.prev)r.push(s.value);return r},gr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var i=[];for(n=0;s&&n<t;n++)i.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=mr(this,s,r[n]);return i},gr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{!function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}(gr)}catch(e){}const _r=Symbol("max"),Rr=Symbol("length"),Sr=Symbol("lengthCalculator"),Ar=Symbol("allowStale"),br=Symbol("maxAge"),wr=Symbol("dispose"),$r=Symbol("noDisposeOnSet"),Or=Symbol("lruList"),Tr=Symbol("cache"),Ir=Symbol("updateAgeOnGet"),Lr=()=>1;const Nr=(e,t,r)=>{const n=e[Tr].get(t);if(n){const t=n.value;if(xr(e,t)){if(Pr(e,n),!e[Ar])return}else r&&(e[Ir]&&(n.value.now=Date.now()),e[Or].unshiftNode(n));return t.value}},xr=(e,t)=>{if(!t||!t.maxAge&&!e[br])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[br]&&r>e[br]},Cr=e=>{if(e[Rr]>e[_r])for(let t=e[Or].tail;e[Rr]>e[_r]&&null!==t;){const r=t.prev;Pr(e,t),t=r}},Pr=(e,t)=>{if(t){const r=t.value;e[wr]&&e[wr](r.key,r.value),e[Rr]-=r.length,e[Tr].delete(r.key),e[Or].removeNode(t)}};class kr{constructor(e,t,r,n,s){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=s||0}}const Dr=(e,t,r,n)=>{let s=r.value;xr(e,s)&&(Pr(e,r),e[Ar]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var Mr=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[_r]=e.max||1/0;const t=e.length||Lr;if(this[Sr]="function"!=typeof t?Lr:t,this[Ar]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[br]=e.maxAge||0,this[wr]=e.dispose,this[$r]=e.noDisposeOnSet||!1,this[Ir]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[_r]=e||1/0,Cr(this)}get max(){return this[_r]}set allowStale(e){this[Ar]=!!e}get allowStale(){return this[Ar]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[br]=e,Cr(this)}get maxAge(){return this[br]}set lengthCalculator(e){"function"!=typeof e&&(e=Lr),e!==this[Sr]&&(this[Sr]=e,this[Rr]=0,this[Or].forEach((e=>{e.length=this[Sr](e.value,e.key),this[Rr]+=e.length}))),Cr(this)}get lengthCalculator(){return this[Sr]}get length(){return this[Rr]}get itemCount(){return this[Or].length}rforEach(e,t){t=t||this;for(let r=this[Or].tail;null!==r;){const n=r.prev;Dr(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[Or].head;null!==r;){const n=r.next;Dr(this,e,r,t),r=n}}keys(){return this[Or].toArray().map((e=>e.key))}values(){return this[Or].toArray().map((e=>e.value))}reset(){this[wr]&&this[Or]&&this[Or].length&&this[Or].forEach((e=>this[wr](e.key,e.value))),this[Tr]=new Map,this[Or]=new dr,this[Rr]=0}dump(){return this[Or].map((e=>!xr(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Or]}set(e,t,r){if((r=r||this[br])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[Sr](t,e);if(this[Tr].has(e)){if(s>this[_r])return Pr(this,this[Tr].get(e)),!1;const i=this[Tr].get(e).value;return this[wr]&&(this[$r]||this[wr](e,i.value)),i.now=n,i.maxAge=r,i.value=t,this[Rr]+=s-i.length,i.length=s,this.get(e),Cr(this),!0}const i=new kr(e,t,s,n,r);return i.length>this[_r]?(this[wr]&&this[wr](e,t),!1):(this[Rr]+=i.length,this[Or].unshift(i),this[Tr].set(e,this[Or].head),Cr(this),!0)}has(e){if(!this[Tr].has(e))return!1;const t=this[Tr].get(e).value;return!xr(this,t)}get(e){return Nr(this,e,!0)}peek(e){return Nr(this,e,!1)}pop(){const e=this[Or].tail;return e?(Pr(this,e),e.value):null}del(e){Pr(this,this[Tr].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],s=n.e||0;if(0===s)this.set(n.k,n.v);else{const e=s-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[Tr].forEach(((e,t)=>Nr(this,t,!1)))}};class Fr{constructor(e,t){if(t=It(t),e instanceof Fr)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Fr(e.raw,t);if(e instanceof cn)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!Wr(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&Kr(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=jr.get(t);if(r)return r;const n=this.options.loose,s=n?Gr[Br.HYPHENRANGELOOSE]:Gr[Br.HYPHENRANGE];e=e.replace(s,on(this.options.includePrerelease)),$t("hyphen replace",e),e=e.replace(Gr[Br.COMPARATORTRIM],Ur),$t("comparator trim",e,Gr[Br.COMPARATORTRIM]),e=(e=(e=e.replace(Gr[Br.TILDETRIM],Xr)).replace(Gr[Br.CARETTRIM],Vr)).split(/\s+/).join(" ");const i=n?Gr[Br.COMPARATORLOOSE]:Gr[Br.COMPARATOR],o=e.split(" ").map((e=>Yr(e,this.options))).join(" ").split(/\s+/).map((e=>sn(e,this.options))).filter(this.options.loose?e=>!!e.match(i):()=>!0).map((e=>new cn(e,this.options)));o.length;const a=new Map;for(const e of o){if(Wr(e))return[e];a.set(e.value,e)}a.size>1&&a.has("")&&a.delete("");const l=[...a.values()];return jr.set(t,l),l}intersects(e,t){if(!(e instanceof Fr))throw new TypeError("a Range is required");return this.set.some((r=>qr(r,t)&&e.set.some((e=>qr(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new Ht(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(an(this.set[t],e,this.options))return!0;return!1}}var Hr=Fr;const jr=new Mr({max:1e3}),{re:Gr,t:Br,comparatorTrimReplace:Ur,tildeTrimReplace:Xr,caretTrimReplace:Vr}=Ot,Wr=e=>"<0.0.0-0"===e.value,Kr=e=>""===e.value,qr=(e,t)=>{let r=!0;const n=e.slice();let s=n.pop();for(;r&&n.length;)r=n.every((e=>s.intersects(e,t))),s=n.pop();return r},Yr=(e,t)=>($t("comp",e,t),e=Jr(e,t),$t("caret",e),e=Zr(e,t),$t("tildes",e),e=tn(e,t),$t("xrange",e),e=nn(e,t),$t("stars",e),e),Qr=e=>!e||"x"===e.toLowerCase()||"*"===e,Zr=(e,t)=>e.trim().split(/\s+/).map((e=>zr(e,t))).join(" "),zr=(e,t)=>{const r=t.loose?Gr[Br.TILDELOOSE]:Gr[Br.TILDE];return e.replace(r,((t,r,n,s,i)=>{let o;return $t("tilde",e,t,r,n,s,i),Qr(r)?o="":Qr(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:Qr(s)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?($t("replaceTilde pr",i),o=`>=${r}.${n}.${s}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${s} <${r}.${+n+1}.0-0`,$t("tilde return",o),o}))},Jr=(e,t)=>e.trim().split(/\s+/).map((e=>en(e,t))).join(" "),en=(e,t)=>{$t("caret",e,t);const r=t.loose?Gr[Br.CARETLOOSE]:Gr[Br.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,s,i,o)=>{let a;return $t("caret",e,t,r,s,i,o),Qr(r)?a="":Qr(s)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:Qr(i)?a="0"===r?`>=${r}.${s}.0${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${n} <${+r+1}.0.0-0`:o?($t("replaceCaret pr",o),a="0"===r?"0"===s?`>=${r}.${s}.${i}-${o} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i}-${o} <${+r+1}.0.0-0`):($t("no pr"),a="0"===r?"0"===s?`>=${r}.${s}.${i}${n} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i} <${+r+1}.0.0-0`),$t("caret return",a),a}))},tn=(e,t)=>($t("replaceXRanges",e,t),e.split(/\s+/).map((e=>rn(e,t))).join(" ")),rn=(e,t)=>{e=e.trim();const r=t.loose?Gr[Br.XRANGELOOSE]:Gr[Br.XRANGE];return e.replace(r,((r,n,s,i,o,a)=>{$t("xRange",e,r,n,s,i,o,a);const l=Qr(s),u=l||Qr(i),c=u||Qr(o),h=c;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(i=0),o=0,">"===n?(n=">=",u?(s=+s+1,i=0,o=0):(i=+i+1,o=0)):"<="===n&&(n="<",u?s=+s+1:i=+i+1),"<"===n&&(a="-0"),r=`${n+s}.${i}.${o}${a}`):u?r=`>=${s}.0.0${a} <${+s+1}.0.0-0`:c&&(r=`>=${s}.${i}.0${a} <${s}.${+i+1}.0-0`),$t("xRange return",r),r}))},nn=(e,t)=>($t("replaceStars",e,t),e.trim().replace(Gr[Br.STAR],"")),sn=(e,t)=>($t("replaceGTE0",e,t),e.trim().replace(Gr[t.includePrerelease?Br.GTE0PRE:Br.GTE0],"")),on=e=>(t,r,n,s,i,o,a,l,u,c,h,p,f)=>`${r=Qr(n)?"":Qr(s)?`>=${n}.0.0${e?"-0":""}`:Qr(i)?`>=${n}.${s}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=Qr(u)?"":Qr(c)?`<${+u+1}.0.0-0`:Qr(h)?`<${u}.${+c+1}.0-0`:p?`<=${u}.${c}.${h}-${p}`:e?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),an=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if($t(e[r].semver),e[r].semver!==cn.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0},ln=Symbol("SemVer ANY");class un{static get ANY(){return ln}constructor(e,t){if(t=It(t),e instanceof un){if(e.loose===!!t.loose)return e;e=e.value}$t("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ln?this.value="":this.value=this.operator+this.semver.version,$t("comp",this)}parse(e){const t=this.options.loose?hn[pn.COMPARATORLOOSE]:hn[pn.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new Ht(r[2],this.options.loose):this.semver=ln}toString(){return this.value}test(e){if($t("Comparator.test",e,this.options.loose),this.semver===ln||e===ln)return!0;if("string"==typeof e)try{e=new Ht(e,this.options)}catch(e){return!1}return cr(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof un))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new Hr(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new Hr(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=cr(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),a=cr(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||s&&i||o||a}}var cn=un;const{re:hn,t:pn}=Ot;var fn=(e,t,r)=>{try{t=new Hr(t,r)}catch(e){return!1}return t.test(e)};var dn=(e,t)=>new Hr(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));var gn=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Hr(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&-1!==s.compare(e)||(n=e,s=new Ht(n,r)))})),n};var mn=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Hr(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&1!==s.compare(e)||(n=e,s=new Ht(n,r)))})),n};var En=(e,t)=>{e=new Hr(e,t);let r=new Ht("0.0.0");if(e.test(r))return r;if(r=new Ht("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let s=null;n.forEach((e=>{const t=new Ht(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!ir(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!ir(r,s)||(r=s)}return r&&e.test(r)?r:null};var vn=(e,t)=>{try{return new Hr(e,t).range||"*"}catch(e){return null}};const{ANY:yn}=cn;var _n=(e,t,r,n)=>{let s,i,o,a,l;switch(e=new Ht(e,n),t=new Hr(t,n),r){case">":s=ir,i=ur,o=or,a=">",l=">=";break;case"<":s=or,i=lr,o=ir,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(fn(e,t,n))return!1;for(let r=0;r<t.set.length;++r){const u=t.set[r];let c=null,h=null;if(u.forEach((e=>{e.semver===yn&&(e=new cn(">=0.0.0")),c=c||e,h=h||e,s(e.semver,c.semver,n)?c=e:o(e.semver,h.semver,n)&&(h=e)})),c.operator===a||c.operator===l)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var Rn=(e,t,r)=>_n(e,t,">",r);var Sn=(e,t,r)=>_n(e,t,"<",r);var An=(e,t,r)=>(e=new Hr(e,r),t=new Hr(t,r),e.intersects(t));const{ANY:bn}=cn,wn=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===bn){if(1===t.length&&t[0].semver===bn)return!0;e=r.includePrerelease?[new cn(">=0.0.0-0")]:[new cn(">=0.0.0")]}if(1===t.length&&t[0].semver===bn){if(r.includePrerelease)return!0;t=[new cn(">=0.0.0")]}const n=new Set;let s,i,o,a,l,u,c;for(const t of e)">"===t.operator||">="===t.operator?s=$n(s,t,r):"<"===t.operator||"<="===t.operator?i=On(i,t,r):n.add(t.semver);if(n.size>1)return null;if(s&&i){if(o=Kt(s.semver,i.semver,r),o>0)return null;if(0===o&&(">="!==s.operator||"<="!==i.operator))return null}for(const e of n){if(s&&!fn(e,String(s),r))return null;if(i&&!fn(e,String(i),r))return null;for(const n of t)if(!fn(e,String(n),r))return!1;return!0}let h=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,p=!(!s||r.includePrerelease||!s.semver.prerelease.length)&&s.semver;h&&1===h.prerelease.length&&"<"===i.operator&&0===h.prerelease[0]&&(h=!1);for(const e of t){if(c=c||">"===e.operator||">="===e.operator,u=u||"<"===e.operator||"<="===e.operator,s)if(p&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===p.major&&e.semver.minor===p.minor&&e.semver.patch===p.patch&&(p=!1),">"===e.operator||">="===e.operator){if(a=$n(s,e,r),a===e&&a!==s)return!1}else if(">="===s.operator&&!fn(s.semver,String(e),r))return!1;if(i)if(h&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===h.major&&e.semver.minor===h.minor&&e.semver.patch===h.patch&&(h=!1),"<"===e.operator||"<="===e.operator){if(l=On(i,e,r),l===e&&l!==i)return!1}else if("<="===i.operator&&!fn(i.semver,String(e),r))return!1;if(!e.operator&&(i||s)&&0!==o)return!1}return!(s&&u&&!i&&0!==o)&&(!(i&&c&&!s&&0!==o)&&(!p&&!h))},$n=(e,t,r)=>{if(!e)return t;const n=Kt(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},On=(e,t,r)=>{if(!e)return t;const n=Kt(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};var Tn=(e,t,r={})=>{if(e===t)return!0;e=new Hr(e,r),t=new Hr(t,r);let n=!1;e:for(const s of e.set){for(const e of t.set){const t=wn(s,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0},In={re:Ot.re,src:Ot.src,tokens:Ot.t,SEMVER_SPEC_VERSION:wt.SEMVER_SPEC_VERSION,SemVer:Ht,compareIdentifiers:xt.compareIdentifiers,rcompareIdentifiers:xt.rcompareIdentifiers,parse:Ut,valid:Xt,clean:Vt,inc:Wt,diff:Yt,major:Qt,minor:Zt,patch:zt,prerelease:Jt,compare:Kt,rcompare:er,compareLoose:tr,compareBuild:rr,sort:nr,rsort:sr,gt:ir,lt:or,eq:qt,neq:ar,gte:lr,lte:ur,cmp:cr,coerce:fr,Comparator:cn,Range:Hr,satisfies:fn,toComparators:dn,maxSatisfying:gn,minSatisfying:mn,minVersion:En,validRange:vn,outside:_n,gtr:Rn,ltr:Sn,intersects:An,simplifyRange:(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort(((e,t)=>Kt(e,t,r)));for(const e of o){fn(e,t,r)?(i=e,s||(s=e)):(i&&n.push([s,i]),i=null,s=null)}s&&n.push([s,null]);const a=[];for(const[e,t]of n)e===t?a.push(e):t||e!==o[0]?t?e===o[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const l=a.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return l.length<u.length?l:t},subset:Tn},Ln=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return In.clean(e,{loose:!0,includePrerelease:!0})||In.valid(In.coerce(e))},Nn=e=>((e,t)=>{t={includePrereleases:!0,clean:!0,...t};let r=e.map((e=>e.trim())).map((e=>[e,Ln(e)])).filter((e=>e[1])).sort(((e,t)=>bt.rcompare(e[1],t[1])));return t.includePrereleases||(r=r.filter((e=>null===bt.prerelease(e[1])))),t.clean?r.map((e=>e[1])):r.map((([e])=>e))})(e,{includePrereleases:!1})[0];function xn(e){return d(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.promises.access(e,t.constants.F_OK)];case 1:return r.sent(),[3,3];case 2:return r.sent(),[2,!1];case 3:return[2,!0]}}))}))}function Cn(){return d(this,void 0,void 0,(function(){var e,t;return g(this,(function(n){switch(n.label){case 0:return e=r.dirname(atom.config.getUserConfigPath()),[4,xn(t=r.join(e,".apm")||null)];case 1:return[2,n.sent()?t:null]}}))}))}function Pn(e){return d(this,void 0,void 0,(function(){var r;return g(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.promises.lstat(e)];case 1:return r=n.sent(),[3,3];case 2:return n.sent(),[2,!1];case 3:return[2,r.isDirectory()]}}))}))}function kn(e){var t=Nn(e),r=e.indexOf(t);return e.splice(r,1),[t,e]}var Dn=(...e)=>[...new Set([].concat(...e))];const Mn=c.default.PassThrough,Fn=Array.prototype.slice;var Hn=function(){const e=[],t=Fn.call(arguments);let r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&null==n.pipe?t.pop():n={};const s=!1!==n.end,i=!0===n.pipeError;null==n.objectMode&&(n.objectMode=!0);null==n.highWaterMark&&(n.highWaterMark=65536);const o=Mn(n);function a(){for(let t=0,r=arguments.length;t<r;t++)e.push(jn(arguments[t],n));return l(),this}function l(){if(r)return;r=!0;let t=e.shift();if(!t)return void process.nextTick(u);Array.isArray(t)||(t=[t]);let n=t.length+1;function s(){--n>0||(r=!1,l())}function a(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),i&&e.removeListener("error",r),s()}function r(e){o.emit("error",e)}if(e._readableState.endEmitted)return s();e.on("merge2UnpipeEnd",t),e.on("end",t),i&&e.on("error",r),e.pipe(o,{end:!1}),e.resume()}for(let e=0;e<t.length;e++)a(t[e]);s()}function u(){r=!1,o.emit("queueDrain"),s&&o.end()}o.setMaxListeners(0),o.add=a,o.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),t.length&&a.apply(null,t);return o};function jn(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=jn(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(Mn(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}var Gn=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.splitWhen=t.flatten=void 0,t.flatten=function(e){return e.reduce(((e,t)=>[].concat(e,t)),[])},t.splitWhen=function(e,t){const r=[[]];let n=0;for(const s of e)t(s)?(n++,r[n]=[]):r[n].push(s);return r}})),Bn=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEnoentCodeError=void 0,t.isEnoentCodeError=function(e){return"ENOENT"===e.code}})),Un=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}})),Xn=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.removeLeadingDotSegment=t.escape=t.makeAbsolute=t.unixify=void 0;const r=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;t.unixify=function(e){return e.replace(/\\/g,"/")},t.makeAbsolute=function(e,t){return u.default.resolve(e,t)},t.escape=function(e){return e.replace(r,"\\$2")},t.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){const t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e}})),Vn={"{":"}","(":")","[":"]"},Wn=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,Kn=/\\(.)|(^!|[*?{}()[\]]|\(\?)/,qn=function(e,t){if("string"!=typeof e||""===e)return!1;if(function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}(e))return!0;var r,n=Wn;for(t&&!1===t.strict&&(n=Kn);r=n.exec(e);){if(r[2])return!0;var s=r.index+r[0].length,i=r[1],o=i?Vn[i]:null;if(i&&o){var a=e.indexOf(o,s);-1!==a&&(s=a+1)}e=e.slice(s)}return!1},Yn=u.default.posix.dirname,Qn="win32"===h.default.platform(),Zn=/\\/g,zn=/[\{\[].*[\}\]]$/,Jn=/(^|[^\\])([\{\[]|\([^\)]+$)/,es=/\\([\!\*\?\|\[\]\(\)\{\}])/g,ts=_((function(e,t){t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find((e=>e.type===t)),t.exceedsLimit=(e,r,n=1,s)=>!1!==s&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(n)>=s),t.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let n=0;n<e.length;n++){let s=e[n];Array.isArray(s)?r(s):void 0!==s&&t.push(s)}return t};return r(e),t}})),rs=(e,t={})=>{let r=(e,n={})=>{let s=t.escapeInvalid&&ts.isInvalidBrace(n),i=!0===e.invalid&&!0===t.escapeInvalid,o="";if(e.value)return(s||i)&&ts.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)o+=r(t);return o};return r(e)},ns=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))};
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
const ss=(e,t,r)=>{if(!1===ns(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===ns(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};"boolean"==typeof n.strictZeros&&(n.relaxZeros=!1===n.strictZeros);let s=e+":"+t+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture)+String(n.wrap);if(ss.cache.hasOwnProperty(s))return ss.cache[s].result;let i=Math.min(e,t),o=Math.max(e,t);if(1===Math.abs(i-o)){let r=e+"|"+t;return n.capture?`(${r})`:!1===n.wrap?r:`(?:${r})`}let a=ds(e)||ds(t),l={min:e,max:t,a:i,b:o},u=[],c=[];if(a&&(l.isPadded=a,l.maxLen=String(l.max).length),i<0){c=os(o<0?Math.abs(o):1,Math.abs(i),l,n),i=l.a=0}return o>=0&&(u=os(i,o,l,n)),l.negatives=c,l.positives=u,l.result=function(e,t,r){let n=as(e,t,"-",!1)||[],s=as(t,e,"",!1)||[],i=as(e,t,"-?",!0)||[];return n.concat(i).concat(s).join("|")}(c,u),!0===n.capture?l.result=`(${l.result})`:!1!==n.wrap&&u.length+c.length>1&&(l.result=`(?:${l.result})`),ss.cache[s]=l,l.result};function is(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}(e,t),s=n.length,i="",o=0;for(let e=0;e<s;e++){let[t,r]=n[e];t===r?i+=t:"0"!==t||"9"!==r?i+=fs(t,r):o++}return o&&(i+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:i,count:[o],digits:s}}function os(e,t,r,n){let s,i=function(e,t){let r=1,n=1,s=cs(e,r),i=new Set([t]);for(;e<=s&&s<=t;)i.add(s),r+=1,s=cs(e,r);for(s=hs(t+1,n)-1;e<s&&s<=t;)i.add(s),n+=1,s=hs(t+1,n)-1;return i=[...i],i.sort(ls),i}(e,t),o=[],a=e;for(let e=0;e<i.length;e++){let t=i[e],l=is(String(a),String(t),n),u="";r.isPadded||!s||s.pattern!==l.pattern?(r.isPadded&&(u=gs(t,r,n)),l.string=u+l.pattern+ps(l.count),o.push(l),a=t+1,s=l):(s.count.length>1&&s.count.pop(),s.count.push(l.count[0]),s.string=s.pattern+ps(s.count),a=t+1)}return o}function as(e,t,r,n,s){let i=[];for(let s of e){let{string:e}=s;n||us(t,"string",e)||i.push(r+e),n&&us(t,"string",e)&&i.push(r+e)}return i}function ls(e,t){return e>t?1:t>e?-1:0}function us(e,t,r){return e.some((e=>e[t]===r))}function cs(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function hs(e,t){return e-e%Math.pow(10,t)}function ps(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function fs(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function ds(e){return/^-?(0+)\d/.test(e)}function gs(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}ss.cache={},ss.clearCache=()=>ss.cache={};var ms=ss;
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const Es=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),vs=e=>"number"==typeof e||"string"==typeof e&&""!==e,ys=e=>Number.isInteger(+e),_s=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},Rs=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},Ss=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},As=(e,t,r,n)=>{if(r)return ms(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},bs=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,n=r.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return ms(e,t,r)},ws=(...e)=>new RangeError("Invalid range arguments: "+p.default.inspect(...e)),$s=(e,t,r)=>{if(!0===r.strictRanges)throw ws([e,t]);return[]},Os=(e,t,r=1,n={})=>{let s=Number(e),i=Number(t);if(!Number.isInteger(s)||!Number.isInteger(i)){if(!0===n.strictRanges)throw ws([e,t]);return[]}0===s&&(s=0),0===i&&(i=0);let o=s>i,a=String(e),l=String(t),u=String(r);r=Math.max(Math.abs(r),1);let c=_s(a)||_s(l)||_s(u),h=c?Math.max(a.length,l.length,u.length):0,p=!1===c&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,n),f=n.transform||(e=>t=>!0===e?Number(t):String(t))(p);if(n.toRegex&&1===r)return As(Ss(e,h),Ss(t,h),!0,n);let d={negatives:[],positives:[]},g=[],m=0;for(;o?s>=i:s<=i;)!0===n.toRegex&&r>1?d[(E=s)<0?"negatives":"positives"].push(Math.abs(E)):g.push(Rs(f(s,m),h,p)),s=o?s-r:s+r,m++;var E;return!0===n.toRegex?r>1?((e,t)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let r,n=t.capture?"":"?:",s="",i="";return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(i=`-(${n}${e.negatives.join("|")})`),r=s&&i?`${s}|${i}`:s||i,t.wrap?`(${n}${r})`:r})(d,n):bs(g,null,{wrap:!1,...n}):g},Ts=(e,t,r,n={})=>{if(null==t&&vs(e))return[e];if(!vs(e)||!vs(t))return $s(e,t,n);if("function"==typeof r)return Ts(e,t,1,{transform:r});if(Es(r))return Ts(e,t,0,r);let s={...n};return!0===s.capture&&(s.wrap=!0),r=r||s.step||1,ys(r)?ys(e)&&ys(t)?Os(e,t,r,s):((e,t,r=1,n={})=>{if(!ys(e)&&e.length>1||!ys(t)&&t.length>1)return $s(e,t,n);let s=n.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=i>o,l=Math.min(i,o),u=Math.max(i,o);if(n.toRegex&&1===r)return As(l,u,!1,n);let c=[],h=0;for(;a?i>=o:i<=o;)c.push(s(i,h)),i=a?i-r:i+r,h++;return!0===n.toRegex?bs(c,null,{wrap:!1,options:n}):c})(e,t,Math.max(Math.abs(r),1),s):null==r||Es(r)?Ts(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,s)};var Is=Ts;var Ls=(e,t={})=>{let r=(e,n={})=>{let s=ts.isInvalidBrace(n),i=!0===e.invalid&&!0===t.escapeInvalid,o=!0===s||!0===i,a=!0===t.escapeInvalid?"\\":"",l="";if(!0===e.isOpen)return a+e.value;if(!0===e.isClose)return a+e.value;if("open"===e.type)return o?a+e.value:"(";if("close"===e.type)return o?a+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":o?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=ts.reduce(e.nodes),n=Is(...r,{...t,wrap:!1,toRegex:!0});if(0!==n.length)return r.length>1&&n.length>1?`(${n})`:n}if(e.nodes)for(let t of e.nodes)l+=r(t,e);return l};return r(e)};const Ns=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?ts.flatten(t).map((e=>`{${e}}`)):t;for(let s of e)if(Array.isArray(s))for(let e of s)n.push(Ns(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?Ns(s,e,r):s+e);return ts.flatten(n)};var xs=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,n=(e,s={})=>{e.queue=[];let i=s,o=s.queue;for(;"brace"!==i.type&&"root"!==i.type&&i.parent;)i=i.parent,o=i.queue;if(e.invalid||e.dollar)return void o.push(Ns(o.pop(),rs(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void o.push(Ns(o.pop(),["{}"]));if(e.nodes&&e.ranges>0){let n=ts.reduce(e.nodes);if(ts.exceedsLimit(...n,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let s=Is(...n,t);return 0===s.length&&(s=rs(e,t)),o.push(Ns(o.pop(),s)),void(e.nodes=[])}let a=ts.encloseBrace(e),l=e.queue,u=e;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,l=u.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?l.push(Ns(l.pop(),r.value)):r.nodes&&n(r,e):o.push(Ns(o.pop(),l,a)):(1===t&&l.push(""),l.push(""))}return l};return ts.flatten(n(e))};const{MAX_LENGTH:Cs,CHAR_BACKSLASH:Ps,CHAR_BACKTICK:ks,CHAR_COMMA:Ds,CHAR_DOT:Ms,CHAR_LEFT_PARENTHESES:Fs,CHAR_RIGHT_PARENTHESES:Hs,CHAR_LEFT_CURLY_BRACE:js,CHAR_RIGHT_CURLY_BRACE:Gs,CHAR_LEFT_SQUARE_BRACKET:Bs,CHAR_RIGHT_SQUARE_BRACKET:Us,CHAR_DOUBLE_QUOTE:Xs,CHAR_SINGLE_QUOTE:Vs,CHAR_NO_BREAK_SPACE:Ws,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Ks}={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};var qs=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},n="number"==typeof r.maxLength?Math.min(Cs,r.maxLength):Cs;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s,i={type:"root",input:e,nodes:[]},o=[i],a=i,l=i,u=0,c=e.length,h=0,p=0;const f=()=>e[h++],d=e=>{if("text"===e.type&&"dot"===l.type&&(l.type="text"),!l||"text"!==l.type||"text"!==e.type)return a.nodes.push(e),e.parent=a,e.prev=l,l=e,e;l.value+=e.value};for(d({type:"bos"});h<c;)if(a=o[o.length-1],s=f(),s!==Ks&&s!==Ws)if(s!==Ps)if(s!==Us)if(s!==Bs)if(s!==Fs)if(s!==Hs)if(s!==Xs&&s!==Vs&&s!==ks)if(s!==js)if(s!==Gs)if(s===Ds&&p>0){if(a.ranges>0){a.ranges=0;let e=a.nodes.shift();a.nodes=[e,{type:"text",value:rs(a)}]}d({type:"comma",value:s}),a.commas++}else if(s===Ms&&p>0&&0===a.commas){let e=a.nodes;if(0===p||0===e.length){d({type:"text",value:s});continue}if("dot"===l.type){if(a.range=[],l.value+=s,l.type="range",3!==a.nodes.length&&5!==a.nodes.length){a.invalid=!0,a.ranges=0,l.type="text";continue}a.ranges++,a.args=[];continue}if("range"===l.type){e.pop();let t=e[e.length-1];t.value+=l.value+s,l=t,a.ranges--;continue}d({type:"dot",value:s})}else d({type:"text",value:s});else{if("brace"!==a.type){d({type:"text",value:s});continue}let e="close";a=o.pop(),a.close=!0,d({type:e,value:s}),p--,a=o[o.length-1]}else{p++;let e=l.value&&"$"===l.value.slice(-1)||!0===a.dollar;a=d({type:"brace",open:!0,close:!1,dollar:e,depth:p,commas:0,ranges:0,nodes:[]}),o.push(a),d({type:"open",value:s})}else{let e,r=s;for(!0!==t.keepQuotes&&(s="");h<c&&(e=f());)if(e!==Ps){if(e===r){!0===t.keepQuotes&&(s+=e);break}s+=e}else s+=e+f();d({type:"text",value:s})}else{if("paren"!==a.type){d({type:"text",value:s});continue}a=o.pop(),d({type:"text",value:s}),a=o[o.length-1]}else a=d({type:"paren",nodes:[]}),o.push(a),d({type:"text",value:s});else{let e;for(u++;h<c&&(e=f());)if(s+=e,e!==Bs)if(e!==Ps){if(e===Us&&(u--,0===u))break}else s+=f();else u++;d({type:"text",value:s})}else d({type:"text",value:"\\"+s});else d({type:"text",value:(t.keepEscaping?s:"")+f()});do{if(a=o.pop(),"root"!==a.type){a.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));let e=o[o.length-1],t=e.nodes.indexOf(a);e.nodes.splice(t,1,...a.nodes)}}while(o.length>0);return d({type:"eos"}),i};const Ys=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let e=Ys.create(n,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(Ys.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};Ys.parse=(e,t={})=>qs(e,t),Ys.stringify=(e,t={})=>rs("string"==typeof e?Ys.parse(e,t):e,t),Ys.compile=(e,t={})=>("string"==typeof e&&(e=Ys.parse(e,t)),Ls(e,t)),Ys.expand=(e,t={})=>{"string"==typeof e&&(e=Ys.parse(e,t));let r=xs(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},Ys.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?Ys.compile(e,t):Ys.expand(e,t);var Qs=Ys;const Zs={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},zs={...Zs,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};var Js={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:u.default.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?zs:Zs},ei=_((function(e,t){const r="win32"===process.platform,{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o}=Js;t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>i.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(o,"\\$1"),t.toPosixSlashes=e=>e.replace(n,"/"),t.removeBackslashes=e=>e.replace(s,(e=>"\\"===e?"":e)),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===u.default.sep,t.escapeLast=(e,r,n)=>{const s=e.lastIndexOf(r,n);return-1===s?e:"\\"===e[s-1]?t.escapeLast(e,r,s-1):`${e.slice(0,s)}\\${e.slice(s)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}}));const{CHAR_ASTERISK:ti,CHAR_AT:ri,CHAR_BACKWARD_SLASH:ni,CHAR_COMMA:si,CHAR_DOT:ii,CHAR_EXCLAMATION_MARK:oi,CHAR_FORWARD_SLASH:ai,CHAR_LEFT_CURLY_BRACE:li,CHAR_LEFT_PARENTHESES:ui,CHAR_LEFT_SQUARE_BRACKET:ci,CHAR_PLUS:hi,CHAR_QUESTION_MARK:pi,CHAR_RIGHT_CURLY_BRACE:fi,CHAR_RIGHT_PARENTHESES:di,CHAR_RIGHT_SQUARE_BRACKET:gi}=Js,mi=e=>e===ai||e===ni,Ei=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};var vi=(e,t)=>{const r=t||{},n=e.length-1,s=!0===r.parts||!0===r.scanToEnd,i=[],o=[],a=[];let l,u,c=e,h=-1,p=0,f=0,d=!1,g=!1,m=!1,E=!1,v=!1,y=!1,_=!1,R=!1,S=!1,A=0,b={value:"",depth:0,isGlob:!1};const w=()=>h>=n,$=()=>(l=u,c.charCodeAt(++h));for(;h<n;){let e;if(u=$(),u!==ni){if(!0===y||u===li){for(A++;!0!==w()&&(u=$());)if(u!==ni)if(u!==li){if(!0!==y&&u===ii&&(u=$())===ii){if(d=b.isBrace=!0,m=b.isGlob=!0,S=!0,!0===s)continue;break}if(!0!==y&&u===si){if(d=b.isBrace=!0,m=b.isGlob=!0,S=!0,!0===s)continue;break}if(u===fi&&(A--,0===A)){y=!1,d=b.isBrace=!0,S=!0;break}}else A++;else _=b.backslashes=!0,$();if(!0===s)continue;break}if(u!==ai){if(!0!==r.noext){if(!0===(u===hi||u===ri||u===ti||u===pi||u===oi)&&c.charCodeAt(h+1)===ui){if(m=b.isGlob=!0,E=b.isExtglob=!0,S=!0,!0===s){for(;!0!==w()&&(u=$());)if(u!==ni){if(u===di){m=b.isGlob=!0,S=!0;break}}else _=b.backslashes=!0,u=$();continue}break}}if(u===ti){if(l===ti&&(v=b.isGlobstar=!0),m=b.isGlob=!0,S=!0,!0===s)continue;break}if(u===pi){if(m=b.isGlob=!0,S=!0,!0===s)continue;break}if(u===ci){for(;!0!==w()&&(e=$());)if(e!==ni){if(e===gi){g=b.isBracket=!0,m=b.isGlob=!0,S=!0;break}}else _=b.backslashes=!0,$();if(!0===s)continue;break}if(!0===r.nonegate||u!==oi||h!==p){if(!0!==r.noparen&&u===ui){if(m=b.isGlob=!0,!0===s){for(;!0!==w()&&(u=$());)if(u!==ui){if(u===di){S=!0;break}}else _=b.backslashes=!0,u=$();continue}break}if(!0===m){if(S=!0,!0===s)continue;break}}else R=b.negated=!0,p++}else{if(i.push(h),o.push(b),b={value:"",depth:0,isGlob:!1},!0===S)continue;if(l===ii&&h===p+1){p+=2;continue}f=h+1}}else _=b.backslashes=!0,u=$(),u===li&&(y=!0)}!0===r.noext&&(E=!1,m=!1);let O=c,T="",I="";p>0&&(T=c.slice(0,p),c=c.slice(p),f-=p),O&&!0===m&&f>0?(O=c.slice(0,f),I=c.slice(f)):!0===m?(O="",I=c):O=c,O&&""!==O&&"/"!==O&&O!==c&&mi(O.charCodeAt(O.length-1))&&(O=O.slice(0,-1)),!0===r.unescape&&(I&&(I=ei.removeBackslashes(I)),O&&!0===_&&(O=ei.removeBackslashes(O)));const L={prefix:T,input:e,start:p,base:O,glob:I,isBrace:d,isBracket:g,isGlob:m,isExtglob:E,isGlobstar:v,negated:R};if(!0===r.tokens&&(L.maxDepth=0,mi(u)||o.push(b),L.tokens=o),!0===r.parts||!0===r.tokens){let t;for(let n=0;n<i.length;n++){const s=t?t+1:p,l=i[n],u=e.slice(s,l);r.tokens&&(0===n&&0!==p?(o[n].isPrefix=!0,o[n].value=T):o[n].value=u,Ei(o[n]),L.maxDepth+=o[n].depth),0===n&&""===u||a.push(u),t=l}if(t&&t+1<e.length){const n=e.slice(t+1);a.push(n),r.tokens&&(o[o.length-1].value=n,Ei(o[o.length-1]),L.maxDepth+=o[o.length-1].depth)}L.slashes=i,L.parts=a}return L};const{MAX_LENGTH:yi,POSIX_REGEX_SOURCE:_i,REGEX_NON_SPECIAL_CHARS:Ri,REGEX_SPECIAL_CHARS_BACKREF:Si,REPLACEMENTS:Ai}=Js,bi=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map((e=>ei.escapeRegex(e))).join("..")}return r},wi=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,$i=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=Ai[e]||e;const r={...t},n="number"==typeof r.maxLength?Math.min(yi,r.maxLength):yi;let s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);const i={type:"bos",value:"",output:r.prepend||""},o=[i],a=r.capture?"":"?:",l=ei.isWindows(t),u=Js.globChars(l),c=Js.extglobChars(u),{DOT_LITERAL:h,PLUS_LITERAL:p,SLASH_LITERAL:f,ONE_CHAR:d,DOTS_SLASH:g,NO_DOT:m,NO_DOT_SLASH:E,NO_DOTS_SLASH:v,QMARK:y,QMARK_NO_DOT:_,STAR:R,START_ANCHOR:S}=u,A=e=>`(${a}(?:(?!${S}${e.dot?g:h}).)*?)`,b=r.dot?"":m,w=r.dot?y:_;let $=!0===r.bash?A(r):R;r.capture&&($=`(${$})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const O={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=ei.removePrefix(e,O),s=e.length;const T=[],I=[],L=[];let N,x=i;const C=()=>O.index===s-1,P=O.peek=(t=1)=>e[O.index+t],k=O.advance=()=>e[++O.index],D=()=>e.slice(O.index+1),M=(e="",t=0)=>{O.consumed+=e,O.index+=t},F=e=>{O.output+=null!=e.output?e.output:e.value,M(e.value)},H=()=>{let e=1;for(;"!"===P()&&("("!==P(2)||"?"===P(3));)k(),O.start++,e++;return e%2!=0&&(O.negated=!0,O.start++,!0)},j=e=>{O[e]++,L.push(e)},G=e=>{O[e]--,L.pop()},B=e=>{if("globstar"===x.type){const t=O.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||T.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(O.output=O.output.slice(0,-x.output.length),x.type="star",x.value="*",x.output=$,O.output+=x.output)}if(T.length&&"paren"!==e.type&&!c[e.value]&&(T[T.length-1].inner+=e.value),(e.value||e.output)&&F(e),x&&"text"===x.type&&"text"===e.type)return x.value+=e.value,void(x.output=(x.output||"")+e.value);e.prev=x,o.push(e),x=e},U=(e,t)=>{const n={...c[t],conditions:1,inner:""};n.prev=x,n.parens=O.parens,n.output=O.output;const s=(r.capture?"(":"")+n.open;j("parens"),B({type:e,value:t,output:O.output?"":d}),B({type:"paren",extglob:!0,value:k(),output:s}),T.push(n)},X=e=>{let t=e.close+(r.capture?")":"");if("negate"===e.type){let n=$;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(n=A(r)),(n!==$||C()||/^\)+$/.test(D()))&&(t=e.close=`)$))${n}`),"bos"===e.prev.type&&(O.negatedExtglob=!0)}B({type:"paren",extglob:!0,value:N,output:t}),G("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,s=e.replace(Si,((e,t,r,s,i,o)=>"\\"===s?(n=!0,e):"?"===s?t?t+s+(i?y.repeat(i.length):""):0===o?w+(i?y.repeat(i.length):""):y.repeat(r.length):"."===s?h.repeat(r.length):"*"===s?t?t+s+(i?$:""):$:t?e:`\\${e}`));return!0===n&&(s=!0===r.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),s===e&&!0===r.contains?(O.output=e,O):(O.output=ei.wrapOutput(s,O,t),O)}for(;!C();){if(N=k(),"\0"===N)continue;if("\\"===N){const e=P();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){N+="\\",B({type:"text",value:N});continue}const t=/^\\+/.exec(D());let n=0;if(t&&t[0].length>2&&(n=t[0].length,O.index+=n,n%2!=0&&(N+="\\")),!0===r.unescape?N=k()||"":N+=k()||"",0===O.brackets){B({type:"text",value:N});continue}}if(O.brackets>0&&("]"!==N||"["===x.value||"[^"===x.value)){if(!1!==r.posix&&":"===N){const e=x.value.slice(1);if(e.includes("[")&&(x.posix=!0,e.includes(":"))){const e=x.value.lastIndexOf("["),t=x.value.slice(0,e),r=x.value.slice(e+2),n=_i[r];if(n){x.value=t+n,O.backtrack=!0,k(),i.output||1!==o.indexOf(x)||(i.output=d);continue}}}("["===N&&":"!==P()||"-"===N&&"]"===P())&&(N=`\\${N}`),"]"!==N||"["!==x.value&&"[^"!==x.value||(N=`\\${N}`),!0===r.posix&&"!"===N&&"["===x.value&&(N="^"),x.value+=N,F({value:N});continue}if(1===O.quotes&&'"'!==N){N=ei.escapeRegex(N),x.value+=N,F({value:N});continue}if('"'===N){O.quotes=1===O.quotes?0:1,!0===r.keepQuotes&&B({type:"text",value:N});continue}if("("===N){j("parens"),B({type:"paren",value:N});continue}if(")"===N){if(0===O.parens&&!0===r.strictBrackets)throw new SyntaxError(wi("opening","("));const e=T[T.length-1];if(e&&O.parens===e.parens+1){X(T.pop());continue}B({type:"paren",value:N,output:O.parens?")":"\\)"}),G("parens");continue}if("["===N){if(!0!==r.nobracket&&D().includes("]"))j("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(wi("closing","]"));N=`\\${N}`}B({type:"bracket",value:N});continue}if("]"===N){if(!0===r.nobracket||x&&"bracket"===x.type&&1===x.value.length){B({type:"text",value:N,output:`\\${N}`});continue}if(0===O.brackets){if(!0===r.strictBrackets)throw new SyntaxError(wi("opening","["));B({type:"text",value:N,output:`\\${N}`});continue}G("brackets");const e=x.value.slice(1);if(!0===x.posix||"^"!==e[0]||e.includes("/")||(N=`/${N}`),x.value+=N,F({value:N}),!1===r.literalBrackets||ei.hasRegexChars(e))continue;const t=ei.escapeRegex(x.value);if(O.output=O.output.slice(0,-x.value.length),!0===r.literalBrackets){O.output+=t,x.value=t;continue}x.value=`(${a}${t}|${x.value})`,O.output+=x.value;continue}if("{"===N&&!0!==r.nobrace){j("braces");const e={type:"brace",value:N,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};I.push(e),B(e);continue}if("}"===N){const e=I[I.length-1];if(!0===r.nobrace||!e){B({type:"text",value:N,output:N});continue}let t=")";if(!0===e.dots){const e=o.slice(),n=[];for(let t=e.length-1;t>=0&&(o.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=bi(n,r),O.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=O.output.slice(0,e.outputIndex),n=O.tokens.slice(e.tokensIndex);e.value=e.output="\\{",N=t="\\}",O.output=r;for(const e of n)O.output+=e.output||e.value}B({type:"brace",value:N,output:t}),G("braces"),I.pop();continue}if("|"===N){T.length>0&&T[T.length-1].conditions++,B({type:"text",value:N});continue}if(","===N){let e=N;const t=I[I.length-1];t&&"braces"===L[L.length-1]&&(t.comma=!0,e="|"),B({type:"comma",value:N,output:e});continue}if("/"===N){if("dot"===x.type&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",o.pop(),x=i;continue}B({type:"slash",value:N,output:f});continue}if("."===N){if(O.braces>0&&"dot"===x.type){"."===x.value&&(x.output=h);const e=I[I.length-1];x.type="dots",x.output+=N,x.value+=N,e.dots=!0;continue}if(O.braces+O.parens===0&&"bos"!==x.type&&"slash"!==x.type){B({type:"text",value:N,output:h});continue}B({type:"dot",value:N,output:h});continue}if("?"===N){if(!(x&&"("===x.value)&&!0!==r.noextglob&&"("===P()&&"?"!==P(2)){U("qmark",N);continue}if(x&&"paren"===x.type){const e=P();let t=N;if("<"===e&&!ei.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===x.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(D()))&&(t=`\\${N}`),B({type:"text",value:N,output:t});continue}if(!0!==r.dot&&("slash"===x.type||"bos"===x.type)){B({type:"qmark",value:N,output:_});continue}B({type:"qmark",value:N,output:y});continue}if("!"===N){if(!0!==r.noextglob&&"("===P()&&("?"!==P(2)||!/[!=<:]/.test(P(3)))){U("negate",N);continue}if(!0!==r.nonegate&&0===O.index){H();continue}}if("+"===N){if(!0!==r.noextglob&&"("===P()&&"?"!==P(2)){U("plus",N);continue}if(x&&"("===x.value||!1===r.regex){B({type:"plus",value:N,output:p});continue}if(x&&("bracket"===x.type||"paren"===x.type||"brace"===x.type)||O.parens>0){B({type:"plus",value:N});continue}B({type:"plus",value:p});continue}if("@"===N){if(!0!==r.noextglob&&"("===P()&&"?"!==P(2)){B({type:"at",extglob:!0,value:N,output:""});continue}B({type:"text",value:N});continue}if("*"!==N){"$"!==N&&"^"!==N||(N=`\\${N}`);const e=Ri.exec(D());e&&(N+=e[0],O.index+=e[0].length),B({type:"text",value:N});continue}if(x&&("globstar"===x.type||!0===x.star)){x.type="star",x.star=!0,x.value+=N,x.output=$,O.backtrack=!0,O.globstar=!0,M(N);continue}let t=D();if(!0!==r.noextglob&&/^\([^?]/.test(t)){U("star",N);continue}if("star"===x.type){if(!0===r.noglobstar){M(N);continue}const n=x.prev,s=n.prev,i="slash"===n.type||"bos"===n.type,o=s&&("star"===s.type||"globstar"===s.type);if(!0===r.bash&&(!i||t[0]&&"/"!==t[0])){B({type:"star",value:N,output:""});continue}const a=O.braces>0&&("comma"===n.type||"brace"===n.type),l=T.length&&("pipe"===n.type||"paren"===n.type);if(!i&&"paren"!==n.type&&!a&&!l){B({type:"star",value:N,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[O.index+4];if(r&&"/"!==r)break;t=t.slice(3),M("/**",3)}if("bos"===n.type&&C()){x.type="globstar",x.value+=N,x.output=A(r),O.output=x.output,O.globstar=!0,M(N);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&C()){O.output=O.output.slice(0,-(n.output+x.output).length),n.output=`(?:${n.output}`,x.type="globstar",x.output=A(r)+(r.strictSlashes?")":"|$)"),x.value+=N,O.globstar=!0,O.output+=n.output+x.output,M(N);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";O.output=O.output.slice(0,-(n.output+x.output).length),n.output=`(?:${n.output}`,x.type="globstar",x.output=`${A(r)}${f}|${f}${e})`,x.value+=N,O.output+=n.output+x.output,O.globstar=!0,M(N+k()),B({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){x.type="globstar",x.value+=N,x.output=`(?:^|${f}|${A(r)}${f})`,O.output=x.output,O.globstar=!0,M(N+k()),B({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-x.output.length),x.type="globstar",x.output=A(r),x.value+=N,O.output+=x.output,O.globstar=!0,M(N);continue}const n={type:"star",value:N,output:$};!0!==r.bash?!x||"bracket"!==x.type&&"paren"!==x.type||!0!==r.regex?(O.index!==O.start&&"slash"!==x.type&&"dot"!==x.type||("dot"===x.type?(O.output+=E,x.output+=E):!0===r.dot?(O.output+=v,x.output+=v):(O.output+=b,x.output+=b),"*"!==P()&&(O.output+=d,x.output+=d)),B(n)):(n.output=N,B(n)):(n.output=".*?","bos"!==x.type&&"slash"!==x.type||(n.output=b+n.output),B(n))}for(;O.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(wi("closing","]"));O.output=ei.escapeLast(O.output,"["),G("brackets")}for(;O.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(wi("closing",")"));O.output=ei.escapeLast(O.output,"("),G("parens")}for(;O.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(wi("closing","}"));O.output=ei.escapeLast(O.output,"{"),G("braces")}if(!0===r.strictSlashes||"star"!==x.type&&"bracket"!==x.type||B({type:"maybe_slash",value:"",output:`${f}?`}),!0===O.backtrack){O.output="";for(const e of O.tokens)O.output+=null!=e.output?e.output:e.value,e.suffix&&(O.output+=e.suffix)}return O};$i.fastpaths=(e,t)=>{const r={...t},n="number"==typeof r.maxLength?Math.min(yi,r.maxLength):yi,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=Ai[e]||e;const i=ei.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:u,NO_DOT:c,NO_DOTS:h,NO_DOTS_SLASH:p,STAR:f,START_ANCHOR:d}=Js.globChars(i),g=r.dot?h:c,m=r.dot?p:c,E=r.capture?"":"?:";let v=!0===r.bash?".*?":f;r.capture&&(v=`(${v})`);const y=e=>!0===e.noglobstar?v:`(${E}(?:(?!${d}${e.dot?u:o}).)*?)`,_=e=>{switch(e){case"*":return`${g}${l}${v}`;case".*":return`${o}${l}${v}`;case"*.*":return`${g}${v}${o}${l}${v}`;case"*/*":return`${g}${v}${a}${l}${m}${v}`;case"**":return g+y(r);case"**/*":return`(?:${g}${y(r)}${a})?${m}${l}${v}`;case"**/*.*":return`(?:${g}${y(r)}${a})?${m}${v}${o}${l}${v}`;case"**/.*":return`(?:${g}${y(r)}${a})?${o}${l}${v}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=_(t[1]);if(!r)return;return r+o+t[2]}}},R=ei.removePrefix(e,{negated:!1,prefix:""});let S=_(R);return S&&!0!==r.strictSlashes&&(S+=`${a}?`),S};var Oi=$i;const Ti=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map((e=>Ti(e,t,r)));return e=>{for(const t of n){const r=t(e);if(r)return r}return!1}}const n=(s=e)&&"object"==typeof s&&!Array.isArray(s)&&e.tokens&&e.input;var s;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},o=ei.isWindows(t),a=n?Ti.compileRe(e,t):Ti.makeRe(e,t,!1,!0),l=a.state;delete a.state;let u=()=>!1;if(i.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};u=Ti(i.ignore,e,r)}const c=(r,n=!1)=>{const{isMatch:s,match:c,output:h}=Ti.test(r,a,t,{glob:e,posix:o}),p={glob:e,state:l,regex:a,posix:o,input:r,output:h,match:c,isMatch:s};return"function"==typeof i.onResult&&i.onResult(p),!1===s?(p.isMatch=!1,!!n&&p):u(r)?("function"==typeof i.onIgnore&&i.onIgnore(p),p.isMatch=!1,!!n&&p):("function"==typeof i.onMatch&&i.onMatch(p),!n||p)};return r&&(c.state=l),c};Ti.test=(e,t,r,{glob:n,posix:s}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const i=r||{},o=i.format||(s?ei.toPosixSlashes:null);let a=e===n,l=a&&o?o(e):e;return!1===a&&(l=o?o(e):e,a=l===n),!1!==a&&!0!==i.capture||(a=!0===i.matchBase||!0===i.basename?Ti.matchBase(e,t,r,s):t.exec(l)),{isMatch:Boolean(a),match:a,output:l}},Ti.matchBase=(e,t,r,n=ei.isWindows(r))=>(t instanceof RegExp?t:Ti.makeRe(t,r)).test(u.default.basename(e)),Ti.isMatch=(e,t,r)=>Ti(t,r)(e),Ti.parse=(e,t)=>Array.isArray(e)?e.map((e=>Ti.parse(e,t))):Oi(e,{...t,fastpaths:!1}),Ti.scan=(e,t)=>vi(e,t),Ti.compileRe=(e,t,r=!1,n=!1)=>{if(!0===r)return e.output;const s=t||{},i=s.contains?"":"^",o=s.contains?"":"$";let a=`${i}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const l=Ti.toRegex(a,t);return!0===n&&(l.state=e),l},Ti.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");const s=t||{};let i,o={negated:!1,fastpaths:!0},a="";return e.startsWith("./")&&(e=e.slice(2),a=o.prefix="./"),!1===s.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=Oi.fastpaths(e,t)),void 0===i?(o=Oi(e,t),o.prefix=a+(o.prefix||"")):o.output=i,Ti.compileRe(o,t,r,n)},Ti.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},Ti.constants=Js;var Ii=Ti;const Li=e=>""===e||"./"===e,Ni=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,i=new Set,o=0,a=e=>{i.add(e.output),r&&r.onResult&&r.onResult(e)};for(let i=0;i<t.length;i++){let l=Ii(String(t[i]),{...r,onResult:a},!0),u=l.state.negated||l.state.negatedExtglob;u&&o++;for(let t of e){let e=l(t,!0);(u?!e.isMatch:e.isMatch)&&(u?n.add(e.output):(n.delete(e.output),s.add(e.output)))}}let l=(o===t.length?[...i]:[...s]).filter((e=>!n.has(e)));if(r&&0===l.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map((e=>e.replace(/\\/g,""))):t}return l};Ni.match=Ni,Ni.matcher=(e,t)=>Ii(e,t),Ni.any=Ni.isMatch=(e,t,r)=>Ii(t,r)(e),Ni.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],i=Ni(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),s.push(e.output)}});for(let e of s)i.includes(e)||n.add(e);return[...n]},Ni.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${p.default.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>Ni.contains(e,t,r)));if("string"==typeof t){if(Li(e)||Li(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Ni.isMatch(e,t,{...r,contains:!0})},Ni.matchKeys=(e,t,r)=>{if(!ei.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Ni(Object.keys(e),t,r),s={};for(let t of n)s[t]=e[t];return s},Ni.some=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=Ii(String(e),r);if(n.some((e=>t(e))))return!0}return!1},Ni.every=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=Ii(String(e),r);if(!n.every((e=>t(e))))return!1}return!0},Ni.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${p.default.inspect(e)}"`);return[].concat(t).every((t=>Ii(t,r)(e)))},Ni.capture=(e,t,r)=>{let n=ei.isWindows(r),s=Ii.makeRe(String(e),{...r,capture:!0}).exec(n?ei.toPosixSlashes(t):t);if(s)return s.slice(1).map((e=>void 0===e?"":e))},Ni.makeRe=(...e)=>Ii.makeRe(...e),Ni.scan=(...e)=>Ii.scan(...e),Ni.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let e of Qs(String(n),t))r.push(Ii.parse(e,t));return r},Ni.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:Qs(e,t)},Ni.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return Ni.braces(e,{...t,expand:!0})};var xi=Ni,Ci=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.matchAny=t.convertPatternsToRe=t.makeRe=t.getPatternParts=t.expandBraceExpansion=t.expandPatternsWithBraceExpansion=t.isAffectDepthOfReadingPattern=t.endsWithSlashGlobStar=t.hasGlobStar=t.getBaseDirectory=t.getPositivePatterns=t.getNegativePatterns=t.isPositivePattern=t.isNegativePattern=t.convertToNegativePattern=t.convertToPositivePattern=t.isDynamicPattern=t.isStaticPattern=void 0;const r=/[*?]|^!/,n=/\[.*]/,s=/(?:^|[^!*+?@])\(.*\|.*\)/,i=/[!*+?@]\(.*\)/,o=/{.*(?:,|\.\.).*}/;function a(e,t={}){return!l(e,t)}function l(e,t={}){return""!==e&&(!(!1!==t.caseSensitiveMatch&&!e.includes("\\"))||(!!(r.test(e)||n.test(e)||s.test(e))||(!(!1===t.extglob||!i.test(e))||!(!1===t.braceExpansion||!o.test(e)))))}function c(e){return e.startsWith("!")&&"("!==e[1]}function h(e){return!c(e)}function p(e){return e.endsWith("/**")}function f(e){return xi.braces(e,{expand:!0,nodupes:!0})}function d(e,t){return xi.makeRe(e,t)}t.isStaticPattern=a,t.isDynamicPattern=l,t.convertToPositivePattern=function(e){return c(e)?e.slice(1):e},t.convertToNegativePattern=function(e){return"!"+e},t.isNegativePattern=c,t.isPositivePattern=h,t.getNegativePatterns=function(e){return e.filter(c)},t.getPositivePatterns=function(e){return e.filter(h)},t.getBaseDirectory=function(e){return function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&Qn&&e.indexOf("/")<0&&(e=e.replace(Zn,"/")),zn.test(e)&&(e+="/"),e+="a";do{e=Yn(e)}while(qn(e)||Jn.test(e));return e.replace(es,"$1")}(e,{flipBackslashes:!1})},t.hasGlobStar=function(e){return e.includes("**")},t.endsWithSlashGlobStar=p,t.isAffectDepthOfReadingPattern=function(e){const t=u.default.basename(e);return p(e)||a(t)},t.expandPatternsWithBraceExpansion=function(e){return e.reduce(((e,t)=>e.concat(f(t))),[])},t.expandBraceExpansion=f,t.getPatternParts=function(e,t){let{parts:r}=Ii.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===r.length&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},t.makeRe=d,t.convertPatternsToRe=function(e,t){return e.map((e=>d(e,t)))},t.matchAny=function(e,t){return t.some((t=>t.test(e)))}})),Pi=_((function(e,t){function r(e){e.forEach((e=>e.emit("close")))}Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0,t.merge=function(e){const t=Hn(e);return e.forEach((e=>{e.once("error",(e=>t.emit("error",e)))})),t.once("close",(()=>r(e))),t.once("end",(()=>r(e))),t}})),ki=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=t.isString=void 0,t.isString=function(e){return"string"==typeof e},t.isEmpty=function(e){return""===e}})),Di=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.string=t.stream=t.pattern=t.path=t.fs=t.errno=t.array=void 0,t.array=Gn,t.errno=Bn,t.fs=Un,t.path=Xn,t.pattern=Ci,t.stream=Pi,t.string=ki})),Mi=_((function(e,t){function r(e,t,r){const n=i(e);if("."in n){return[a(".",e,t,r)]}return o(n,t,r)}function n(e){return Di.pattern.getPositivePatterns(e)}function s(e,t){return Di.pattern.getNegativePatterns(e).concat(t).map(Di.pattern.convertToPositivePattern)}function i(e){return e.reduce(((e,t)=>{const r=Di.pattern.getBaseDirectory(t);return r in e?e[r].push(t):e[r]=[t],e}),{})}function o(e,t,r){return Object.keys(e).map((n=>a(n,e[n],t,r)))}function a(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Di.pattern.convertToNegativePattern))}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertPatternGroupToTask=t.convertPatternGroupsToTasks=t.groupPatternsByBaseDirectory=t.getNegativePatternsAsPositive=t.getPositivePatterns=t.convertPatternsToTasks=t.generate=void 0,t.generate=function(e,t){const i=n(e),o=s(e,t.ignore),a=i.filter((e=>Di.pattern.isStaticPattern(e,t))),l=i.filter((e=>Di.pattern.isDynamicPattern(e,t))),u=r(a,o,!1),c=r(l,o,!0);return u.concat(c)},t.convertPatternsToTasks=r,t.getPositivePatterns=n,t.getNegativePatternsAsPositive=s,t.groupPatternsByBaseDirectory=i,t.convertPatternGroupsToTasks=o,t.convertPatternGroupToTask=a})),Fi=_((function(e,t){function r(e,t){e(t)}function n(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t,s){t.fs.lstat(e,((i,o)=>null!==i?r(s,i):o.isSymbolicLink()&&t.followSymbolicLink?void t.fs.stat(e,((e,i)=>{if(null!==e)return t.throwErrorOnBrokenSymbolicLink?r(s,e):n(s,o);t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),n(s,i)})):n(s,o)))}})),Hi=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t){const r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{const r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw e}}})),ji=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0,t.FILE_SYSTEM_ADAPTER={lstat:l.default.lstat,stat:l.default.stat,lstatSync:l.default.lstatSync,statSync:l.default.statSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}}));var Gi=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=ji.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return null!=e?e:t}},Bi=Object.defineProperty({default:Gi},"__esModule",{value:!0}),Ui=_((function(e,t){function r(e={}){return e instanceof Bi.default?e:new Bi.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.statSync=t.stat=t.Settings=void 0,t.Settings=Bi.default,t.stat=function(e,t,n){if("function"==typeof t)return Fi.read(e,r(),t);Fi.read(e,r(t),n)},t.statSync=function(e,t){const n=r(t);return Hi.read(e,n)}}));
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let Xi;var Vi="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:y):e=>(Xi||(Xi=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */,Wi=function(e,t){let r,n,s,i=!0;Array.isArray(e)?(r=[],n=e.length):(s=Object.keys(e),r={},n=s.length);function o(e){function n(){t&&t(e,r),t=null}i?Vi(n):n()}function a(e,t,s){r[e]=s,(0==--n||t)&&o(t)}n?s?s.forEach((function(t){e[t]((function(e,r){a(t,e,r)}))})):e.forEach((function(e,t){e((function(e,r){a(t,e,r)}))})):o(null);i=!1};var Ki=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const r=process.versions.node.split("."),n=parseInt(r[0],10),s=parseInt(r[1],10),i=n>10,o=10===n&&s>=10;t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=i||o})),qi=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}})),Yi=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fs=void 0,t.fs=qi})),Qi=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=void 0,t.joinPathSegments=function(e,t,r){return e.endsWith(r)?e+t:e+r+t}})),Zi=_((function(e,t){function r(e,t,r){t.fs.readdir(e,{withFileTypes:!0},((n,o)=>{if(null!==n)return s(r,n);const a=o.map((r=>({dirent:r,name:r.name,path:Qi.joinPathSegments(e,r.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks)return i(r,a);const l=a.map((e=>function(e,t){return r=>{if(!e.dirent.isSymbolicLink())return r(null,e);t.fs.stat(e.path,((n,s)=>null!==n?t.throwErrorOnBrokenSymbolicLink?r(n):r(null,e):(e.dirent=Yi.fs.createDirentFromStats(e.name,s),r(null,e))))}}(e,t)));Wi(l,((e,t)=>{if(null!==e)return s(r,e);i(r,t)}))}))}function n(e,t,r){t.fs.readdir(e,((n,o)=>{if(null!==n)return s(r,n);const a=o.map((r=>Qi.joinPathSegments(e,r,t.pathSegmentSeparator))),l=a.map((e=>r=>Ui.stat(e,t.fsStatSettings,r)));Wi(l,((e,n)=>{if(null!==e)return s(r,e);const l=[];o.forEach(((e,r)=>{const s=n[r],i={name:e,path:a[r],dirent:Yi.fs.createDirentFromStats(e,s)};t.stats&&(i.stats=s),l.push(i)})),i(r,l)}))}))}function s(e,t){e(t)}function i(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0,t.read=function(e,t,s){return!t.stats&&Ki.IS_SUPPORT_READDIR_WITH_FILE_TYPES?r(e,t,s):n(e,t,s)},t.readdirWithFileTypes=r,t.readdir=n})),zi=_((function(e,t){function r(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:Qi.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(n.path);n.dirent=Yi.fs.createDirentFromStats(n.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return n}))}function n(e,t){return t.fs.readdirSync(e).map((r=>{const n=Qi.joinPathSegments(e,r,t.pathSegmentSeparator),s=Ui.statSync(n,t.fsStatSettings),i={name:r,path:n,dirent:Yi.fs.createDirentFromStats(r,s)};return t.stats&&(i.stats=s),i}))}Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0,t.read=function(e,t){return!t.stats&&Ki.IS_SUPPORT_READDIR_WITH_FILE_TYPES?r(e,t):n(e,t)},t.readdirWithFileTypes=r,t.readdir=n})),Ji=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0,t.FILE_SYSTEM_ADAPTER={lstat:l.default.lstat,stat:l.default.stat,lstatSync:l.default.lstatSync,statSync:l.default.statSync,readdir:l.default.readdir,readdirSync:l.default.readdirSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}}));var eo=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Ji.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.default.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Ui.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}},to=Object.defineProperty({default:eo},"__esModule",{value:!0}),ro=_((function(e,t){function r(e={}){return e instanceof to.default?e:new to.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.scandirSync=t.scandir=void 0,t.Settings=to.default,t.scandir=function(e,t,n){if("function"==typeof t)return Zi.read(e,r(),t);Zi.read(e,r(t),n)},t.scandirSync=function(e,t){const n=r(t);return zi.read(e,n)}}));var no=function(e){var t=new e,r=t;return{get:function(){var n=t;return n.next?t=n.next:(t=new e,r=t),n.next=null,n},release:function(e){r.next=e,r=e}}};function so(e,t,r){if("function"==typeof e&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=no(oo),s=null,i=null,o=0,a=null,l={push:function(r,c){var h=n.get();h.context=e,h.release=u,h.value=r,h.callback=c||io,h.errorHandler=a,o===l.concurrency||l.paused?i?(i.next=h,i=h):(s=h,i=h,l.saturated()):(o++,t.call(e,h.value,h.worked))},drain:io,saturated:io,pause:function(){l.paused=!0},paused:!1,concurrency:r,running:function(){return o},resume:function(){if(!l.paused)return;l.paused=!1;for(var e=0;e<l.concurrency;e++)o++,u()},idle:function(){return 0===o&&0===l.length()},length:function(){var e=s,t=0;for(;e;)e=e.next,t++;return t},getQueue:function(){var e=s,t=[];for(;e;)t.push(e.value),e=e.next;return t},unshift:function(r,a){var c=n.get();c.context=e,c.release=u,c.value=r,c.callback=a||io,o===l.concurrency||l.paused?s?(c.next=s,s=c):(s=c,i=c,l.saturated()):(o++,t.call(e,c.value,c.worked))},empty:io,kill:function(){s=null,i=null,l.drain=io},killAndDrain:function(){s=null,i=null,l.drain(),l.drain=io},error:function(e){a=e}};return l;function u(r){r&&n.release(r);var a=s;a?l.paused?o--:(i===s&&(i=null),s=a.next,a.next=null,t.call(e,a.value,a.worked),null===i&&l.empty()):0==--o&&l.drain()}}function io(){}function oo(){this.value=null,this.callback=io,this.next=null,this.release=io,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,r){var n=e.callback,s=e.errorHandler,i=e.value;e.value=null,e.callback=io,e.errorHandler&&s(t,i),n.call(e.context,t,r),e.release(e)}}var ao=so,lo=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=null);var n=so(e,(function(e,r){t.call(this,e).then((function(e){r(null,e)}),r)}),r),s=n.push,i=n.unshift;return n.push=function(e){return new Promise((function(t,r){s(e,(function(e,n){e?r(e):t(n)}))}))},n.unshift=function(e){return new Promise((function(t,r){i(e,(function(e,n){e?r(e):t(n)}))}))},n};ao.promise=lo;var uo=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=t.replacePathSegmentSeparator=t.isAppliedFilter=t.isFatalError=void 0,t.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},t.isAppliedFilter=function(e,t){return null===e||e(t)},t.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},t.joinPathSegments=function(e,t,r){return""===e?t:e.endsWith(r)?e+t:e+r+t}}));var co=class{constructor(e,t){this._root=e,this._settings=t,this._root=uo.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}},ho=Object.defineProperty({default:co},"__esModule",{value:!0});class po extends ho.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=ro.scandir,this._emitter=new f.default.EventEmitter,this._queue=ao(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const r={directory:e,base:t};this._queue.push(r,(e=>{null!==e&&this._handleError(e)}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((r,n)=>{if(null!==r)return t(r,void 0);for(const t of n)this._handleEntry(t,e.base);t(null,void 0)}))}_handleError(e){!this._isDestroyed&&uo.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const r=e.path;void 0!==t&&(e.path=uo.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),uo.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&uo.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}var fo=po,go=Object.defineProperty({default:fo},"__esModule",{value:!0});var mo=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new go.default(this._root,this._settings),this._storage=new Set}read(e){this._reader.onError((t=>{!function(e,t){e(t)}(e,t)})),this._reader.onEntry((e=>{this._storage.add(e)})),this._reader.onEnd((()=>{!function(e,t){e(null,t)}(e,[...this._storage])})),this._reader.read()}};var Eo=Object.defineProperty({default:mo},"__esModule",{value:!0});var vo=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new go.default(this._root,this._settings),this._stream=new c.default.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((e=>{this._stream.emit("error",e)})),this._reader.onEntry((e=>{this._stream.push(e)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}},yo=Object.defineProperty({default:vo},"__esModule",{value:!0});class _o extends ho.default{constructor(){super(...arguments),this._scandir=ro.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const r=this._scandir(e,this._settings.fsScandirSettings);for(const e of r)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(uo.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const r=e.path;void 0!==t&&(e.path=uo.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),uo.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&uo.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,e.path)}_pushToStorage(e){this._storage.add(e)}}var Ro=_o,So=Object.defineProperty({default:Ro},"__esModule",{value:!0});var Ao=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new So.default(this._root,this._settings)}read(){return this._reader.read()}},bo=Object.defineProperty({default:Ao},"__esModule",{value:!0});var wo=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.default.sep),this.fsScandirSettings=new ro.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}},$o=Object.defineProperty({default:wo},"__esModule",{value:!0}),Oo=_((function(e,t){function r(e={}){return e instanceof $o.default?e:new $o.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.walkStream=t.walkSync=t.walk=void 0,t.Settings=$o.default,t.walk=function(e,t,n){if("function"==typeof t)return new Eo.default(e,r()).read(t);new Eo.default(e,r(t)).read(n)},t.walkSync=function(e,t){const n=r(t);return new bo.default(e,n).read()},t.walkStream=function(e,t){const n=r(t);return new yo.default(e,n).read()}}));var To=class{constructor(e){this._settings=e,this._fsStatSettings=new Ui.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return u.default.resolve(this._settings.cwd,e)}_makeEntry(e,t){const r={name:t,path:t,dirent:Di.fs.createDirentFromStats(t,e)};return this._settings.stats&&(r.stats=e),r}_isFatalError(e){return!Di.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}},Io=Object.defineProperty({default:To},"__esModule",{value:!0});class Lo extends Io.default{constructor(){super(...arguments),this._walkStream=Oo.walkStream,this._stat=Ui.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const r=e.map(this._getFullEntryPath,this),n=new c.default.PassThrough({objectMode:!0});n._write=(s,i,o)=>this._getEntry(r[s],e[s],t).then((e=>{null!==e&&t.entryFilter(e)&&n.push(e),s===r.length-1&&n.end(),o()})).catch(o);for(let e=0;e<r.length;e++)n.write(e);return n}_getEntry(e,t,r){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(r.errorFilter(e))return null;throw e}))}_getStat(e){return new Promise(((t,r)=>{this._stat(e,this._fsStatSettings,((e,n)=>null===e?t(n):r(e)))}))}}var No=Lo,xo=Object.defineProperty({default:No},"__esModule",{value:!0});var Co=class{constructor(e,t,r){this._patterns=e,this._settings=t,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const e=Di.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const t of e){const e=this._getPatternSegments(t),r=this._splitSegmentsIntoSections(e);this._storage.push({complete:r.length<=1,pattern:t,segments:e,sections:r})}}_getPatternSegments(e){return Di.pattern.getPatternParts(e,this._micromatchOptions).map((e=>Di.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:Di.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}))}_splitSegmentsIntoSections(e){return Di.array.splitWhen(e,(e=>e.dynamic&&Di.pattern.hasGlobStar(e.pattern)))}},Po=Object.defineProperty({default:Co},"__esModule",{value:!0});class ko extends Po.default{match(e){const t=e.split("/"),r=t.length,n=this._storage.filter((e=>!e.complete||e.segments.length>r));for(const e of n){const n=e.sections[0];if(!e.complete&&r>n.length)return!0;if(t.every(((t,r)=>{const n=e.segments[r];return!(!n.dynamic||!n.patternRe.test(t))||!n.dynamic&&n.pattern===t})))return!0}return!1}}var Do=ko,Mo=Object.defineProperty({default:Do},"__esModule",{value:!0});var Fo=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,r){const n=this._getMatcher(t),s=this._getNegativePatternsRe(r);return t=>this._filter(e,t,n,s)}_getMatcher(e){return new Mo.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(Di.pattern.isAffectDepthOfReadingPattern);return Di.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,r,n){if(this._isSkippedByDeep(e,t.path))return!1;if(this._isSkippedSymbolicLink(t))return!1;const s=Di.path.removeLeadingDotSegment(t.path);return!this._isSkippedByPositivePatterns(s,r)&&this._isSkippedByNegativePatterns(s,n)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const r=t.split("/").length;if(""===e)return r;return r-e.split("/").length}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!Di.pattern.matchAny(e,t)}},Ho=Object.defineProperty({default:Fo},"__esModule",{value:!0});var jo=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const r=Di.pattern.convertPatternsToRe(e,this._micromatchOptions),n=Di.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,r,n)}_filter(e,t,r){if(this._settings.unique&&this._isDuplicateEntry(e))return!1;if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e.path,r))return!1;const n=this._settings.baseNameMatch?e.name:e.path,s=this._isMatchToPatterns(n,t)&&!this._isMatchToPatterns(e.path,r);return this._settings.unique&&s&&this._createIndexRecord(e),s}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const r=Di.path.makeAbsolute(this._settings.cwd,e);return Di.pattern.matchAny(r,t)}_isMatchToPatterns(e,t){const r=Di.path.removeLeadingDotSegment(e);return Di.pattern.matchAny(r,t)}},Go=Object.defineProperty({default:jo},"__esModule",{value:!0});var Bo=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return Di.errno.isEnoentCodeError(e)||this._settings.suppressErrors}},Uo=Object.defineProperty({default:Bo},"__esModule",{value:!0});var Xo=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=Di.path.makeAbsolute(this._settings.cwd,t),t=Di.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}},Vo=Object.defineProperty({default:Xo},"__esModule",{value:!0});var Wo=class{constructor(e){this._settings=e,this.errorFilter=new Uo.default(this._settings),this.entryFilter=new Go.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Ho.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Vo.default(this._settings)}_getRootDirectory(e){return u.default.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}},Ko=Object.defineProperty({default:Wo},"__esModule",{value:!0});class qo extends Ko.default{constructor(){super(...arguments),this._reader=new xo.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=[];return new Promise(((s,i)=>{const o=this.api(t,e,r);o.once("error",i),o.on("data",(e=>n.push(r.transform(e)))),o.once("end",(()=>s(n)))}))}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}var Yo=qo,Qo=Object.defineProperty({default:Yo},"__esModule",{value:!0});class Zo extends Ko.default{constructor(){super(...arguments),this._reader=new xo.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=this.api(t,e,r),s=new c.default.Readable({objectMode:!0,read:()=>{}});return n.once("error",(e=>s.emit("error",e))).on("data",(e=>s.emit("data",r.transform(e)))).once("end",(()=>s.emit("end"))),s.once("close",(()=>n.destroy())),s}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}var zo=Zo,Jo=Object.defineProperty({default:zo},"__esModule",{value:!0});class ea extends Io.default{constructor(){super(...arguments),this._walkSync=Oo.walkSync,this._statSync=Ui.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const r=[];for(const n of e){const e=this._getFullEntryPath(n),s=this._getEntry(e,n,t);null!==s&&t.entryFilter(s)&&r.push(s)}return r}_getEntry(e,t,r){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(r.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}var ta=ea,ra=Object.defineProperty({default:ta},"__esModule",{value:!0});class na extends Ko.default{constructor(){super(...arguments),this._reader=new ra.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e);return this.api(t,e,r).map(r.transform)}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}var sa=na,ia=Object.defineProperty({default:sa},"__esModule",{value:!0}),oa=_((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const r=Math.max(h.default.cpus().length,1);t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:l.default.lstat,lstatSync:l.default.lstatSync,stat:l.default.stat,statSync:l.default.statSync,readdir:l.default.readdir,readdirSync:l.default.readdirSync};t.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,r),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}}));async function aa(e,t){ua(e);const r=la(e,Qo.default,t),n=await Promise.all(r);return Di.array.flatten(n)}function la(e,t,r){const n=[].concat(e),s=new oa.default(r),i=Mi.generate(n,s),o=new t(s);return i.map(o.read,o)}function ua(e){if(![].concat(e).every((e=>Di.string.isString(e)&&!Di.string.isEmpty(e))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){e.sync=function(e,t){ua(e);const r=la(e,ia.default,t);return Di.array.flatten(r)},e.stream=function(e,t){ua(e);const r=la(e,Jo.default,t);return Di.stream.merge(r)},e.generateTasks=function(e,t){ua(e);const r=[].concat(e),n=new oa.default(t);return Mi.generate(r,n)},e.isDynamicPattern=function(e,t){ua(e);const r=new oa.default(t);return Di.pattern.isDynamicPattern(e,r)},e.escapePath=function(e){return ua(e),Di.path.escape(e)}}(aa||(aa={}));var ca=aa;const{promisify:ha}=p.default;async function pa(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return(await ha(l.default[e])(r))[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}function fa(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return l.default[e](r)[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}var da={isFile:pa.bind(null,"stat","isFile"),isDirectory:pa.bind(null,"stat","isDirectory"),isSymlink:pa.bind(null,"lstat","isSymbolicLink"),isFileSync:fa.bind(null,"statSync","isFile"),isDirectorySync:fa.bind(null,"statSync","isDirectory"),isSymlinkSync:fa.bind(null,"lstatSync","isSymbolicLink")};const ga=e=>e.length>1?`{${e.join(",")}}`:e[0],ma=(e,t)=>{const r="!"===e[0]?e.slice(1):e;return u.default.isAbsolute(r)?r:u.default.join(t,r)},Ea=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map((r=>{return u.default.posix.join(e,(n=r,s=t.extensions,u.default.extname(n)?`**/${n}`:`**/${n}.${ga(s)}`));var n,s})):t.files?t.files.map((t=>u.default.posix.join(e,`**/${t}`))):t.extensions?[u.default.posix.join(e,`**/*.${ga(t.extensions)}`)]:[u.default.posix.join(e,"**")]};var va=async(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=await Promise.all([].concat(e).map((async e=>await da.isDirectory(ma(e,t.cwd))?Ea(e,t):e)));return[].concat.apply([],r)};function ya(e){return Array.isArray(e)?e:[e]}va.sync=(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=[].concat(e).map((e=>da.isDirectorySync(ma(e,t.cwd))?Ea(e,t):e));return[].concat.apply([],r)};const _a=/^\s+$/,Ra=/^\\!/,Sa=/^\\#/,Aa=/\r?\n/g,ba=/^\.*\/|^\.+$/,wa="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",$a=/([0-z])-([0-z])/g,Oa=[[/\\?\s+$/,e=>0===e.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,s)=>"\\"===t?`\\[${r}${(e=>{const{length:t}=e;return e.slice(0,t-t%2)})(n)}${s}`:"]"===s&&n.length%2==0?`[${(e=>e.replace($a,((e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:"")))(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Ta=Object.create(null),Ia=e=>"string"==typeof e;class La{constructor(e,t,r,n){this.origin=e,this.pattern=t,this.negative=r,this.regex=n}}const Na=(e,t)=>{const r=e;let n=!1;0===e.indexOf("!")&&(n=!0,e=e.substr(1));const s=((e,t,r)=>{const n=Ta[e];if(n)return n;const s=Oa.reduce(((t,r)=>t.replace(r[0],r[1].bind(e))),e);return Ta[e]=r?new RegExp(s,"i"):new RegExp(s)})(e=e.replace(Ra,"!").replace(Sa,"#"),0,t);return new La(r,e,n,s)},xa=(e,t)=>{throw new t(e)},Ca=(e,t,r)=>{if(!Ia(e))return r(`path must be a string, but got \`${t}\``,TypeError);if(!e)return r("path must not be empty",TypeError);if(Ca.isNotRelative(e)){return r(`path should be a ${"`path.relative()`d"} string, but got "${t}"`,RangeError)}return!0},Pa=e=>ba.test(e);Ca.isNotRelative=Pa,Ca.convert=e=>e;class ka{constructor({ignorecase:e=!0}={}){var t,r,n;this._rules=[],this._ignorecase=e,t=this,r=wa,n=!0,Object.defineProperty(t,r,{value:n}),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[wa])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if((e=>e&&Ia(e)&&!_a.test(e)&&0!==e.indexOf("#"))(e)){const t=Na(e,this._ignorecase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,ya(Ia(e)?(e=>e.split(Aa))(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let r=!1,n=!1;return this._rules.forEach((s=>{const{negative:i}=s;if(n===i&&r!==n||i&&!r&&!n&&!t)return;s.regex.test(e)&&(r=!i,n=i)})),{ignored:r,unignored:n}}_test(e,t,r,n){const s=e&&Ca.convert(e);return Ca(s,e,xa),this._t(s,t,r,n)}_t(e,t,r,n){if(e in t)return t[e];if(n||(n=e.split("/")),n.pop(),!n.length)return t[e]=this._testOne(e,r);const s=this._t(n.join("/")+"/",t,r,n);return t[e]=s.ignored?s:this._testOne(e,r)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return ya(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}}const Da=e=>new ka(e),Ma=()=>!1;Da.isPathValid=e=>Ca(e&&Ca.convert(e),e,Ma),Da.default=Da;var Fa=Da;if("undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const e=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");Ca.convert=e;const t=/^[a-z]:\//i;Ca.isNotRelative=e=>t.test(e)||Pa(e)}var Ha=e=>{const t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")};const{promisify:ja}=p.default,Ga=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],Ba=ja(l.default.readFile),Ua=(e,t)=>{const r=Ha(u.default.relative(t.cwd,u.default.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter((e=>!e.startsWith("#"))).map((e=>t=>t.startsWith("!")?"!"+u.default.posix.join(e,t.slice(1)):u.default.posix.join(e,t))(r))},Xa=e=>{const t=Fa();for(const r of e)t.add(Ua(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},Va=(e,t)=>r=>e.ignores(Ha(u.default.relative(t,((e,t)=>{if(e=Ha(e),u.default.isAbsolute(t)){if(Ha(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return u.default.join(e,t)})(t,r.path||r)))),Wa=({ignore:e=[],cwd:t=Ha(process.cwd())}={})=>({ignore:e,cwd:t});var Ka=async e=>{e=Wa(e);const t=await ca("**/.gitignore",{ignore:Ga.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map((t=>(async(e,t)=>{const r=u.default.join(t,e);return{cwd:t,filePath:r,content:await Ba(r,"utf8")}})(t,e.cwd)))),n=Xa(r);return Va(n,e.cwd)};Ka.sync=e=>{e=Wa(e);const t=ca.sync("**/.gitignore",{ignore:Ga.concat(e.ignore),cwd:e.cwd}).map((t=>((e,t)=>{const r=u.default.join(t,e);return{cwd:t,filePath:r,content:l.default.readFileSync(r,"utf8")}})(t,e.cwd))),r=Xa(t);return Va(r,e.cwd)};const{Transform:qa}=c.default;class Ya extends qa{constructor(){super({objectMode:!0})}}var Qa={FilterStream:class extends Ya{constructor(e){super(),this._filter=e}_transform(e,t,r){this._filter(e)&&this.push(e),r()}},UniqueStream:class extends Ya{constructor(){super(),this._pushed=new Set}_transform(e,t,r){this._pushed.has(e)||(this.push(e),this._pushed.add(e)),r()}}};const{FilterStream:Za,UniqueStream:za}=Qa,Ja=()=>!1,el=e=>"!"===e[0],tl=(e,t)=>{(e=>{if(!e.every((e=>"string"==typeof e)))throw new TypeError("Patterns must be a string or an array of strings")})(e=Dn([].concat(e))),((e={})=>{if(!e.cwd)return;let t;try{t=l.default.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")})(t);const r=[];t={ignore:[],expandDirectories:!0,...t};for(const[n,s]of e.entries()){if(el(s))continue;const i=e.slice(n).filter((e=>el(e))).map((e=>e.slice(1))),o={...t,ignore:t.ignore.concat(i)};r.push({pattern:s,options:o})}return r},rl=(e,t)=>e.options.expandDirectories?((e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:"object"==typeof e.options.expandDirectories&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)})(e,t):[e.pattern],nl=e=>e&&e.gitignore?Ka.sync({cwd:e.cwd,ignore:e.ignore}):Ja,sl=e=>t=>{const{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=va.sync(r.ignore)),{pattern:t,options:r}};var il=async(e,t)=>{const r=tl(e,t),[n,s]=await Promise.all([(async()=>t&&t.gitignore?Ka({cwd:t.cwd,ignore:t.ignore}):Ja)(),(async()=>{const e=await Promise.all(r.map((async e=>{const t=await rl(e,va);return Promise.all(t.map(sl(e)))})));return Dn(...e)})()]),i=await Promise.all(s.map((e=>ca(e.pattern,e.options))));return Dn(...i).filter((e=>{return!n((t=e,t.stats instanceof l.default.Stats?t.path:t));var t}))},ol=tl,al=Ka;il.sync=(e,t)=>{const r=tl(e,t),n=[];for(const e of r){const t=rl(e,va.sync).map(sl(e));n.push(...t)}const s=nl(t);let i=[];for(const e of n)i=Dn(i,ca.sync(e.pattern,e.options));return i.filter((e=>!s(e)))},il.stream=(e,t)=>{const r=tl(e,t),n=[];for(const e of r){const t=rl(e,va.sync).map(sl(e));n.push(...t)}const s=nl(t),i=new Za((e=>!s(e))),o=new za;return Hn(n.map((e=>ca.stream(e.pattern,e.options)))).pipe(i).pipe(o)},il.generateGlobTasks=ol,il.hasMagic=(e,t)=>[].concat(e).some((e=>ca.isDynamicPattern(e,t))),il.gitignore=al;var ll={busySignal:null,serviceName:"busy-signal",consumer:function(t){var r=this;return this.busySignal=t.create(),new e.Disposable((function(){r.busySignal=null}))},add:function(e){try{this.busySignal.add(e)}catch(e){v.log("Busy Signal has failed",e)}},remove:function(e){void 0===e&&(e="");try{this.busySignal.remove(e)}catch(e){v.log("Busy Signal has failed",e)}},clear:function(){try{this.busySignal.clear()}catch(e){v.log("Busy Signal has failed",e)}},dispose:function(){try{this.busySignal.dispose()}catch(e){v.log("Busy Signal has failed",e)}}};function ul(){return d(this,void 0,void 0,(function(){var e,n,s=this;return g(this,(function(i){switch(i.label){case 0:return void 0===(o="developer")&&(o=""),e=(null==o?void 0:o.length)?atom.config.get(m+"."+o):atom.config.get(""+m),atom.inDevMode()&&e.autoOpenConsole&&atom.openDevTools(),atom.inDevMode()&&e.autoClearConsole&&console.clear(),ll.add("Deleting package data"),[4,Cn()];case 1:return n=i.sent(),[4,il("*",{cwd:n,onlyFiles:!1,deep:0})];case 2:return i.sent().filter((function(e){return!e.startsWith(".")&&!e.startsWith("_")&&!e.startsWith("@")})).map((function(e){return d(s,void 0,void 0,(function(){var s,i,o,a,l,u=this;return g(this,(function(c){switch(c.label){case 0:return[4,Pn(s=r.join(n,e))];case 1:return(o=c.sent())?[4,t.promises.readdir(s)]:[3,3];case 2:o=c.sent(),c.label=3;case 3:return(null==(i=o)?void 0:i.length)?(a=kn(Array.from(i)),(null==(l=a[1])?void 0:l.length)?(l.map((function(s){return d(u,void 0,void 0,(function(){var i,o;return g(this,(function(a){switch(a.label){case 0:return[4,Pn(i=r.join(n,e,s))];case 1:if(!a.sent())return[3,5];v.log("Deleting "+i),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,t.promises.rmdir(i,{maxRetries:5,recursive:!0})];case 3:return a.sent(),[3,5];case 4:return o=a.sent(),v.error(o),[3,5];case 5:return[2]}}))}))})),[2]):(v.log("Nothing deleted"),[2])):(v.log("Skipping "+e),[2])}}))}))})),ll.remove("Deleting package data"),[2]}var o}))}))}function cl(){return d(this,void 0,void 0,(function(){var e;return g(this,(function(t){return e=atom.packages.getAvailablePackageNames(),ll.add("Deleting storage items"),e.map((function(e){var t=Object.keys(localStorage).filter((function(t){return t.startsWith("installed-packages:"+e+":")})),r=new Set;t.map((function(e){r.add(e.split(":")[2])}));var n=kn(Array.from(r)),s=n[0],i=n[1];s&&i&&i.map((function(t){Object.keys(localStorage).filter((function(r){return r.startsWith("installed-packages:"+e+":"+t)})).map((function(e){v.log("Deleting storage item: "+e),localStorage.removeItem(e)}))}))})),ll.remove("Trashman is deleting storage items"),[2]}))}))}var hl={config:{deleteApmFolders:{title:"Delete apm Folders",description:"Deletes outdated packages in `~/.atom/.apm`",type:"boolean",default:!0,order:1},deleteStorage:{title:"Delete Storage",description:"Deletes items for outdated packages in Atom's [storage](https://developer.mozilla.org/en-US/docs/Web/API/Storage)",type:"boolean",default:!0,order:2},itemsToKeep:{title:"Items to Keep",description:"Specify the last number of versions to keep",type:"integer",default:5,minimum:1,order:3},developer:{title:"Developer Settings",type:"object",order:4,properties:{autoOpenConsole:{title:"Automatically Open Console",description:"Logs all actions to the console while in Debug Mode",type:"boolean",default:!0,order:1},autoClearConsole:{title:"Automatically Clear Console",description:"Clears the console on each call while in Debug Mode",type:"boolean",default:!0,order:2}}}},subscriptions:new e.CompositeDisposable,activate:function(){return d(this,void 0,void 0,(function(){var e=this;return g(this,(function(t){return v.log("Activating package"),this.subscriptions.add(atom.commands.add("atom-workspace",{"trashman:delete-outdated-package-data":function(){return d(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,ul()];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"trashman:delete-outdated-storage-data":function(){return d(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,cl()];case 1:return e.sent(),[2]}}))}))}})),[2]}))}))},migrate:function(){!function(e,t){if(atom.config.get(m+"."+t))v.warn("Setting '"+t+"' already exists, skipping migration");else{try{atom.config.set(m+"."+t,atom.config.get(m+"."+e))}catch(e){return console.log(e),void atom.notifications.addWarning("Failed to migrate configuration, see console for details")}v.warn("Setting '"+e+"' migrated successfully to '"+t+"'"),atom.config.unset(m+"."+e)}}("developerSettings","developer")},deactivate:function(){var e;v.log("Deactivating package"),null===(e=this.subscriptions)||void 0===e||e.dispose()},consumeSignal:function(e){v.log("Consuming Busy Signal service"),ll.consumer(e)}};module.exports=hl;
//# sourceMappingURL=trashman.js.map
