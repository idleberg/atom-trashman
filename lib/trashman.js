"use strict";var e=require("atom"),t=require("fs"),r=require("path"),n=require("stream"),s=require("os"),i=require("util"),o=require("events");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=a(t),u=a(r),c=a(n),h=a(s),p=a(i),f=a(o);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function d(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}function g(e,t){var r,n,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(s=2&i[0]?n.return:i[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,i[1])).done)return s;switch(n=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var m="trashman";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function v(e,t){for(var r=0,n=t.length,s=e.length;r<n;r++,s++)e[s]=t[r];return e}var E=new(function(){function e(e){void 0===e&&(e={}),this.name=e.name,this.styleSheet="\n      background-color: "+(e.backgroundColor||"darkgrey")+";\n      border-radius: 2px;\n      color: "+(e.color||"white")+";\n      line-height: 1.5;\n      padding: 1px 4px;\n      text-shadow: 0 1px 0px rgba(0, 0, 0, 0.2);\n    "}return e.prototype.__console__=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(null===atom||void 0===atom?void 0:atom.inDevMode())&&(r.unshift("%c"+this.name+"%c",this.styleSheet,""),(t=window.console)[e].apply(t,r))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,v(["debug"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,v(["error"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,v(["info"],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,v(["log"],e))},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,v(["trace"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,v(["warn"],e))},e}())({name:m,backgroundColor:"sienna"}),y={never:-1,daily:86400,weekly:604800,biweekly:1209600,monthly:2592e3,bimonthly:5184e3,quarterly:7776e3,yearly:31536e3},_=["files","storage"],R={itemsToKeep:{title:"Items to Keep",description:"Specify the last number of versions to keep",type:"integer",default:5,minimum:1,order:1},periodicCleanupInterval:{title:"Run Periodically",description:"Specify an interval to run `trashman` automatically",type:"integer",default:y.never,enum:[{value:y.never,description:"never"},{value:y.daily,description:"daily"},{value:y.weekly,description:"weekly"},{value:y.biweekly,description:"bi-weekly"},{value:y.monthly,description:"monthly"},{value:y.bimonthly,description:"bi-monthly"},{value:y.quarterly,description:"quarterly"},{value:y.yearly,description:"yearly"}],order:2},periodicCleanupTypes:{title:"Periodic Cleanup Types",description:"Specify the types of delete operations to run periodically",type:"array",default:_,enum:[{value:_,description:"apm Cache and Storage"},{value:[_[0]],description:"apm Cache only"},{value:[_[1]],description:"Storage only"}],order:3},developer:{title:"Developer Settings",type:"object",order:4,properties:{autoOpenConsole:{title:"Automatically Open Console",description:"Logs all actions to the console while in Debug Mode",type:"boolean",default:!0,order:1},autoClearConsole:{title:"Automatically Clear Console",description:"Clears the console on each call while in Debug Mode",type:"boolean",default:!1,order:2}}}};function S(e){return void 0===e&&(e=""),(null==e?void 0:e.length)?atom.config.get(m+"."+e):atom.config.get(""+m)}var A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function b(e){var t={exports:{}};return e(t,t.exports),t.exports}var w={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var $="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},O=b((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=w,n=(t=e.exports={}).re=[],s=t.src=[],i=t.t={};let o=0;const a=(e,t,r)=>{const a=o++;$(a,t),i[e]=a,s[a]=t,n[a]=new RegExp(t,r?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`),a("FULL",`^${s[i.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`),a("LOOSE",`^${s[i.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${s[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${s[i.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?)?)?`),a("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),a("COERCERTL",s[i.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",a("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",a("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})\\s+-\\s+(${s[i.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[i.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0.0.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const T=["includePrerelease","loose","rtl"];var I=e=>e?"object"!=typeof e?{loose:!0}:T.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const L=/^[0-9]+$/,N=(e,t)=>{const r=L.test(e),n=L.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var x={compareIdentifiers:N,rcompareIdentifiers:(e,t)=>N(t,e)};const{MAX_LENGTH:C,MAX_SAFE_INTEGER:P}=w,{re:k,t:D}=O,{compareIdentifiers:M}=x;class F{constructor(e,t){if(t=I(t),e instanceof F){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>C)throw new TypeError(`version is longer than ${C} characters`);$("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?k[D.LOOSE]:k[D.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>P||this.major<0)throw new TypeError("Invalid major version");if(this.minor>P||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>P||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<P)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if($("SemVer.compare",this.version,this.options,e),!(e instanceof F)){if("string"==typeof e&&e===this.version)return 0;e=new F(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof F||(e=new F(e,this.options)),M(this.major,e.major)||M(this.minor,e.minor)||M(this.patch,e.patch)}comparePre(e){if(e instanceof F||(e=new F(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if($("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return M(r,n)}while(++t)}compareBuild(e){e instanceof F||(e=new F(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if($("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return M(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var H=F;const{MAX_LENGTH:j}=w,{re:G,t:B}=O;var U=(e,t)=>{if(t=I(t),e instanceof H)return e;if("string"!=typeof e)return null;if(e.length>j)return null;if(!(t.loose?G[B.LOOSE]:G[B.FULL]).test(e))return null;try{return new H(e,t)}catch(e){return null}};var X=(e,t)=>{const r=U(e,t);return r?r.version:null};var V=(e,t)=>{const r=U(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var W=(e,t,r,n)=>{"string"==typeof r&&(n=r,r=void 0);try{return new H(e,r).inc(t,n).version}catch(e){return null}};var K=(e,t,r)=>new H(e,r).compare(new H(t,r));var q=(e,t,r)=>0===K(e,t,r);var Y=(e,t)=>{if(q(e,t))return null;{const r=U(e),n=U(t),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",o=s?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==n[e])return i+e;return o}};var Q=(e,t)=>new H(e,t).major;var Z=(e,t)=>new H(e,t).minor;var z=(e,t)=>new H(e,t).patch;var J=(e,t)=>{const r=U(e,t);return r&&r.prerelease.length?r.prerelease:null};var ee=(e,t,r)=>K(t,e,r);var te=(e,t)=>K(e,t,!0);var re=(e,t,r)=>{const n=new H(e,r),s=new H(t,r);return n.compare(s)||n.compareBuild(s)};var ne=(e,t)=>e.sort(((e,r)=>re(e,r,t)));var se=(e,t)=>e.sort(((e,r)=>re(r,e,t)));var ie=(e,t,r)=>K(e,t,r)>0;var oe=(e,t,r)=>K(e,t,r)<0;var ae=(e,t,r)=>0!==K(e,t,r);var le=(e,t,r)=>K(e,t,r)>=0;var ue=(e,t,r)=>K(e,t,r)<=0;var ce=(e,t,r,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return q(e,r,n);case"!=":return ae(e,r,n);case">":return ie(e,r,n);case">=":return le(e,r,n);case"<":return oe(e,r,n);case"<=":return ue(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const{re:he,t:pe}=O;var fe=(e,t)=>{if(e instanceof H)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=he[pe.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),he[pe.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;he[pe.COERCERTL].lastIndex=-1}else r=e.match(he[pe.COERCE]);return null===r?null:U(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},de=ge;function ge(e){var t=this;if(t instanceof ge||(t=new ge),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function me(e,t,r){var n=t===e.head?new ye(r,null,t,e):new ye(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function ve(e,t){e.tail=new ye(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Ee(e,t){e.head=new ye(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ye(e,t,r,n){if(!(this instanceof ye))return new ye(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}ge.Node=ye,ge.create=ge,ge.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},ge.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},ge.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},ge.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)ve(this,arguments[e]);return this.length},ge.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Ee(this,arguments[e]);return this.length},ge.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},ge.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},ge.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},ge.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},ge.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},ge.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},ge.prototype.map=function(e,t){t=t||this;for(var r=new ge,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},ge.prototype.mapReverse=function(e,t){t=t||this;for(var r=new ge,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},ge.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var s=0;null!==n;s++)r=e(r,n.value,s),n=n.next;return r},ge.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var s=this.length-1;null!==n;s--)r=e(r,n.value,s),n=n.prev;return r},ge.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},ge.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},ge.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new ge;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;for(;null!==s&&n<t;n++,s=s.next)r.push(s.value);return r},ge.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new ge;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;null!==s&&n>t;n--)s=s.prev;for(;null!==s&&n>e;n--,s=s.prev)r.push(s.value);return r},ge.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var i=[];for(n=0;s&&n<t;n++)i.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=me(this,s,r[n]);return i},ge.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{!function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}(ge)}catch(e){}const _e=Symbol("max"),Re=Symbol("length"),Se=Symbol("lengthCalculator"),Ae=Symbol("allowStale"),be=Symbol("maxAge"),we=Symbol("dispose"),$e=Symbol("noDisposeOnSet"),Oe=Symbol("lruList"),Te=Symbol("cache"),Ie=Symbol("updateAgeOnGet"),Le=()=>1;const Ne=(e,t,r)=>{const n=e[Te].get(t);if(n){const t=n.value;if(xe(e,t)){if(Pe(e,n),!e[Ae])return}else r&&(e[Ie]&&(n.value.now=Date.now()),e[Oe].unshiftNode(n));return t.value}},xe=(e,t)=>{if(!t||!t.maxAge&&!e[be])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[be]&&r>e[be]},Ce=e=>{if(e[Re]>e[_e])for(let t=e[Oe].tail;e[Re]>e[_e]&&null!==t;){const r=t.prev;Pe(e,t),t=r}},Pe=(e,t)=>{if(t){const r=t.value;e[we]&&e[we](r.key,r.value),e[Re]-=r.length,e[Te].delete(r.key),e[Oe].removeNode(t)}};class ke{constructor(e,t,r,n,s){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=s||0}}const De=(e,t,r,n)=>{let s=r.value;xe(e,s)&&(Pe(e,r),e[Ae]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var Me=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[_e]=e.max||1/0;const t=e.length||Le;if(this[Se]="function"!=typeof t?Le:t,this[Ae]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[be]=e.maxAge||0,this[we]=e.dispose,this[$e]=e.noDisposeOnSet||!1,this[Ie]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[_e]=e||1/0,Ce(this)}get max(){return this[_e]}set allowStale(e){this[Ae]=!!e}get allowStale(){return this[Ae]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[be]=e,Ce(this)}get maxAge(){return this[be]}set lengthCalculator(e){"function"!=typeof e&&(e=Le),e!==this[Se]&&(this[Se]=e,this[Re]=0,this[Oe].forEach((e=>{e.length=this[Se](e.value,e.key),this[Re]+=e.length}))),Ce(this)}get lengthCalculator(){return this[Se]}get length(){return this[Re]}get itemCount(){return this[Oe].length}rforEach(e,t){t=t||this;for(let r=this[Oe].tail;null!==r;){const n=r.prev;De(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[Oe].head;null!==r;){const n=r.next;De(this,e,r,t),r=n}}keys(){return this[Oe].toArray().map((e=>e.key))}values(){return this[Oe].toArray().map((e=>e.value))}reset(){this[we]&&this[Oe]&&this[Oe].length&&this[Oe].forEach((e=>this[we](e.key,e.value))),this[Te]=new Map,this[Oe]=new de,this[Re]=0}dump(){return this[Oe].map((e=>!xe(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Oe]}set(e,t,r){if((r=r||this[be])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[Se](t,e);if(this[Te].has(e)){if(s>this[_e])return Pe(this,this[Te].get(e)),!1;const i=this[Te].get(e).value;return this[we]&&(this[$e]||this[we](e,i.value)),i.now=n,i.maxAge=r,i.value=t,this[Re]+=s-i.length,i.length=s,this.get(e),Ce(this),!0}const i=new ke(e,t,s,n,r);return i.length>this[_e]?(this[we]&&this[we](e,t),!1):(this[Re]+=i.length,this[Oe].unshift(i),this[Te].set(e,this[Oe].head),Ce(this),!0)}has(e){if(!this[Te].has(e))return!1;const t=this[Te].get(e).value;return!xe(this,t)}get(e){return Ne(this,e,!0)}peek(e){return Ne(this,e,!1)}pop(){const e=this[Oe].tail;return e?(Pe(this,e),e.value):null}del(e){Pe(this,this[Te].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],s=n.e||0;if(0===s)this.set(n.k,n.v);else{const e=s-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[Te].forEach(((e,t)=>Ne(this,t,!1)))}};class Fe{constructor(e,t){if(t=I(t),e instanceof Fe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Fe(e.raw,t);if(e instanceof ut)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!We(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&Ke(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=je.get(t);if(r)return r;const n=this.options.loose,s=n?Ge[Be.HYPHENRANGELOOSE]:Ge[Be.HYPHENRANGE];e=e.replace(s,it(this.options.includePrerelease)),$("hyphen replace",e),e=e.replace(Ge[Be.COMPARATORTRIM],Ue),$("comparator trim",e,Ge[Be.COMPARATORTRIM]),e=(e=(e=e.replace(Ge[Be.TILDETRIM],Xe)).replace(Ge[Be.CARETTRIM],Ve)).split(/\s+/).join(" ");const i=n?Ge[Be.COMPARATORLOOSE]:Ge[Be.COMPARATOR],o=e.split(" ").map((e=>Ye(e,this.options))).join(" ").split(/\s+/).map((e=>st(e,this.options))).filter(this.options.loose?e=>!!e.match(i):()=>!0).map((e=>new ut(e,this.options)));o.length;const a=new Map;for(const e of o){if(We(e))return[e];a.set(e.value,e)}a.size>1&&a.has("")&&a.delete("");const l=[...a.values()];return je.set(t,l),l}intersects(e,t){if(!(e instanceof Fe))throw new TypeError("a Range is required");return this.set.some((r=>qe(r,t)&&e.set.some((e=>qe(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new H(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(ot(this.set[t],e,this.options))return!0;return!1}}var He=Fe;const je=new Me({max:1e3}),{re:Ge,t:Be,comparatorTrimReplace:Ue,tildeTrimReplace:Xe,caretTrimReplace:Ve}=O,We=e=>"<0.0.0-0"===e.value,Ke=e=>""===e.value,qe=(e,t)=>{let r=!0;const n=e.slice();let s=n.pop();for(;r&&n.length;)r=n.every((e=>s.intersects(e,t))),s=n.pop();return r},Ye=(e,t)=>($("comp",e,t),e=Je(e,t),$("caret",e),e=Ze(e,t),$("tildes",e),e=tt(e,t),$("xrange",e),e=nt(e,t),$("stars",e),e),Qe=e=>!e||"x"===e.toLowerCase()||"*"===e,Ze=(e,t)=>e.trim().split(/\s+/).map((e=>ze(e,t))).join(" "),ze=(e,t)=>{const r=t.loose?Ge[Be.TILDELOOSE]:Ge[Be.TILDE];return e.replace(r,((t,r,n,s,i)=>{let o;return $("tilde",e,t,r,n,s,i),Qe(r)?o="":Qe(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:Qe(s)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?($("replaceTilde pr",i),o=`>=${r}.${n}.${s}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${s} <${r}.${+n+1}.0-0`,$("tilde return",o),o}))},Je=(e,t)=>e.trim().split(/\s+/).map((e=>et(e,t))).join(" "),et=(e,t)=>{$("caret",e,t);const r=t.loose?Ge[Be.CARETLOOSE]:Ge[Be.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,s,i,o)=>{let a;return $("caret",e,t,r,s,i,o),Qe(r)?a="":Qe(s)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:Qe(i)?a="0"===r?`>=${r}.${s}.0${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${n} <${+r+1}.0.0-0`:o?($("replaceCaret pr",o),a="0"===r?"0"===s?`>=${r}.${s}.${i}-${o} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i}-${o} <${+r+1}.0.0-0`):($("no pr"),a="0"===r?"0"===s?`>=${r}.${s}.${i}${n} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i} <${+r+1}.0.0-0`),$("caret return",a),a}))},tt=(e,t)=>($("replaceXRanges",e,t),e.split(/\s+/).map((e=>rt(e,t))).join(" ")),rt=(e,t)=>{e=e.trim();const r=t.loose?Ge[Be.XRANGELOOSE]:Ge[Be.XRANGE];return e.replace(r,((r,n,s,i,o,a)=>{$("xRange",e,r,n,s,i,o,a);const l=Qe(s),u=l||Qe(i),c=u||Qe(o),h=c;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(i=0),o=0,">"===n?(n=">=",u?(s=+s+1,i=0,o=0):(i=+i+1,o=0)):"<="===n&&(n="<",u?s=+s+1:i=+i+1),"<"===n&&(a="-0"),r=`${n+s}.${i}.${o}${a}`):u?r=`>=${s}.0.0${a} <${+s+1}.0.0-0`:c&&(r=`>=${s}.${i}.0${a} <${s}.${+i+1}.0-0`),$("xRange return",r),r}))},nt=(e,t)=>($("replaceStars",e,t),e.trim().replace(Ge[Be.STAR],"")),st=(e,t)=>($("replaceGTE0",e,t),e.trim().replace(Ge[t.includePrerelease?Be.GTE0PRE:Be.GTE0],"")),it=e=>(t,r,n,s,i,o,a,l,u,c,h,p,f)=>`${r=Qe(n)?"":Qe(s)?`>=${n}.0.0${e?"-0":""}`:Qe(i)?`>=${n}.${s}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=Qe(u)?"":Qe(c)?`<${+u+1}.0.0-0`:Qe(h)?`<${u}.${+c+1}.0-0`:p?`<=${u}.${c}.${h}-${p}`:e?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),ot=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if($(e[r].semver),e[r].semver!==ut.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0},at=Symbol("SemVer ANY");class lt{static get ANY(){return at}constructor(e,t){if(t=I(t),e instanceof lt){if(e.loose===!!t.loose)return e;e=e.value}$("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===at?this.value="":this.value=this.operator+this.semver.version,$("comp",this)}parse(e){const t=this.options.loose?ct[ht.COMPARATORLOOSE]:ct[ht.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new H(r[2],this.options.loose):this.semver=at}toString(){return this.value}test(e){if($("Comparator.test",e,this.options.loose),this.semver===at||e===at)return!0;if("string"==typeof e)try{e=new H(e,this.options)}catch(e){return!1}return ce(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof lt))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new He(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new He(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=ce(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),a=ce(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||s&&i||o||a}}var ut=lt;const{re:ct,t:ht}=O;var pt=(e,t,r)=>{try{t=new He(t,r)}catch(e){return!1}return t.test(e)};var ft=(e,t)=>new He(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));var dt=(e,t,r)=>{let n=null,s=null,i=null;try{i=new He(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&-1!==s.compare(e)||(n=e,s=new H(n,r)))})),n};var gt=(e,t,r)=>{let n=null,s=null,i=null;try{i=new He(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&1!==s.compare(e)||(n=e,s=new H(n,r)))})),n};var mt=(e,t)=>{e=new He(e,t);let r=new H("0.0.0");if(e.test(r))return r;if(r=new H("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let s=null;n.forEach((e=>{const t=new H(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!ie(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!ie(r,s)||(r=s)}return r&&e.test(r)?r:null};var vt=(e,t)=>{try{return new He(e,t).range||"*"}catch(e){return null}};const{ANY:Et}=ut;var yt=(e,t,r,n)=>{let s,i,o,a,l;switch(e=new H(e,n),t=new He(t,n),r){case">":s=ie,i=ue,o=oe,a=">",l=">=";break;case"<":s=oe,i=le,o=ie,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pt(e,t,n))return!1;for(let r=0;r<t.set.length;++r){const u=t.set[r];let c=null,h=null;if(u.forEach((e=>{e.semver===Et&&(e=new ut(">=0.0.0")),c=c||e,h=h||e,s(e.semver,c.semver,n)?c=e:o(e.semver,h.semver,n)&&(h=e)})),c.operator===a||c.operator===l)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var _t=(e,t,r)=>yt(e,t,">",r);var Rt=(e,t,r)=>yt(e,t,"<",r);var St=(e,t,r)=>(e=new He(e,r),t=new He(t,r),e.intersects(t));const{ANY:At}=ut,bt=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===At){if(1===t.length&&t[0].semver===At)return!0;e=r.includePrerelease?[new ut(">=0.0.0-0")]:[new ut(">=0.0.0")]}if(1===t.length&&t[0].semver===At){if(r.includePrerelease)return!0;t=[new ut(">=0.0.0")]}const n=new Set;let s,i,o,a,l,u,c;for(const t of e)">"===t.operator||">="===t.operator?s=wt(s,t,r):"<"===t.operator||"<="===t.operator?i=$t(i,t,r):n.add(t.semver);if(n.size>1)return null;if(s&&i){if(o=K(s.semver,i.semver,r),o>0)return null;if(0===o&&(">="!==s.operator||"<="!==i.operator))return null}for(const e of n){if(s&&!pt(e,String(s),r))return null;if(i&&!pt(e,String(i),r))return null;for(const n of t)if(!pt(e,String(n),r))return!1;return!0}let h=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,p=!(!s||r.includePrerelease||!s.semver.prerelease.length)&&s.semver;h&&1===h.prerelease.length&&"<"===i.operator&&0===h.prerelease[0]&&(h=!1);for(const e of t){if(c=c||">"===e.operator||">="===e.operator,u=u||"<"===e.operator||"<="===e.operator,s)if(p&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===p.major&&e.semver.minor===p.minor&&e.semver.patch===p.patch&&(p=!1),">"===e.operator||">="===e.operator){if(a=wt(s,e,r),a===e&&a!==s)return!1}else if(">="===s.operator&&!pt(s.semver,String(e),r))return!1;if(i)if(h&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===h.major&&e.semver.minor===h.minor&&e.semver.patch===h.patch&&(h=!1),"<"===e.operator||"<="===e.operator){if(l=$t(i,e,r),l===e&&l!==i)return!1}else if("<="===i.operator&&!pt(i.semver,String(e),r))return!1;if(!e.operator&&(i||s)&&0!==o)return!1}return!(s&&u&&!i&&0!==o)&&(!(i&&c&&!s&&0!==o)&&(!p&&!h))},wt=(e,t,r)=>{if(!e)return t;const n=K(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},$t=(e,t,r)=>{if(!e)return t;const n=K(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};var Ot=(e,t,r={})=>{if(e===t)return!0;e=new He(e,r),t=new He(t,r);let n=!1;e:for(const s of e.set){for(const e of t.set){const t=bt(s,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0},Tt={re:O.re,src:O.src,tokens:O.t,SEMVER_SPEC_VERSION:w.SEMVER_SPEC_VERSION,SemVer:H,compareIdentifiers:x.compareIdentifiers,rcompareIdentifiers:x.rcompareIdentifiers,parse:U,valid:X,clean:V,inc:W,diff:Y,major:Q,minor:Z,patch:z,prerelease:J,compare:K,rcompare:ee,compareLoose:te,compareBuild:re,sort:ne,rsort:se,gt:ie,lt:oe,eq:q,neq:ae,gte:le,lte:ue,cmp:ce,coerce:fe,Comparator:ut,Range:He,satisfies:pt,toComparators:ft,maxSatisfying:dt,minSatisfying:gt,minVersion:mt,validRange:vt,outside:yt,gtr:_t,ltr:Rt,intersects:St,simplifyRange:(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort(((e,t)=>K(e,t,r)));for(const e of o){pt(e,t,r)?(i=e,s||(s=e)):(i&&n.push([s,i]),i=null,s=null)}s&&n.push([s,null]);const a=[];for(const[e,t]of n)e===t?a.push(e):t||e!==o[0]?t?e===o[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const l=a.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return l.length<u.length?l:t},subset:Ot};var It={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var Lt="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},Nt=b((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=It,n=(t=e.exports={}).re=[],s=t.src=[],i=t.t={};let o=0;const a=(e,t,r)=>{const a=o++;Lt(a,t),i[e]=a,s[a]=t,n[a]=new RegExp(t,r?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`),a("FULL",`^${s[i.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`),a("LOOSE",`^${s[i.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${s[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${s[i.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?)?)?`),a("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),a("COERCERTL",s[i.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",a("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",a("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})\\s+-\\s+(${s[i.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[i.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0.0.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const xt=["includePrerelease","loose","rtl"];var Ct=e=>e?"object"!=typeof e?{loose:!0}:xt.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const Pt=/^[0-9]+$/,kt=(e,t)=>{const r=Pt.test(e),n=Pt.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var Dt={compareIdentifiers:kt,rcompareIdentifiers:(e,t)=>kt(t,e)};const{MAX_LENGTH:Mt,MAX_SAFE_INTEGER:Ft}=It,{re:Ht,t:jt}=Nt,{compareIdentifiers:Gt}=Dt;class Bt{constructor(e,t){if(t=Ct(t),e instanceof Bt){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>Mt)throw new TypeError(`version is longer than ${Mt} characters`);Lt("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?Ht[jt.LOOSE]:Ht[jt.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ft||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ft||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ft||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Ft)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Lt("SemVer.compare",this.version,this.options,e),!(e instanceof Bt)){if("string"==typeof e&&e===this.version)return 0;e=new Bt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Bt||(e=new Bt(e,this.options)),Gt(this.major,e.major)||Gt(this.minor,e.minor)||Gt(this.patch,e.patch)}comparePre(e){if(e instanceof Bt||(e=new Bt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(Lt("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Gt(r,n)}while(++t)}compareBuild(e){e instanceof Bt||(e=new Bt(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(Lt("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Gt(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var Ut=Bt;const{MAX_LENGTH:Xt}=It,{re:Vt,t:Wt}=Nt;var Kt=(e,t)=>{if(t=Ct(t),e instanceof Ut)return e;if("string"!=typeof e)return null;if(e.length>Xt)return null;if(!(t.loose?Vt[Wt.LOOSE]:Vt[Wt.FULL]).test(e))return null;try{return new Ut(e,t)}catch(e){return null}};var qt=(e,t)=>{const r=Kt(e,t);return r?r.version:null};var Yt=(e,t)=>{const r=Kt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Qt=(e,t,r,n)=>{"string"==typeof r&&(n=r,r=void 0);try{return new Ut(e,r).inc(t,n).version}catch(e){return null}};var Zt=(e,t,r)=>new Ut(e,r).compare(new Ut(t,r));var zt=(e,t,r)=>0===Zt(e,t,r);var Jt=(e,t)=>{if(zt(e,t))return null;{const r=Kt(e),n=Kt(t),s=r.prerelease.length||n.prerelease.length,i=s?"pre":"",o=s?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==n[e])return i+e;return o}};var er=(e,t)=>new Ut(e,t).major;var tr=(e,t)=>new Ut(e,t).minor;var rr=(e,t)=>new Ut(e,t).patch;var nr=(e,t)=>{const r=Kt(e,t);return r&&r.prerelease.length?r.prerelease:null};var sr=(e,t,r)=>Zt(t,e,r);var ir=(e,t)=>Zt(e,t,!0);var or=(e,t,r)=>{const n=new Ut(e,r),s=new Ut(t,r);return n.compare(s)||n.compareBuild(s)};var ar=(e,t)=>e.sort(((e,r)=>or(e,r,t)));var lr=(e,t)=>e.sort(((e,r)=>or(r,e,t)));var ur=(e,t,r)=>Zt(e,t,r)>0;var cr=(e,t,r)=>Zt(e,t,r)<0;var hr=(e,t,r)=>0!==Zt(e,t,r);var pr=(e,t,r)=>Zt(e,t,r)>=0;var fr=(e,t,r)=>Zt(e,t,r)<=0;var dr=(e,t,r,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return zt(e,r,n);case"!=":return hr(e,r,n);case">":return ur(e,r,n);case">=":return pr(e,r,n);case"<":return cr(e,r,n);case"<=":return fr(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const{re:gr,t:mr}=Nt;var vr=(e,t)=>{if(e instanceof Ut)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=gr[mr.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),gr[mr.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;gr[mr.COERCERTL].lastIndex=-1}else r=e.match(gr[mr.COERCE]);return null===r?null:Kt(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},Er=yr;function yr(e){var t=this;if(t instanceof yr||(t=new yr),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function _r(e,t,r){var n=t===e.head?new Ar(r,null,t,e):new Ar(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function Rr(e,t){e.tail=new Ar(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Sr(e,t){e.head=new Ar(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Ar(e,t,r,n){if(!(this instanceof Ar))return new Ar(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}yr.Node=Ar,yr.create=yr,yr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},yr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},yr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},yr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Rr(this,arguments[e]);return this.length},yr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Sr(this,arguments[e]);return this.length},yr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},yr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},yr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},yr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},yr.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},yr.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},yr.prototype.map=function(e,t){t=t||this;for(var r=new yr,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},yr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new yr,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},yr.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var s=0;null!==n;s++)r=e(r,n.value,s),n=n.next;return r},yr.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var s=this.length-1;null!==n;s--)r=e(r,n.value,s),n=n.prev;return r},yr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},yr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},yr.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new yr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;for(;null!==s&&n<t;n++,s=s.next)r.push(s.value);return r},yr.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new yr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;null!==s&&n>t;n--)s=s.prev;for(;null!==s&&n>e;n--,s=s.prev)r.push(s.value);return r},yr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var i=[];for(n=0;s&&n<t;n++)i.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=_r(this,s,r[n]);return i},yr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{!function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}(yr)}catch(e){}const br=Symbol("max"),wr=Symbol("length"),$r=Symbol("lengthCalculator"),Or=Symbol("allowStale"),Tr=Symbol("maxAge"),Ir=Symbol("dispose"),Lr=Symbol("noDisposeOnSet"),Nr=Symbol("lruList"),xr=Symbol("cache"),Cr=Symbol("updateAgeOnGet"),Pr=()=>1;const kr=(e,t,r)=>{const n=e[xr].get(t);if(n){const t=n.value;if(Dr(e,t)){if(Fr(e,n),!e[Or])return}else r&&(e[Cr]&&(n.value.now=Date.now()),e[Nr].unshiftNode(n));return t.value}},Dr=(e,t)=>{if(!t||!t.maxAge&&!e[Tr])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Tr]&&r>e[Tr]},Mr=e=>{if(e[wr]>e[br])for(let t=e[Nr].tail;e[wr]>e[br]&&null!==t;){const r=t.prev;Fr(e,t),t=r}},Fr=(e,t)=>{if(t){const r=t.value;e[Ir]&&e[Ir](r.key,r.value),e[wr]-=r.length,e[xr].delete(r.key),e[Nr].removeNode(t)}};class Hr{constructor(e,t,r,n,s){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=s||0}}const jr=(e,t,r,n)=>{let s=r.value;Dr(e,s)&&(Fr(e,r),e[Or]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};var Gr=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[br]=e.max||1/0;const t=e.length||Pr;if(this[$r]="function"!=typeof t?Pr:t,this[Or]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[Tr]=e.maxAge||0,this[Ir]=e.dispose,this[Lr]=e.noDisposeOnSet||!1,this[Cr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[br]=e||1/0,Mr(this)}get max(){return this[br]}set allowStale(e){this[Or]=!!e}get allowStale(){return this[Or]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[Tr]=e,Mr(this)}get maxAge(){return this[Tr]}set lengthCalculator(e){"function"!=typeof e&&(e=Pr),e!==this[$r]&&(this[$r]=e,this[wr]=0,this[Nr].forEach((e=>{e.length=this[$r](e.value,e.key),this[wr]+=e.length}))),Mr(this)}get lengthCalculator(){return this[$r]}get length(){return this[wr]}get itemCount(){return this[Nr].length}rforEach(e,t){t=t||this;for(let r=this[Nr].tail;null!==r;){const n=r.prev;jr(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[Nr].head;null!==r;){const n=r.next;jr(this,e,r,t),r=n}}keys(){return this[Nr].toArray().map((e=>e.key))}values(){return this[Nr].toArray().map((e=>e.value))}reset(){this[Ir]&&this[Nr]&&this[Nr].length&&this[Nr].forEach((e=>this[Ir](e.key,e.value))),this[xr]=new Map,this[Nr]=new Er,this[wr]=0}dump(){return this[Nr].map((e=>!Dr(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Nr]}set(e,t,r){if((r=r||this[Tr])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[$r](t,e);if(this[xr].has(e)){if(s>this[br])return Fr(this,this[xr].get(e)),!1;const i=this[xr].get(e).value;return this[Ir]&&(this[Lr]||this[Ir](e,i.value)),i.now=n,i.maxAge=r,i.value=t,this[wr]+=s-i.length,i.length=s,this.get(e),Mr(this),!0}const i=new Hr(e,t,s,n,r);return i.length>this[br]?(this[Ir]&&this[Ir](e,t),!1):(this[wr]+=i.length,this[Nr].unshift(i),this[xr].set(e,this[Nr].head),Mr(this),!0)}has(e){if(!this[xr].has(e))return!1;const t=this[xr].get(e).value;return!Dr(this,t)}get(e){return kr(this,e,!0)}peek(e){return kr(this,e,!1)}pop(){const e=this[Nr].tail;return e?(Fr(this,e),e.value):null}del(e){Fr(this,this[xr].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],s=n.e||0;if(0===s)this.set(n.k,n.v);else{const e=s-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[xr].forEach(((e,t)=>kr(this,t,!1)))}};class Br{constructor(e,t){if(t=Ct(t),e instanceof Br)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Br(e.raw,t);if(e instanceof dn)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!Qr(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&Zr(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=Xr.get(t);if(r)return r;const n=this.options.loose,s=n?Vr[Wr.HYPHENRANGELOOSE]:Vr[Wr.HYPHENRANGE];e=e.replace(s,cn(this.options.includePrerelease)),Lt("hyphen replace",e),e=e.replace(Vr[Wr.COMPARATORTRIM],Kr),Lt("comparator trim",e,Vr[Wr.COMPARATORTRIM]),e=(e=(e=e.replace(Vr[Wr.TILDETRIM],qr)).replace(Vr[Wr.CARETTRIM],Yr)).split(/\s+/).join(" ");const i=n?Vr[Wr.COMPARATORLOOSE]:Vr[Wr.COMPARATOR],o=e.split(" ").map((e=>Jr(e,this.options))).join(" ").split(/\s+/).map((e=>un(e,this.options))).filter(this.options.loose?e=>!!e.match(i):()=>!0).map((e=>new dn(e,this.options)));o.length;const a=new Map;for(const e of o){if(Qr(e))return[e];a.set(e.value,e)}a.size>1&&a.has("")&&a.delete("");const l=[...a.values()];return Xr.set(t,l),l}intersects(e,t){if(!(e instanceof Br))throw new TypeError("a Range is required");return this.set.some((r=>zr(r,t)&&e.set.some((e=>zr(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new Ut(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(hn(this.set[t],e,this.options))return!0;return!1}}var Ur=Br;const Xr=new Gr({max:1e3}),{re:Vr,t:Wr,comparatorTrimReplace:Kr,tildeTrimReplace:qr,caretTrimReplace:Yr}=Nt,Qr=e=>"<0.0.0-0"===e.value,Zr=e=>""===e.value,zr=(e,t)=>{let r=!0;const n=e.slice();let s=n.pop();for(;r&&n.length;)r=n.every((e=>s.intersects(e,t))),s=n.pop();return r},Jr=(e,t)=>(Lt("comp",e,t),e=nn(e,t),Lt("caret",e),e=tn(e,t),Lt("tildes",e),e=on(e,t),Lt("xrange",e),e=ln(e,t),Lt("stars",e),e),en=e=>!e||"x"===e.toLowerCase()||"*"===e,tn=(e,t)=>e.trim().split(/\s+/).map((e=>rn(e,t))).join(" "),rn=(e,t)=>{const r=t.loose?Vr[Wr.TILDELOOSE]:Vr[Wr.TILDE];return e.replace(r,((t,r,n,s,i)=>{let o;return Lt("tilde",e,t,r,n,s,i),en(r)?o="":en(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:en(s)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(Lt("replaceTilde pr",i),o=`>=${r}.${n}.${s}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${s} <${r}.${+n+1}.0-0`,Lt("tilde return",o),o}))},nn=(e,t)=>e.trim().split(/\s+/).map((e=>sn(e,t))).join(" "),sn=(e,t)=>{Lt("caret",e,t);const r=t.loose?Vr[Wr.CARETLOOSE]:Vr[Wr.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,s,i,o)=>{let a;return Lt("caret",e,t,r,s,i,o),en(r)?a="":en(s)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:en(i)?a="0"===r?`>=${r}.${s}.0${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${n} <${+r+1}.0.0-0`:o?(Lt("replaceCaret pr",o),a="0"===r?"0"===s?`>=${r}.${s}.${i}-${o} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i}-${o} <${+r+1}.0.0-0`):(Lt("no pr"),a="0"===r?"0"===s?`>=${r}.${s}.${i}${n} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i} <${+r+1}.0.0-0`),Lt("caret return",a),a}))},on=(e,t)=>(Lt("replaceXRanges",e,t),e.split(/\s+/).map((e=>an(e,t))).join(" ")),an=(e,t)=>{e=e.trim();const r=t.loose?Vr[Wr.XRANGELOOSE]:Vr[Wr.XRANGE];return e.replace(r,((r,n,s,i,o,a)=>{Lt("xRange",e,r,n,s,i,o,a);const l=en(s),u=l||en(i),c=u||en(o),h=c;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(i=0),o=0,">"===n?(n=">=",u?(s=+s+1,i=0,o=0):(i=+i+1,o=0)):"<="===n&&(n="<",u?s=+s+1:i=+i+1),"<"===n&&(a="-0"),r=`${n+s}.${i}.${o}${a}`):u?r=`>=${s}.0.0${a} <${+s+1}.0.0-0`:c&&(r=`>=${s}.${i}.0${a} <${s}.${+i+1}.0-0`),Lt("xRange return",r),r}))},ln=(e,t)=>(Lt("replaceStars",e,t),e.trim().replace(Vr[Wr.STAR],"")),un=(e,t)=>(Lt("replaceGTE0",e,t),e.trim().replace(Vr[t.includePrerelease?Wr.GTE0PRE:Wr.GTE0],"")),cn=e=>(t,r,n,s,i,o,a,l,u,c,h,p,f)=>`${r=en(n)?"":en(s)?`>=${n}.0.0${e?"-0":""}`:en(i)?`>=${n}.${s}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=en(u)?"":en(c)?`<${+u+1}.0.0-0`:en(h)?`<${u}.${+c+1}.0-0`:p?`<=${u}.${c}.${h}-${p}`:e?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),hn=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(Lt(e[r].semver),e[r].semver!==dn.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0},pn=Symbol("SemVer ANY");class fn{static get ANY(){return pn}constructor(e,t){if(t=Ct(t),e instanceof fn){if(e.loose===!!t.loose)return e;e=e.value}Lt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===pn?this.value="":this.value=this.operator+this.semver.version,Lt("comp",this)}parse(e){const t=this.options.loose?gn[mn.COMPARATORLOOSE]:gn[mn.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new Ut(r[2],this.options.loose):this.semver=pn}toString(){return this.value}test(e){if(Lt("Comparator.test",e,this.options.loose),this.semver===pn||e===pn)return!0;if("string"==typeof e)try{e=new Ut(e,this.options)}catch(e){return!1}return dr(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof fn))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new Ur(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new Ur(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=dr(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),a=dr(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||s&&i||o||a}}var dn=fn;const{re:gn,t:mn}=Nt;var vn=(e,t,r)=>{try{t=new Ur(t,r)}catch(e){return!1}return t.test(e)};var En=(e,t)=>new Ur(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));var yn=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Ur(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&-1!==s.compare(e)||(n=e,s=new Ut(n,r)))})),n};var _n=(e,t,r)=>{let n=null,s=null,i=null;try{i=new Ur(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&1!==s.compare(e)||(n=e,s=new Ut(n,r)))})),n};var Rn=(e,t)=>{e=new Ur(e,t);let r=new Ut("0.0.0");if(e.test(r))return r;if(r=new Ut("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let s=null;n.forEach((e=>{const t=new Ut(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!ur(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!ur(r,s)||(r=s)}return r&&e.test(r)?r:null};var Sn=(e,t)=>{try{return new Ur(e,t).range||"*"}catch(e){return null}};const{ANY:An}=dn;var bn=(e,t,r,n)=>{let s,i,o,a,l;switch(e=new Ut(e,n),t=new Ur(t,n),r){case">":s=ur,i=fr,o=cr,a=">",l=">=";break;case"<":s=cr,i=pr,o=ur,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(vn(e,t,n))return!1;for(let r=0;r<t.set.length;++r){const u=t.set[r];let c=null,h=null;if(u.forEach((e=>{e.semver===An&&(e=new dn(">=0.0.0")),c=c||e,h=h||e,s(e.semver,c.semver,n)?c=e:o(e.semver,h.semver,n)&&(h=e)})),c.operator===a||c.operator===l)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var wn=(e,t,r)=>bn(e,t,">",r);var $n=(e,t,r)=>bn(e,t,"<",r);var On=(e,t,r)=>(e=new Ur(e,r),t=new Ur(t,r),e.intersects(t));const{ANY:Tn}=dn,In=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===Tn){if(1===t.length&&t[0].semver===Tn)return!0;e=r.includePrerelease?[new dn(">=0.0.0-0")]:[new dn(">=0.0.0")]}if(1===t.length&&t[0].semver===Tn){if(r.includePrerelease)return!0;t=[new dn(">=0.0.0")]}const n=new Set;let s,i,o,a,l,u,c;for(const t of e)">"===t.operator||">="===t.operator?s=Ln(s,t,r):"<"===t.operator||"<="===t.operator?i=Nn(i,t,r):n.add(t.semver);if(n.size>1)return null;if(s&&i){if(o=Zt(s.semver,i.semver,r),o>0)return null;if(0===o&&(">="!==s.operator||"<="!==i.operator))return null}for(const e of n){if(s&&!vn(e,String(s),r))return null;if(i&&!vn(e,String(i),r))return null;for(const n of t)if(!vn(e,String(n),r))return!1;return!0}let h=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,p=!(!s||r.includePrerelease||!s.semver.prerelease.length)&&s.semver;h&&1===h.prerelease.length&&"<"===i.operator&&0===h.prerelease[0]&&(h=!1);for(const e of t){if(c=c||">"===e.operator||">="===e.operator,u=u||"<"===e.operator||"<="===e.operator,s)if(p&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===p.major&&e.semver.minor===p.minor&&e.semver.patch===p.patch&&(p=!1),">"===e.operator||">="===e.operator){if(a=Ln(s,e,r),a===e&&a!==s)return!1}else if(">="===s.operator&&!vn(s.semver,String(e),r))return!1;if(i)if(h&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===h.major&&e.semver.minor===h.minor&&e.semver.patch===h.patch&&(h=!1),"<"===e.operator||"<="===e.operator){if(l=Nn(i,e,r),l===e&&l!==i)return!1}else if("<="===i.operator&&!vn(i.semver,String(e),r))return!1;if(!e.operator&&(i||s)&&0!==o)return!1}return!(s&&u&&!i&&0!==o)&&(!(i&&c&&!s&&0!==o)&&(!p&&!h))},Ln=(e,t,r)=>{if(!e)return t;const n=Zt(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},Nn=(e,t,r)=>{if(!e)return t;const n=Zt(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};var xn=(e,t,r={})=>{if(e===t)return!0;e=new Ur(e,r),t=new Ur(t,r);let n=!1;e:for(const s of e.set){for(const e of t.set){const t=In(s,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0},Cn={re:Nt.re,src:Nt.src,tokens:Nt.t,SEMVER_SPEC_VERSION:It.SEMVER_SPEC_VERSION,SemVer:Ut,compareIdentifiers:Dt.compareIdentifiers,rcompareIdentifiers:Dt.rcompareIdentifiers,parse:Kt,valid:qt,clean:Yt,inc:Qt,diff:Jt,major:er,minor:tr,patch:rr,prerelease:nr,compare:Zt,rcompare:sr,compareLoose:ir,compareBuild:or,sort:ar,rsort:lr,gt:ur,lt:cr,eq:zt,neq:hr,gte:pr,lte:fr,cmp:dr,coerce:vr,Comparator:dn,Range:Ur,satisfies:vn,toComparators:En,maxSatisfying:yn,minSatisfying:_n,minVersion:Rn,validRange:Sn,outside:bn,gtr:wn,ltr:$n,intersects:On,simplifyRange:(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort(((e,t)=>Zt(e,t,r)));for(const e of o){vn(e,t,r)?(i=e,s||(s=e)):(i&&n.push([s,i]),i=null,s=null)}s&&n.push([s,null]);const a=[];for(const[e,t]of n)e===t?a.push(e):t||e!==o[0]?t?e===o[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const l=a.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return l.length<u.length?l:t},subset:xn},Pn=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return Cn.clean(e,{loose:!0,includePrerelease:!0})||Cn.valid(Cn.coerce(e))},kn=e=>((e,t)=>{t={includePrereleases:!0,clean:!0,...t};let r=e.map((e=>e.trim())).map((e=>[e,Pn(e)])).filter((e=>e[1])).sort(((e,t)=>Tt.rcompare(e[1],t[1])));return t.includePrereleases||(r=r.filter((e=>null===Tt.prerelease(e[1])))),t.clean?r.map((e=>e[1])):r.map((([e])=>e))})(e,{includePrereleases:!1})[0];function Dn(e){return d(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.promises.access(e,t.constants.F_OK)];case 1:return r.sent(),[3,3];case 2:return r.sent(),[2,!1];case 3:return[2,!0]}}))}))}function Mn(){return d(this,void 0,void 0,(function(){var e,t;return g(this,(function(n){switch(n.label){case 0:return e=r.dirname(atom.config.getUserConfigPath()),[4,Dn(t=r.join(e,".apm")||null)];case 1:return[2,n.sent()?t:null]}}))}))}function Fn(e){return d(this,void 0,void 0,(function(){var r;return g(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.promises.lstat(e)];case 1:return r=n.sent(),[3,3];case 2:return n.sent(),[2,!1];case 3:return[2,r.isDirectory()]}}))}))}function Hn(e){var t=kn(e),r=e.indexOf(t);return e.splice(r,1),[t,e.sort().slice(0,-1*Number(S("itemsToKeep")))]}function jn(){var e,t=Number(S("periodicCleanupInterval"));return-1!==t&&(!(60*t>=Math.floor((new Date).getTime()/1e3)-(e=localStorage.getItem(m+".lastUpdateTime")||0,Math.floor(new Date(e).getTime()/1e3)))||(E.log("No periodic cleanup due "),!1))}var Gn=(...e)=>[...new Set([].concat(...e))];const Bn=c.default.PassThrough,Un=Array.prototype.slice;var Xn=function(){const e=[],t=Un.call(arguments);let r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&null==n.pipe?t.pop():n={};const s=!1!==n.end,i=!0===n.pipeError;null==n.objectMode&&(n.objectMode=!0);null==n.highWaterMark&&(n.highWaterMark=65536);const o=Bn(n);function a(){for(let t=0,r=arguments.length;t<r;t++)e.push(Vn(arguments[t],n));return l(),this}function l(){if(r)return;r=!0;let t=e.shift();if(!t)return void process.nextTick(u);Array.isArray(t)||(t=[t]);let n=t.length+1;function s(){--n>0||(r=!1,l())}function a(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),i&&e.removeListener("error",r),s()}function r(e){o.emit("error",e)}if(e._readableState.endEmitted)return s();e.on("merge2UnpipeEnd",t),e.on("end",t),i&&e.on("error",r),e.pipe(o,{end:!1}),e.resume()}for(let e=0;e<t.length;e++)a(t[e]);s()}function u(){r=!1,o.emit("queueDrain"),s&&o.end()}o.setMaxListeners(0),o.add=a,o.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),t.length&&a.apply(null,t);return o};function Vn(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=Vn(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(Bn(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}var Wn=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.splitWhen=t.flatten=void 0,t.flatten=function(e){return e.reduce(((e,t)=>[].concat(e,t)),[])},t.splitWhen=function(e,t){const r=[[]];let n=0;for(const s of e)t(s)?(n++,r[n]=[]):r[n].push(s);return r}})),Kn=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEnoentCodeError=void 0,t.isEnoentCodeError=function(e){return"ENOENT"===e.code}})),qn=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}})),Yn=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.removeLeadingDotSegment=t.escape=t.makeAbsolute=t.unixify=void 0;const r=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;t.unixify=function(e){return e.replace(/\\/g,"/")},t.makeAbsolute=function(e,t){return u.default.resolve(e,t)},t.escape=function(e){return e.replace(r,"\\$2")},t.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){const t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e}})),Qn={"{":"}","(":")","[":"]"},Zn=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,zn=/\\(.)|(^!|[*?{}()[\]]|\(\?)/,Jn=function(e,t){if("string"!=typeof e||""===e)return!1;if(function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}(e))return!0;var r,n=Zn;for(t&&!1===t.strict&&(n=zn);r=n.exec(e);){if(r[2])return!0;var s=r.index+r[0].length,i=r[1],o=i?Qn[i]:null;if(i&&o){var a=e.indexOf(o,s);-1!==a&&(s=a+1)}e=e.slice(s)}return!1},es=u.default.posix.dirname,ts="win32"===h.default.platform(),rs=/\\/g,ns=/[\{\[].*[\}\]]$/,ss=/(^|[^\\])([\{\[]|\([^\)]+$)/,is=/\\([\!\*\?\|\[\]\(\)\{\}])/g,os=b((function(e,t){t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find((e=>e.type===t)),t.exceedsLimit=(e,r,n=1,s)=>!1!==s&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(n)>=s),t.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let n=0;n<e.length;n++){let s=e[n];Array.isArray(s)?r(s):void 0!==s&&t.push(s)}return t};return r(e),t}})),as=(e,t={})=>{let r=(e,n={})=>{let s=t.escapeInvalid&&os.isInvalidBrace(n),i=!0===e.invalid&&!0===t.escapeInvalid,o="";if(e.value)return(s||i)&&os.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)o+=r(t);return o};return r(e)},ls=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))};
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
const us=(e,t,r)=>{if(!1===ls(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===ls(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};"boolean"==typeof n.strictZeros&&(n.relaxZeros=!1===n.strictZeros);let s=e+":"+t+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture)+String(n.wrap);if(us.cache.hasOwnProperty(s))return us.cache[s].result;let i=Math.min(e,t),o=Math.max(e,t);if(1===Math.abs(i-o)){let r=e+"|"+t;return n.capture?`(${r})`:!1===n.wrap?r:`(?:${r})`}let a=ys(e)||ys(t),l={min:e,max:t,a:i,b:o},u=[],c=[];if(a&&(l.isPadded=a,l.maxLen=String(l.max).length),i<0){c=hs(o<0?Math.abs(o):1,Math.abs(i),l,n),i=l.a=0}return o>=0&&(u=hs(i,o,l,n)),l.negatives=c,l.positives=u,l.result=function(e,t,r){let n=ps(e,t,"-",!1)||[],s=ps(t,e,"",!1)||[],i=ps(e,t,"-?",!0)||[];return n.concat(i).concat(s).join("|")}(c,u),!0===n.capture?l.result=`(${l.result})`:!1!==n.wrap&&u.length+c.length>1&&(l.result=`(?:${l.result})`),us.cache[s]=l,l.result};function cs(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}(e,t),s=n.length,i="",o=0;for(let e=0;e<s;e++){let[t,r]=n[e];t===r?i+=t:"0"!==t||"9"!==r?i+=Es(t,r):o++}return o&&(i+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:i,count:[o],digits:s}}function hs(e,t,r,n){let s,i=function(e,t){let r=1,n=1,s=gs(e,r),i=new Set([t]);for(;e<=s&&s<=t;)i.add(s),r+=1,s=gs(e,r);for(s=ms(t+1,n)-1;e<s&&s<=t;)i.add(s),n+=1,s=ms(t+1,n)-1;return i=[...i],i.sort(fs),i}(e,t),o=[],a=e;for(let e=0;e<i.length;e++){let t=i[e],l=cs(String(a),String(t),n),u="";r.isPadded||!s||s.pattern!==l.pattern?(r.isPadded&&(u=_s(t,r,n)),l.string=u+l.pattern+vs(l.count),o.push(l),a=t+1,s=l):(s.count.length>1&&s.count.pop(),s.count.push(l.count[0]),s.string=s.pattern+vs(s.count),a=t+1)}return o}function ps(e,t,r,n,s){let i=[];for(let s of e){let{string:e}=s;n||ds(t,"string",e)||i.push(r+e),n&&ds(t,"string",e)&&i.push(r+e)}return i}function fs(e,t){return e>t?1:t>e?-1:0}function ds(e,t,r){return e.some((e=>e[t]===r))}function gs(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function ms(e,t){return e-e%Math.pow(10,t)}function vs(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Es(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function ys(e){return/^-?(0+)\d/.test(e)}function _s(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}us.cache={},us.clearCache=()=>us.cache={};var Rs=us;
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const Ss=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),As=e=>"number"==typeof e||"string"==typeof e&&""!==e,bs=e=>Number.isInteger(+e),ws=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},$s=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},Os=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Ts=(e,t,r,n)=>{if(r)return Rs(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},Is=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,n=r.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return Rs(e,t,r)},Ls=(...e)=>new RangeError("Invalid range arguments: "+p.default.inspect(...e)),Ns=(e,t,r)=>{if(!0===r.strictRanges)throw Ls([e,t]);return[]},xs=(e,t,r=1,n={})=>{let s=Number(e),i=Number(t);if(!Number.isInteger(s)||!Number.isInteger(i)){if(!0===n.strictRanges)throw Ls([e,t]);return[]}0===s&&(s=0),0===i&&(i=0);let o=s>i,a=String(e),l=String(t),u=String(r);r=Math.max(Math.abs(r),1);let c=ws(a)||ws(l)||ws(u),h=c?Math.max(a.length,l.length,u.length):0,p=!1===c&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,n),f=n.transform||(e=>t=>!0===e?Number(t):String(t))(p);if(n.toRegex&&1===r)return Ts(Os(e,h),Os(t,h),!0,n);let d={negatives:[],positives:[]},g=[],m=0;for(;o?s>=i:s<=i;)!0===n.toRegex&&r>1?d[(v=s)<0?"negatives":"positives"].push(Math.abs(v)):g.push($s(f(s,m),h,p)),s=o?s-r:s+r,m++;var v;return!0===n.toRegex?r>1?((e,t)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let r,n=t.capture?"":"?:",s="",i="";return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(i=`-(${n}${e.negatives.join("|")})`),r=s&&i?`${s}|${i}`:s||i,t.wrap?`(${n}${r})`:r})(d,n):Is(g,null,{wrap:!1,...n}):g},Cs=(e,t,r,n={})=>{if(null==t&&As(e))return[e];if(!As(e)||!As(t))return Ns(e,t,n);if("function"==typeof r)return Cs(e,t,1,{transform:r});if(Ss(r))return Cs(e,t,0,r);let s={...n};return!0===s.capture&&(s.wrap=!0),r=r||s.step||1,bs(r)?bs(e)&&bs(t)?xs(e,t,r,s):((e,t,r=1,n={})=>{if(!bs(e)&&e.length>1||!bs(t)&&t.length>1)return Ns(e,t,n);let s=n.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=i>o,l=Math.min(i,o),u=Math.max(i,o);if(n.toRegex&&1===r)return Ts(l,u,!1,n);let c=[],h=0;for(;a?i>=o:i<=o;)c.push(s(i,h)),i=a?i-r:i+r,h++;return!0===n.toRegex?Is(c,null,{wrap:!1,options:n}):c})(e,t,Math.max(Math.abs(r),1),s):null==r||Ss(r)?Cs(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,s)};var Ps=Cs;var ks=(e,t={})=>{let r=(e,n={})=>{let s=os.isInvalidBrace(n),i=!0===e.invalid&&!0===t.escapeInvalid,o=!0===s||!0===i,a=!0===t.escapeInvalid?"\\":"",l="";if(!0===e.isOpen)return a+e.value;if(!0===e.isClose)return a+e.value;if("open"===e.type)return o?a+e.value:"(";if("close"===e.type)return o?a+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":o?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=os.reduce(e.nodes),n=Ps(...r,{...t,wrap:!1,toRegex:!0});if(0!==n.length)return r.length>1&&n.length>1?`(${n})`:n}if(e.nodes)for(let t of e.nodes)l+=r(t,e);return l};return r(e)};const Ds=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?os.flatten(t).map((e=>`{${e}}`)):t;for(let s of e)if(Array.isArray(s))for(let e of s)n.push(Ds(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?Ds(s,e,r):s+e);return os.flatten(n)};var Ms=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,n=(e,s={})=>{e.queue=[];let i=s,o=s.queue;for(;"brace"!==i.type&&"root"!==i.type&&i.parent;)i=i.parent,o=i.queue;if(e.invalid||e.dollar)return void o.push(Ds(o.pop(),as(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void o.push(Ds(o.pop(),["{}"]));if(e.nodes&&e.ranges>0){let n=os.reduce(e.nodes);if(os.exceedsLimit(...n,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let s=Ps(...n,t);return 0===s.length&&(s=as(e,t)),o.push(Ds(o.pop(),s)),void(e.nodes=[])}let a=os.encloseBrace(e),l=e.queue,u=e;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,l=u.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?l.push(Ds(l.pop(),r.value)):r.nodes&&n(r,e):o.push(Ds(o.pop(),l,a)):(1===t&&l.push(""),l.push(""))}return l};return os.flatten(n(e))};const{MAX_LENGTH:Fs,CHAR_BACKSLASH:Hs,CHAR_BACKTICK:js,CHAR_COMMA:Gs,CHAR_DOT:Bs,CHAR_LEFT_PARENTHESES:Us,CHAR_RIGHT_PARENTHESES:Xs,CHAR_LEFT_CURLY_BRACE:Vs,CHAR_RIGHT_CURLY_BRACE:Ws,CHAR_LEFT_SQUARE_BRACKET:Ks,CHAR_RIGHT_SQUARE_BRACKET:qs,CHAR_DOUBLE_QUOTE:Ys,CHAR_SINGLE_QUOTE:Qs,CHAR_NO_BREAK_SPACE:Zs,CHAR_ZERO_WIDTH_NOBREAK_SPACE:zs}={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};var Js=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},n="number"==typeof r.maxLength?Math.min(Fs,r.maxLength):Fs;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s,i={type:"root",input:e,nodes:[]},o=[i],a=i,l=i,u=0,c=e.length,h=0,p=0;const f=()=>e[h++],d=e=>{if("text"===e.type&&"dot"===l.type&&(l.type="text"),!l||"text"!==l.type||"text"!==e.type)return a.nodes.push(e),e.parent=a,e.prev=l,l=e,e;l.value+=e.value};for(d({type:"bos"});h<c;)if(a=o[o.length-1],s=f(),s!==zs&&s!==Zs)if(s!==Hs)if(s!==qs)if(s!==Ks)if(s!==Us)if(s!==Xs)if(s!==Ys&&s!==Qs&&s!==js)if(s!==Vs)if(s!==Ws)if(s===Gs&&p>0){if(a.ranges>0){a.ranges=0;let e=a.nodes.shift();a.nodes=[e,{type:"text",value:as(a)}]}d({type:"comma",value:s}),a.commas++}else if(s===Bs&&p>0&&0===a.commas){let e=a.nodes;if(0===p||0===e.length){d({type:"text",value:s});continue}if("dot"===l.type){if(a.range=[],l.value+=s,l.type="range",3!==a.nodes.length&&5!==a.nodes.length){a.invalid=!0,a.ranges=0,l.type="text";continue}a.ranges++,a.args=[];continue}if("range"===l.type){e.pop();let t=e[e.length-1];t.value+=l.value+s,l=t,a.ranges--;continue}d({type:"dot",value:s})}else d({type:"text",value:s});else{if("brace"!==a.type){d({type:"text",value:s});continue}let e="close";a=o.pop(),a.close=!0,d({type:e,value:s}),p--,a=o[o.length-1]}else{p++;let e=l.value&&"$"===l.value.slice(-1)||!0===a.dollar;a=d({type:"brace",open:!0,close:!1,dollar:e,depth:p,commas:0,ranges:0,nodes:[]}),o.push(a),d({type:"open",value:s})}else{let e,r=s;for(!0!==t.keepQuotes&&(s="");h<c&&(e=f());)if(e!==Hs){if(e===r){!0===t.keepQuotes&&(s+=e);break}s+=e}else s+=e+f();d({type:"text",value:s})}else{if("paren"!==a.type){d({type:"text",value:s});continue}a=o.pop(),d({type:"text",value:s}),a=o[o.length-1]}else a=d({type:"paren",nodes:[]}),o.push(a),d({type:"text",value:s});else{let e;for(u++;h<c&&(e=f());)if(s+=e,e!==Ks)if(e!==Hs){if(e===qs&&(u--,0===u))break}else s+=f();else u++;d({type:"text",value:s})}else d({type:"text",value:"\\"+s});else d({type:"text",value:(t.keepEscaping?s:"")+f()});do{if(a=o.pop(),"root"!==a.type){a.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));let e=o[o.length-1],t=e.nodes.indexOf(a);e.nodes.splice(t,1,...a.nodes)}}while(o.length>0);return d({type:"eos"}),i};const ei=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let e=ei.create(n,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(ei.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};ei.parse=(e,t={})=>Js(e,t),ei.stringify=(e,t={})=>as("string"==typeof e?ei.parse(e,t):e,t),ei.compile=(e,t={})=>("string"==typeof e&&(e=ei.parse(e,t)),ks(e,t)),ei.expand=(e,t={})=>{"string"==typeof e&&(e=ei.parse(e,t));let r=Ms(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},ei.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?ei.compile(e,t):ei.expand(e,t);var ti=ei;const ri={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},ni={...ri,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};var si={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:u.default.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?ni:ri},ii=b((function(e,t){const r="win32"===process.platform,{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:o}=si;t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>i.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(o,"\\$1"),t.toPosixSlashes=e=>e.replace(n,"/"),t.removeBackslashes=e=>e.replace(s,(e=>"\\"===e?"":e)),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===r||"\\"===u.default.sep,t.escapeLast=(e,r,n)=>{const s=e.lastIndexOf(r,n);return-1===s?e:"\\"===e[s-1]?t.escapeLast(e,r,s-1):`${e.slice(0,s)}\\${e.slice(s)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}}));const{CHAR_ASTERISK:oi,CHAR_AT:ai,CHAR_BACKWARD_SLASH:li,CHAR_COMMA:ui,CHAR_DOT:ci,CHAR_EXCLAMATION_MARK:hi,CHAR_FORWARD_SLASH:pi,CHAR_LEFT_CURLY_BRACE:fi,CHAR_LEFT_PARENTHESES:di,CHAR_LEFT_SQUARE_BRACKET:gi,CHAR_PLUS:mi,CHAR_QUESTION_MARK:vi,CHAR_RIGHT_CURLY_BRACE:Ei,CHAR_RIGHT_PARENTHESES:yi,CHAR_RIGHT_SQUARE_BRACKET:_i}=si,Ri=e=>e===pi||e===li,Si=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};var Ai=(e,t)=>{const r=t||{},n=e.length-1,s=!0===r.parts||!0===r.scanToEnd,i=[],o=[],a=[];let l,u,c=e,h=-1,p=0,f=0,d=!1,g=!1,m=!1,v=!1,E=!1,y=!1,_=!1,R=!1,S=!1,A=0,b={value:"",depth:0,isGlob:!1};const w=()=>h>=n,$=()=>(l=u,c.charCodeAt(++h));for(;h<n;){let e;if(u=$(),u!==li){if(!0===y||u===fi){for(A++;!0!==w()&&(u=$());)if(u!==li)if(u!==fi){if(!0!==y&&u===ci&&(u=$())===ci){if(d=b.isBrace=!0,m=b.isGlob=!0,S=!0,!0===s)continue;break}if(!0!==y&&u===ui){if(d=b.isBrace=!0,m=b.isGlob=!0,S=!0,!0===s)continue;break}if(u===Ei&&(A--,0===A)){y=!1,d=b.isBrace=!0,S=!0;break}}else A++;else _=b.backslashes=!0,$();if(!0===s)continue;break}if(u!==pi){if(!0!==r.noext){if(!0===(u===mi||u===ai||u===oi||u===vi||u===hi)&&c.charCodeAt(h+1)===di){if(m=b.isGlob=!0,v=b.isExtglob=!0,S=!0,!0===s){for(;!0!==w()&&(u=$());)if(u!==li){if(u===yi){m=b.isGlob=!0,S=!0;break}}else _=b.backslashes=!0,u=$();continue}break}}if(u===oi){if(l===oi&&(E=b.isGlobstar=!0),m=b.isGlob=!0,S=!0,!0===s)continue;break}if(u===vi){if(m=b.isGlob=!0,S=!0,!0===s)continue;break}if(u===gi){for(;!0!==w()&&(e=$());)if(e!==li){if(e===_i){g=b.isBracket=!0,m=b.isGlob=!0,S=!0;break}}else _=b.backslashes=!0,$();if(!0===s)continue;break}if(!0===r.nonegate||u!==hi||h!==p){if(!0!==r.noparen&&u===di){if(m=b.isGlob=!0,!0===s){for(;!0!==w()&&(u=$());)if(u!==di){if(u===yi){S=!0;break}}else _=b.backslashes=!0,u=$();continue}break}if(!0===m){if(S=!0,!0===s)continue;break}}else R=b.negated=!0,p++}else{if(i.push(h),o.push(b),b={value:"",depth:0,isGlob:!1},!0===S)continue;if(l===ci&&h===p+1){p+=2;continue}f=h+1}}else _=b.backslashes=!0,u=$(),u===fi&&(y=!0)}!0===r.noext&&(v=!1,m=!1);let O=c,T="",I="";p>0&&(T=c.slice(0,p),c=c.slice(p),f-=p),O&&!0===m&&f>0?(O=c.slice(0,f),I=c.slice(f)):!0===m?(O="",I=c):O=c,O&&""!==O&&"/"!==O&&O!==c&&Ri(O.charCodeAt(O.length-1))&&(O=O.slice(0,-1)),!0===r.unescape&&(I&&(I=ii.removeBackslashes(I)),O&&!0===_&&(O=ii.removeBackslashes(O)));const L={prefix:T,input:e,start:p,base:O,glob:I,isBrace:d,isBracket:g,isGlob:m,isExtglob:v,isGlobstar:E,negated:R};if(!0===r.tokens&&(L.maxDepth=0,Ri(u)||o.push(b),L.tokens=o),!0===r.parts||!0===r.tokens){let t;for(let n=0;n<i.length;n++){const s=t?t+1:p,l=i[n],u=e.slice(s,l);r.tokens&&(0===n&&0!==p?(o[n].isPrefix=!0,o[n].value=T):o[n].value=u,Si(o[n]),L.maxDepth+=o[n].depth),0===n&&""===u||a.push(u),t=l}if(t&&t+1<e.length){const n=e.slice(t+1);a.push(n),r.tokens&&(o[o.length-1].value=n,Si(o[o.length-1]),L.maxDepth+=o[o.length-1].depth)}L.slashes=i,L.parts=a}return L};const{MAX_LENGTH:bi,POSIX_REGEX_SOURCE:wi,REGEX_NON_SPECIAL_CHARS:$i,REGEX_SPECIAL_CHARS_BACKREF:Oi,REPLACEMENTS:Ti}=si,Ii=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map((e=>ii.escapeRegex(e))).join("..")}return r},Li=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Ni=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=Ti[e]||e;const r={...t},n="number"==typeof r.maxLength?Math.min(bi,r.maxLength):bi;let s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);const i={type:"bos",value:"",output:r.prepend||""},o=[i],a=r.capture?"":"?:",l=ii.isWindows(t),u=si.globChars(l),c=si.extglobChars(u),{DOT_LITERAL:h,PLUS_LITERAL:p,SLASH_LITERAL:f,ONE_CHAR:d,DOTS_SLASH:g,NO_DOT:m,NO_DOT_SLASH:v,NO_DOTS_SLASH:E,QMARK:y,QMARK_NO_DOT:_,STAR:R,START_ANCHOR:S}=u,A=e=>`(${a}(?:(?!${S}${e.dot?g:h}).)*?)`,b=r.dot?"":m,w=r.dot?y:_;let $=!0===r.bash?A(r):R;r.capture&&($=`(${$})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const O={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=ii.removePrefix(e,O),s=e.length;const T=[],I=[],L=[];let N,x=i;const C=()=>O.index===s-1,P=O.peek=(t=1)=>e[O.index+t],k=O.advance=()=>e[++O.index],D=()=>e.slice(O.index+1),M=(e="",t=0)=>{O.consumed+=e,O.index+=t},F=e=>{O.output+=null!=e.output?e.output:e.value,M(e.value)},H=()=>{let e=1;for(;"!"===P()&&("("!==P(2)||"?"===P(3));)k(),O.start++,e++;return e%2!=0&&(O.negated=!0,O.start++,!0)},j=e=>{O[e]++,L.push(e)},G=e=>{O[e]--,L.pop()},B=e=>{if("globstar"===x.type){const t=O.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||T.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(O.output=O.output.slice(0,-x.output.length),x.type="star",x.value="*",x.output=$,O.output+=x.output)}if(T.length&&"paren"!==e.type&&!c[e.value]&&(T[T.length-1].inner+=e.value),(e.value||e.output)&&F(e),x&&"text"===x.type&&"text"===e.type)return x.value+=e.value,void(x.output=(x.output||"")+e.value);e.prev=x,o.push(e),x=e},U=(e,t)=>{const n={...c[t],conditions:1,inner:""};n.prev=x,n.parens=O.parens,n.output=O.output;const s=(r.capture?"(":"")+n.open;j("parens"),B({type:e,value:t,output:O.output?"":d}),B({type:"paren",extglob:!0,value:k(),output:s}),T.push(n)},X=e=>{let t=e.close+(r.capture?")":"");if("negate"===e.type){let n=$;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(n=A(r)),(n!==$||C()||/^\)+$/.test(D()))&&(t=e.close=`)$))${n}`),"bos"===e.prev.type&&(O.negatedExtglob=!0)}B({type:"paren",extglob:!0,value:N,output:t}),G("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,s=e.replace(Oi,((e,t,r,s,i,o)=>"\\"===s?(n=!0,e):"?"===s?t?t+s+(i?y.repeat(i.length):""):0===o?w+(i?y.repeat(i.length):""):y.repeat(r.length):"."===s?h.repeat(r.length):"*"===s?t?t+s+(i?$:""):$:t?e:`\\${e}`));return!0===n&&(s=!0===r.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),s===e&&!0===r.contains?(O.output=e,O):(O.output=ii.wrapOutput(s,O,t),O)}for(;!C();){if(N=k(),"\0"===N)continue;if("\\"===N){const e=P();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){N+="\\",B({type:"text",value:N});continue}const t=/^\\+/.exec(D());let n=0;if(t&&t[0].length>2&&(n=t[0].length,O.index+=n,n%2!=0&&(N+="\\")),!0===r.unescape?N=k()||"":N+=k()||"",0===O.brackets){B({type:"text",value:N});continue}}if(O.brackets>0&&("]"!==N||"["===x.value||"[^"===x.value)){if(!1!==r.posix&&":"===N){const e=x.value.slice(1);if(e.includes("[")&&(x.posix=!0,e.includes(":"))){const e=x.value.lastIndexOf("["),t=x.value.slice(0,e),r=x.value.slice(e+2),n=wi[r];if(n){x.value=t+n,O.backtrack=!0,k(),i.output||1!==o.indexOf(x)||(i.output=d);continue}}}("["===N&&":"!==P()||"-"===N&&"]"===P())&&(N=`\\${N}`),"]"!==N||"["!==x.value&&"[^"!==x.value||(N=`\\${N}`),!0===r.posix&&"!"===N&&"["===x.value&&(N="^"),x.value+=N,F({value:N});continue}if(1===O.quotes&&'"'!==N){N=ii.escapeRegex(N),x.value+=N,F({value:N});continue}if('"'===N){O.quotes=1===O.quotes?0:1,!0===r.keepQuotes&&B({type:"text",value:N});continue}if("("===N){j("parens"),B({type:"paren",value:N});continue}if(")"===N){if(0===O.parens&&!0===r.strictBrackets)throw new SyntaxError(Li("opening","("));const e=T[T.length-1];if(e&&O.parens===e.parens+1){X(T.pop());continue}B({type:"paren",value:N,output:O.parens?")":"\\)"}),G("parens");continue}if("["===N){if(!0!==r.nobracket&&D().includes("]"))j("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(Li("closing","]"));N=`\\${N}`}B({type:"bracket",value:N});continue}if("]"===N){if(!0===r.nobracket||x&&"bracket"===x.type&&1===x.value.length){B({type:"text",value:N,output:`\\${N}`});continue}if(0===O.brackets){if(!0===r.strictBrackets)throw new SyntaxError(Li("opening","["));B({type:"text",value:N,output:`\\${N}`});continue}G("brackets");const e=x.value.slice(1);if(!0===x.posix||"^"!==e[0]||e.includes("/")||(N=`/${N}`),x.value+=N,F({value:N}),!1===r.literalBrackets||ii.hasRegexChars(e))continue;const t=ii.escapeRegex(x.value);if(O.output=O.output.slice(0,-x.value.length),!0===r.literalBrackets){O.output+=t,x.value=t;continue}x.value=`(${a}${t}|${x.value})`,O.output+=x.value;continue}if("{"===N&&!0!==r.nobrace){j("braces");const e={type:"brace",value:N,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};I.push(e),B(e);continue}if("}"===N){const e=I[I.length-1];if(!0===r.nobrace||!e){B({type:"text",value:N,output:N});continue}let t=")";if(!0===e.dots){const e=o.slice(),n=[];for(let t=e.length-1;t>=0&&(o.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=Ii(n,r),O.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=O.output.slice(0,e.outputIndex),n=O.tokens.slice(e.tokensIndex);e.value=e.output="\\{",N=t="\\}",O.output=r;for(const e of n)O.output+=e.output||e.value}B({type:"brace",value:N,output:t}),G("braces"),I.pop();continue}if("|"===N){T.length>0&&T[T.length-1].conditions++,B({type:"text",value:N});continue}if(","===N){let e=N;const t=I[I.length-1];t&&"braces"===L[L.length-1]&&(t.comma=!0,e="|"),B({type:"comma",value:N,output:e});continue}if("/"===N){if("dot"===x.type&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",o.pop(),x=i;continue}B({type:"slash",value:N,output:f});continue}if("."===N){if(O.braces>0&&"dot"===x.type){"."===x.value&&(x.output=h);const e=I[I.length-1];x.type="dots",x.output+=N,x.value+=N,e.dots=!0;continue}if(O.braces+O.parens===0&&"bos"!==x.type&&"slash"!==x.type){B({type:"text",value:N,output:h});continue}B({type:"dot",value:N,output:h});continue}if("?"===N){if(!(x&&"("===x.value)&&!0!==r.noextglob&&"("===P()&&"?"!==P(2)){U("qmark",N);continue}if(x&&"paren"===x.type){const e=P();let t=N;if("<"===e&&!ii.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===x.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(D()))&&(t=`\\${N}`),B({type:"text",value:N,output:t});continue}if(!0!==r.dot&&("slash"===x.type||"bos"===x.type)){B({type:"qmark",value:N,output:_});continue}B({type:"qmark",value:N,output:y});continue}if("!"===N){if(!0!==r.noextglob&&"("===P()&&("?"!==P(2)||!/[!=<:]/.test(P(3)))){U("negate",N);continue}if(!0!==r.nonegate&&0===O.index){H();continue}}if("+"===N){if(!0!==r.noextglob&&"("===P()&&"?"!==P(2)){U("plus",N);continue}if(x&&"("===x.value||!1===r.regex){B({type:"plus",value:N,output:p});continue}if(x&&("bracket"===x.type||"paren"===x.type||"brace"===x.type)||O.parens>0){B({type:"plus",value:N});continue}B({type:"plus",value:p});continue}if("@"===N){if(!0!==r.noextglob&&"("===P()&&"?"!==P(2)){B({type:"at",extglob:!0,value:N,output:""});continue}B({type:"text",value:N});continue}if("*"!==N){"$"!==N&&"^"!==N||(N=`\\${N}`);const e=$i.exec(D());e&&(N+=e[0],O.index+=e[0].length),B({type:"text",value:N});continue}if(x&&("globstar"===x.type||!0===x.star)){x.type="star",x.star=!0,x.value+=N,x.output=$,O.backtrack=!0,O.globstar=!0,M(N);continue}let t=D();if(!0!==r.noextglob&&/^\([^?]/.test(t)){U("star",N);continue}if("star"===x.type){if(!0===r.noglobstar){M(N);continue}const n=x.prev,s=n.prev,i="slash"===n.type||"bos"===n.type,o=s&&("star"===s.type||"globstar"===s.type);if(!0===r.bash&&(!i||t[0]&&"/"!==t[0])){B({type:"star",value:N,output:""});continue}const a=O.braces>0&&("comma"===n.type||"brace"===n.type),l=T.length&&("pipe"===n.type||"paren"===n.type);if(!i&&"paren"!==n.type&&!a&&!l){B({type:"star",value:N,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[O.index+4];if(r&&"/"!==r)break;t=t.slice(3),M("/**",3)}if("bos"===n.type&&C()){x.type="globstar",x.value+=N,x.output=A(r),O.output=x.output,O.globstar=!0,M(N);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&C()){O.output=O.output.slice(0,-(n.output+x.output).length),n.output=`(?:${n.output}`,x.type="globstar",x.output=A(r)+(r.strictSlashes?")":"|$)"),x.value+=N,O.globstar=!0,O.output+=n.output+x.output,M(N);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";O.output=O.output.slice(0,-(n.output+x.output).length),n.output=`(?:${n.output}`,x.type="globstar",x.output=`${A(r)}${f}|${f}${e})`,x.value+=N,O.output+=n.output+x.output,O.globstar=!0,M(N+k()),B({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){x.type="globstar",x.value+=N,x.output=`(?:^|${f}|${A(r)}${f})`,O.output=x.output,O.globstar=!0,M(N+k()),B({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-x.output.length),x.type="globstar",x.output=A(r),x.value+=N,O.output+=x.output,O.globstar=!0,M(N);continue}const n={type:"star",value:N,output:$};!0!==r.bash?!x||"bracket"!==x.type&&"paren"!==x.type||!0!==r.regex?(O.index!==O.start&&"slash"!==x.type&&"dot"!==x.type||("dot"===x.type?(O.output+=v,x.output+=v):!0===r.dot?(O.output+=E,x.output+=E):(O.output+=b,x.output+=b),"*"!==P()&&(O.output+=d,x.output+=d)),B(n)):(n.output=N,B(n)):(n.output=".*?","bos"!==x.type&&"slash"!==x.type||(n.output=b+n.output),B(n))}for(;O.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(Li("closing","]"));O.output=ii.escapeLast(O.output,"["),G("brackets")}for(;O.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(Li("closing",")"));O.output=ii.escapeLast(O.output,"("),G("parens")}for(;O.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(Li("closing","}"));O.output=ii.escapeLast(O.output,"{"),G("braces")}if(!0===r.strictSlashes||"star"!==x.type&&"bracket"!==x.type||B({type:"maybe_slash",value:"",output:`${f}?`}),!0===O.backtrack){O.output="";for(const e of O.tokens)O.output+=null!=e.output?e.output:e.value,e.suffix&&(O.output+=e.suffix)}return O};Ni.fastpaths=(e,t)=>{const r={...t},n="number"==typeof r.maxLength?Math.min(bi,r.maxLength):bi,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=Ti[e]||e;const i=ii.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:l,DOTS_SLASH:u,NO_DOT:c,NO_DOTS:h,NO_DOTS_SLASH:p,STAR:f,START_ANCHOR:d}=si.globChars(i),g=r.dot?h:c,m=r.dot?p:c,v=r.capture?"":"?:";let E=!0===r.bash?".*?":f;r.capture&&(E=`(${E})`);const y=e=>!0===e.noglobstar?E:`(${v}(?:(?!${d}${e.dot?u:o}).)*?)`,_=e=>{switch(e){case"*":return`${g}${l}${E}`;case".*":return`${o}${l}${E}`;case"*.*":return`${g}${E}${o}${l}${E}`;case"*/*":return`${g}${E}${a}${l}${m}${E}`;case"**":return g+y(r);case"**/*":return`(?:${g}${y(r)}${a})?${m}${l}${E}`;case"**/*.*":return`(?:${g}${y(r)}${a})?${m}${E}${o}${l}${E}`;case"**/.*":return`(?:${g}${y(r)}${a})?${o}${l}${E}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=_(t[1]);if(!r)return;return r+o+t[2]}}},R=ii.removePrefix(e,{negated:!1,prefix:""});let S=_(R);return S&&!0!==r.strictSlashes&&(S+=`${a}?`),S};var xi=Ni;const Ci=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map((e=>Ci(e,t,r)));return e=>{for(const t of n){const r=t(e);if(r)return r}return!1}}const n=(s=e)&&"object"==typeof s&&!Array.isArray(s)&&e.tokens&&e.input;var s;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},o=ii.isWindows(t),a=n?Ci.compileRe(e,t):Ci.makeRe(e,t,!1,!0),l=a.state;delete a.state;let u=()=>!1;if(i.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};u=Ci(i.ignore,e,r)}const c=(r,n=!1)=>{const{isMatch:s,match:c,output:h}=Ci.test(r,a,t,{glob:e,posix:o}),p={glob:e,state:l,regex:a,posix:o,input:r,output:h,match:c,isMatch:s};return"function"==typeof i.onResult&&i.onResult(p),!1===s?(p.isMatch=!1,!!n&&p):u(r)?("function"==typeof i.onIgnore&&i.onIgnore(p),p.isMatch=!1,!!n&&p):("function"==typeof i.onMatch&&i.onMatch(p),!n||p)};return r&&(c.state=l),c};Ci.test=(e,t,r,{glob:n,posix:s}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const i=r||{},o=i.format||(s?ii.toPosixSlashes:null);let a=e===n,l=a&&o?o(e):e;return!1===a&&(l=o?o(e):e,a=l===n),!1!==a&&!0!==i.capture||(a=!0===i.matchBase||!0===i.basename?Ci.matchBase(e,t,r,s):t.exec(l)),{isMatch:Boolean(a),match:a,output:l}},Ci.matchBase=(e,t,r,n=ii.isWindows(r))=>(t instanceof RegExp?t:Ci.makeRe(t,r)).test(u.default.basename(e)),Ci.isMatch=(e,t,r)=>Ci(t,r)(e),Ci.parse=(e,t)=>Array.isArray(e)?e.map((e=>Ci.parse(e,t))):xi(e,{...t,fastpaths:!1}),Ci.scan=(e,t)=>Ai(e,t),Ci.compileRe=(e,t,r=!1,n=!1)=>{if(!0===r)return e.output;const s=t||{},i=s.contains?"":"^",o=s.contains?"":"$";let a=`${i}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const l=Ci.toRegex(a,t);return!0===n&&(l.state=e),l},Ci.makeRe=(e,t,r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");const s=t||{};let i,o={negated:!1,fastpaths:!0},a="";return e.startsWith("./")&&(e=e.slice(2),a=o.prefix="./"),!1===s.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=xi.fastpaths(e,t)),void 0===i?(o=xi(e,t),o.prefix=a+(o.prefix||"")):o.output=i,Ci.compileRe(o,t,r,n)},Ci.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},Ci.constants=si;var Pi=Ci;const ki=e=>""===e||"./"===e,Di=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,i=new Set,o=0,a=e=>{i.add(e.output),r&&r.onResult&&r.onResult(e)};for(let i=0;i<t.length;i++){let l=Pi(String(t[i]),{...r,onResult:a},!0),u=l.state.negated||l.state.negatedExtglob;u&&o++;for(let t of e){let e=l(t,!0);(u?!e.isMatch:e.isMatch)&&(u?n.add(e.output):(n.delete(e.output),s.add(e.output)))}}let l=(o===t.length?[...i]:[...s]).filter((e=>!n.has(e)));if(r&&0===l.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map((e=>e.replace(/\\/g,""))):t}return l};Di.match=Di,Di.matcher=(e,t)=>Pi(e,t),Di.any=Di.isMatch=(e,t,r)=>Pi(t,r)(e),Di.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],i=Di(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),s.push(e.output)}});for(let e of s)i.includes(e)||n.add(e);return[...n]},Di.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${p.default.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>Di.contains(e,t,r)));if("string"==typeof t){if(ki(e)||ki(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return Di.isMatch(e,t,{...r,contains:!0})},Di.matchKeys=(e,t,r)=>{if(!ii.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=Di(Object.keys(e),t,r),s={};for(let t of n)s[t]=e[t];return s},Di.some=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=Pi(String(e),r);if(n.some((e=>t(e))))return!0}return!1},Di.every=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=Pi(String(e),r);if(!n.every((e=>t(e))))return!1}return!0},Di.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${p.default.inspect(e)}"`);return[].concat(t).every((t=>Pi(t,r)(e)))},Di.capture=(e,t,r)=>{let n=ii.isWindows(r),s=Pi.makeRe(String(e),{...r,capture:!0}).exec(n?ii.toPosixSlashes(t):t);if(s)return s.slice(1).map((e=>void 0===e?"":e))},Di.makeRe=(...e)=>Pi.makeRe(...e),Di.scan=(...e)=>Pi.scan(...e),Di.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let e of ti(String(n),t))r.push(Pi.parse(e,t));return r},Di.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:ti(e,t)},Di.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return Di.braces(e,{...t,expand:!0})};var Mi=Di,Fi=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.matchAny=t.convertPatternsToRe=t.makeRe=t.getPatternParts=t.expandBraceExpansion=t.expandPatternsWithBraceExpansion=t.isAffectDepthOfReadingPattern=t.endsWithSlashGlobStar=t.hasGlobStar=t.getBaseDirectory=t.getPositivePatterns=t.getNegativePatterns=t.isPositivePattern=t.isNegativePattern=t.convertToNegativePattern=t.convertToPositivePattern=t.isDynamicPattern=t.isStaticPattern=void 0;const r=/[*?]|^!/,n=/\[.*]/,s=/(?:^|[^!*+?@])\(.*\|.*\)/,i=/[!*+?@]\(.*\)/,o=/{.*(?:,|\.\.).*}/;function a(e,t={}){return!l(e,t)}function l(e,t={}){return""!==e&&(!(!1!==t.caseSensitiveMatch&&!e.includes("\\"))||(!!(r.test(e)||n.test(e)||s.test(e))||(!(!1===t.extglob||!i.test(e))||!(!1===t.braceExpansion||!o.test(e)))))}function c(e){return e.startsWith("!")&&"("!==e[1]}function h(e){return!c(e)}function p(e){return e.endsWith("/**")}function f(e){return Mi.braces(e,{expand:!0,nodupes:!0})}function d(e,t){return Mi.makeRe(e,t)}t.isStaticPattern=a,t.isDynamicPattern=l,t.convertToPositivePattern=function(e){return c(e)?e.slice(1):e},t.convertToNegativePattern=function(e){return"!"+e},t.isNegativePattern=c,t.isPositivePattern=h,t.getNegativePatterns=function(e){return e.filter(c)},t.getPositivePatterns=function(e){return e.filter(h)},t.getBaseDirectory=function(e){return function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&ts&&e.indexOf("/")<0&&(e=e.replace(rs,"/")),ns.test(e)&&(e+="/"),e+="a";do{e=es(e)}while(Jn(e)||ss.test(e));return e.replace(is,"$1")}(e,{flipBackslashes:!1})},t.hasGlobStar=function(e){return e.includes("**")},t.endsWithSlashGlobStar=p,t.isAffectDepthOfReadingPattern=function(e){const t=u.default.basename(e);return p(e)||a(t)},t.expandPatternsWithBraceExpansion=function(e){return e.reduce(((e,t)=>e.concat(f(t))),[])},t.expandBraceExpansion=f,t.getPatternParts=function(e,t){let{parts:r}=Pi.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===r.length&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},t.makeRe=d,t.convertPatternsToRe=function(e,t){return e.map((e=>d(e,t)))},t.matchAny=function(e,t){return t.some((t=>t.test(e)))}})),Hi=b((function(e,t){function r(e){e.forEach((e=>e.emit("close")))}Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0,t.merge=function(e){const t=Xn(e);return e.forEach((e=>{e.once("error",(e=>t.emit("error",e)))})),t.once("close",(()=>r(e))),t.once("end",(()=>r(e))),t}})),ji=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=t.isString=void 0,t.isString=function(e){return"string"==typeof e},t.isEmpty=function(e){return""===e}})),Gi=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.string=t.stream=t.pattern=t.path=t.fs=t.errno=t.array=void 0,t.array=Wn,t.errno=Kn,t.fs=qn,t.path=Yn,t.pattern=Fi,t.stream=Hi,t.string=ji})),Bi=b((function(e,t){function r(e,t,r){const n=i(e);if("."in n){return[a(".",e,t,r)]}return o(n,t,r)}function n(e){return Gi.pattern.getPositivePatterns(e)}function s(e,t){return Gi.pattern.getNegativePatterns(e).concat(t).map(Gi.pattern.convertToPositivePattern)}function i(e){return e.reduce(((e,t)=>{const r=Gi.pattern.getBaseDirectory(t);return r in e?e[r].push(t):e[r]=[t],e}),{})}function o(e,t,r){return Object.keys(e).map((n=>a(n,e[n],t,r)))}function a(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Gi.pattern.convertToNegativePattern))}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertPatternGroupToTask=t.convertPatternGroupsToTasks=t.groupPatternsByBaseDirectory=t.getNegativePatternsAsPositive=t.getPositivePatterns=t.convertPatternsToTasks=t.generate=void 0,t.generate=function(e,t){const i=n(e),o=s(e,t.ignore),a=i.filter((e=>Gi.pattern.isStaticPattern(e,t))),l=i.filter((e=>Gi.pattern.isDynamicPattern(e,t))),u=r(a,o,!1),c=r(l,o,!0);return u.concat(c)},t.convertPatternsToTasks=r,t.getPositivePatterns=n,t.getNegativePatternsAsPositive=s,t.groupPatternsByBaseDirectory=i,t.convertPatternGroupsToTasks=o,t.convertPatternGroupToTask=a})),Ui=b((function(e,t){function r(e,t){e(t)}function n(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t,s){t.fs.lstat(e,((i,o)=>null!==i?r(s,i):o.isSymbolicLink()&&t.followSymbolicLink?void t.fs.stat(e,((e,i)=>{if(null!==e)return t.throwErrorOnBrokenSymbolicLink?r(s,e):n(s,o);t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),n(s,i)})):n(s,o)))}})),Xi=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t){const r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{const r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw e}}})),Vi=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0,t.FILE_SYSTEM_ADAPTER={lstat:l.default.lstat,stat:l.default.stat,lstatSync:l.default.lstatSync,statSync:l.default.statSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}}));var Wi=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Vi.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return null!=e?e:t}},Ki=Object.defineProperty({default:Wi},"__esModule",{value:!0}),qi=b((function(e,t){function r(e={}){return e instanceof Ki.default?e:new Ki.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.statSync=t.stat=t.Settings=void 0,t.Settings=Ki.default,t.stat=function(e,t,n){if("function"==typeof t)return Ui.read(e,r(),t);Ui.read(e,r(t),n)},t.statSync=function(e,t){const n=r(t);return Xi.read(e,n)}}));
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let Yi;var Qi="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:A):e=>(Yi||(Yi=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */,Zi=function(e,t){let r,n,s,i=!0;Array.isArray(e)?(r=[],n=e.length):(s=Object.keys(e),r={},n=s.length);function o(e){function n(){t&&t(e,r),t=null}i?Qi(n):n()}function a(e,t,s){r[e]=s,(0==--n||t)&&o(t)}n?s?s.forEach((function(t){e[t]((function(e,r){a(t,e,r)}))})):e.forEach((function(e,t){e((function(e,r){a(t,e,r)}))})):o(null);i=!1};var zi=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const r=process.versions.node.split("."),n=parseInt(r[0],10),s=parseInt(r[1],10),i=n>10,o=10===n&&s>=10;t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=i||o})),Ji=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}})),eo=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fs=void 0,t.fs=Ji})),to=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=void 0,t.joinPathSegments=function(e,t,r){return e.endsWith(r)?e+t:e+r+t}})),ro=b((function(e,t){function r(e,t,r){t.fs.readdir(e,{withFileTypes:!0},((n,o)=>{if(null!==n)return s(r,n);const a=o.map((r=>({dirent:r,name:r.name,path:to.joinPathSegments(e,r.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks)return i(r,a);const l=a.map((e=>function(e,t){return r=>{if(!e.dirent.isSymbolicLink())return r(null,e);t.fs.stat(e.path,((n,s)=>null!==n?t.throwErrorOnBrokenSymbolicLink?r(n):r(null,e):(e.dirent=eo.fs.createDirentFromStats(e.name,s),r(null,e))))}}(e,t)));Zi(l,((e,t)=>{if(null!==e)return s(r,e);i(r,t)}))}))}function n(e,t,r){t.fs.readdir(e,((n,o)=>{if(null!==n)return s(r,n);const a=o.map((r=>to.joinPathSegments(e,r,t.pathSegmentSeparator))),l=a.map((e=>r=>qi.stat(e,t.fsStatSettings,r)));Zi(l,((e,n)=>{if(null!==e)return s(r,e);const l=[];o.forEach(((e,r)=>{const s=n[r],i={name:e,path:a[r],dirent:eo.fs.createDirentFromStats(e,s)};t.stats&&(i.stats=s),l.push(i)})),i(r,l)}))}))}function s(e,t){e(t)}function i(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0,t.read=function(e,t,s){return!t.stats&&zi.IS_SUPPORT_READDIR_WITH_FILE_TYPES?r(e,t,s):n(e,t,s)},t.readdirWithFileTypes=r,t.readdir=n})),no=b((function(e,t){function r(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:to.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(n.path);n.dirent=eo.fs.createDirentFromStats(n.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return n}))}function n(e,t){return t.fs.readdirSync(e).map((r=>{const n=to.joinPathSegments(e,r,t.pathSegmentSeparator),s=qi.statSync(n,t.fsStatSettings),i={name:r,path:n,dirent:eo.fs.createDirentFromStats(r,s)};return t.stats&&(i.stats=s),i}))}Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0,t.read=function(e,t){return!t.stats&&zi.IS_SUPPORT_READDIR_WITH_FILE_TYPES?r(e,t):n(e,t)},t.readdirWithFileTypes=r,t.readdir=n})),so=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0,t.FILE_SYSTEM_ADAPTER={lstat:l.default.lstat,stat:l.default.stat,lstatSync:l.default.lstatSync,statSync:l.default.statSync,readdir:l.default.readdir,readdirSync:l.default.readdirSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}}));var io=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=so.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.default.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new qi.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}},oo=Object.defineProperty({default:io},"__esModule",{value:!0}),ao=b((function(e,t){function r(e={}){return e instanceof oo.default?e:new oo.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.scandirSync=t.scandir=void 0,t.Settings=oo.default,t.scandir=function(e,t,n){if("function"==typeof t)return ro.read(e,r(),t);ro.read(e,r(t),n)},t.scandirSync=function(e,t){const n=r(t);return no.read(e,n)}}));var lo=function(e){var t=new e,r=t;return{get:function(){var n=t;return n.next?t=n.next:(t=new e,r=t),n.next=null,n},release:function(e){r.next=e,r=e}}};function uo(e,t,r){if("function"==typeof e&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=lo(ho),s=null,i=null,o=0,a=null,l={push:function(r,c){var h=n.get();h.context=e,h.release=u,h.value=r,h.callback=c||co,h.errorHandler=a,o===l.concurrency||l.paused?i?(i.next=h,i=h):(s=h,i=h,l.saturated()):(o++,t.call(e,h.value,h.worked))},drain:co,saturated:co,pause:function(){l.paused=!0},paused:!1,concurrency:r,running:function(){return o},resume:function(){if(!l.paused)return;l.paused=!1;for(var e=0;e<l.concurrency;e++)o++,u()},idle:function(){return 0===o&&0===l.length()},length:function(){var e=s,t=0;for(;e;)e=e.next,t++;return t},getQueue:function(){var e=s,t=[];for(;e;)t.push(e.value),e=e.next;return t},unshift:function(r,a){var c=n.get();c.context=e,c.release=u,c.value=r,c.callback=a||co,o===l.concurrency||l.paused?s?(c.next=s,s=c):(s=c,i=c,l.saturated()):(o++,t.call(e,c.value,c.worked))},empty:co,kill:function(){s=null,i=null,l.drain=co},killAndDrain:function(){s=null,i=null,l.drain(),l.drain=co},error:function(e){a=e}};return l;function u(r){r&&n.release(r);var a=s;a?l.paused?o--:(i===s&&(i=null),s=a.next,a.next=null,t.call(e,a.value,a.worked),null===i&&l.empty()):0==--o&&l.drain()}}function co(){}function ho(){this.value=null,this.callback=co,this.next=null,this.release=co,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,r){var n=e.callback,s=e.errorHandler,i=e.value;e.value=null,e.callback=co,e.errorHandler&&s(t,i),n.call(e.context,t,r),e.release(e)}}var po=uo,fo=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=null);var n=uo(e,(function(e,r){t.call(this,e).then((function(e){r(null,e)}),r)}),r),s=n.push,i=n.unshift;return n.push=function(e){return new Promise((function(t,r){s(e,(function(e,n){e?r(e):t(n)}))}))},n.unshift=function(e){return new Promise((function(t,r){i(e,(function(e,n){e?r(e):t(n)}))}))},n};po.promise=fo;var go=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=t.replacePathSegmentSeparator=t.isAppliedFilter=t.isFatalError=void 0,t.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},t.isAppliedFilter=function(e,t){return null===e||e(t)},t.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},t.joinPathSegments=function(e,t,r){return""===e?t:e.endsWith(r)?e+t:e+r+t}}));var mo=class{constructor(e,t){this._root=e,this._settings=t,this._root=go.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}},vo=Object.defineProperty({default:mo},"__esModule",{value:!0});class Eo extends vo.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=ao.scandir,this._emitter=new f.default.EventEmitter,this._queue=po(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const r={directory:e,base:t};this._queue.push(r,(e=>{null!==e&&this._handleError(e)}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((r,n)=>{if(null!==r)return t(r,void 0);for(const t of n)this._handleEntry(t,e.base);t(null,void 0)}))}_handleError(e){!this._isDestroyed&&go.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const r=e.path;void 0!==t&&(e.path=go.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),go.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&go.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}var yo=Eo,_o=Object.defineProperty({default:yo},"__esModule",{value:!0});var Ro=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new _o.default(this._root,this._settings),this._storage=new Set}read(e){this._reader.onError((t=>{!function(e,t){e(t)}(e,t)})),this._reader.onEntry((e=>{this._storage.add(e)})),this._reader.onEnd((()=>{!function(e,t){e(null,t)}(e,[...this._storage])})),this._reader.read()}};var So=Object.defineProperty({default:Ro},"__esModule",{value:!0});var Ao=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new _o.default(this._root,this._settings),this._stream=new c.default.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((e=>{this._stream.emit("error",e)})),this._reader.onEntry((e=>{this._stream.push(e)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}},bo=Object.defineProperty({default:Ao},"__esModule",{value:!0});class wo extends vo.default{constructor(){super(...arguments),this._scandir=ao.scandirSync,this._storage=new Set,this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),[...this._storage]}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const r=this._scandir(e,this._settings.fsScandirSettings);for(const e of r)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(go.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const r=e.path;void 0!==t&&(e.path=go.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),go.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&go.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,e.path)}_pushToStorage(e){this._storage.add(e)}}var $o=wo,Oo=Object.defineProperty({default:$o},"__esModule",{value:!0});var To=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new Oo.default(this._root,this._settings)}read(){return this._reader.read()}},Io=Object.defineProperty({default:To},"__esModule",{value:!0});var Lo=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,1/0),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u.default.sep),this.fsScandirSettings=new ao.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}},No=Object.defineProperty({default:Lo},"__esModule",{value:!0}),xo=b((function(e,t){function r(e={}){return e instanceof No.default?e:new No.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.walkStream=t.walkSync=t.walk=void 0,t.Settings=No.default,t.walk=function(e,t,n){if("function"==typeof t)return new So.default(e,r()).read(t);new So.default(e,r(t)).read(n)},t.walkSync=function(e,t){const n=r(t);return new Io.default(e,n).read()},t.walkStream=function(e,t){const n=r(t);return new bo.default(e,n).read()}}));var Co=class{constructor(e){this._settings=e,this._fsStatSettings=new qi.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return u.default.resolve(this._settings.cwd,e)}_makeEntry(e,t){const r={name:t,path:t,dirent:Gi.fs.createDirentFromStats(t,e)};return this._settings.stats&&(r.stats=e),r}_isFatalError(e){return!Gi.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}},Po=Object.defineProperty({default:Co},"__esModule",{value:!0});class ko extends Po.default{constructor(){super(...arguments),this._walkStream=xo.walkStream,this._stat=qi.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const r=e.map(this._getFullEntryPath,this),n=new c.default.PassThrough({objectMode:!0});n._write=(s,i,o)=>this._getEntry(r[s],e[s],t).then((e=>{null!==e&&t.entryFilter(e)&&n.push(e),s===r.length-1&&n.end(),o()})).catch(o);for(let e=0;e<r.length;e++)n.write(e);return n}_getEntry(e,t,r){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(r.errorFilter(e))return null;throw e}))}_getStat(e){return new Promise(((t,r)=>{this._stat(e,this._fsStatSettings,((e,n)=>null===e?t(n):r(e)))}))}}var Do=ko,Mo=Object.defineProperty({default:Do},"__esModule",{value:!0});var Fo=class{constructor(e,t,r){this._patterns=e,this._settings=t,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const e=Gi.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const t of e){const e=this._getPatternSegments(t),r=this._splitSegmentsIntoSections(e);this._storage.push({complete:r.length<=1,pattern:t,segments:e,sections:r})}}_getPatternSegments(e){return Gi.pattern.getPatternParts(e,this._micromatchOptions).map((e=>Gi.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:Gi.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}))}_splitSegmentsIntoSections(e){return Gi.array.splitWhen(e,(e=>e.dynamic&&Gi.pattern.hasGlobStar(e.pattern)))}},Ho=Object.defineProperty({default:Fo},"__esModule",{value:!0});class jo extends Ho.default{match(e){const t=e.split("/"),r=t.length,n=this._storage.filter((e=>!e.complete||e.segments.length>r));for(const e of n){const n=e.sections[0];if(!e.complete&&r>n.length)return!0;if(t.every(((t,r)=>{const n=e.segments[r];return!(!n.dynamic||!n.patternRe.test(t))||!n.dynamic&&n.pattern===t})))return!0}return!1}}var Go=jo,Bo=Object.defineProperty({default:Go},"__esModule",{value:!0});var Uo=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,r){const n=this._getMatcher(t),s=this._getNegativePatternsRe(r);return t=>this._filter(e,t,n,s)}_getMatcher(e){return new Bo.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(Gi.pattern.isAffectDepthOfReadingPattern);return Gi.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,r,n){if(this._isSkippedByDeep(e,t.path))return!1;if(this._isSkippedSymbolicLink(t))return!1;const s=Gi.path.removeLeadingDotSegment(t.path);return!this._isSkippedByPositivePatterns(s,r)&&this._isSkippedByNegativePatterns(s,n)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const r=t.split("/").length;if(""===e)return r;return r-e.split("/").length}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!Gi.pattern.matchAny(e,t)}},Xo=Object.defineProperty({default:Uo},"__esModule",{value:!0});var Vo=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const r=Gi.pattern.convertPatternsToRe(e,this._micromatchOptions),n=Gi.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,r,n)}_filter(e,t,r){if(this._settings.unique&&this._isDuplicateEntry(e))return!1;if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e.path,r))return!1;const n=this._settings.baseNameMatch?e.name:e.path,s=this._isMatchToPatterns(n,t)&&!this._isMatchToPatterns(e.path,r);return this._settings.unique&&s&&this._createIndexRecord(e),s}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const r=Gi.path.makeAbsolute(this._settings.cwd,e);return Gi.pattern.matchAny(r,t)}_isMatchToPatterns(e,t){const r=Gi.path.removeLeadingDotSegment(e);return Gi.pattern.matchAny(r,t)}},Wo=Object.defineProperty({default:Vo},"__esModule",{value:!0});var Ko=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return Gi.errno.isEnoentCodeError(e)||this._settings.suppressErrors}},qo=Object.defineProperty({default:Ko},"__esModule",{value:!0});var Yo=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=Gi.path.makeAbsolute(this._settings.cwd,t),t=Gi.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}},Qo=Object.defineProperty({default:Yo},"__esModule",{value:!0});var Zo=class{constructor(e){this._settings=e,this.errorFilter=new qo.default(this._settings),this.entryFilter=new Wo.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Xo.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Qo.default(this._settings)}_getRootDirectory(e){return u.default.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}},zo=Object.defineProperty({default:Zo},"__esModule",{value:!0});class Jo extends zo.default{constructor(){super(...arguments),this._reader=new Mo.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=[];return new Promise(((s,i)=>{const o=this.api(t,e,r);o.once("error",i),o.on("data",(e=>n.push(r.transform(e)))),o.once("end",(()=>s(n)))}))}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}var ea=Jo,ta=Object.defineProperty({default:ea},"__esModule",{value:!0});class ra extends zo.default{constructor(){super(...arguments),this._reader=new Mo.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=this.api(t,e,r),s=new c.default.Readable({objectMode:!0,read:()=>{}});return n.once("error",(e=>s.emit("error",e))).on("data",(e=>s.emit("data",r.transform(e)))).once("end",(()=>s.emit("end"))),s.once("close",(()=>n.destroy())),s}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}var na=ra,sa=Object.defineProperty({default:na},"__esModule",{value:!0});class ia extends Po.default{constructor(){super(...arguments),this._walkSync=xo.walkSync,this._statSync=qi.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const r=[];for(const n of e){const e=this._getFullEntryPath(n),s=this._getEntry(e,n,t);null!==s&&t.entryFilter(s)&&r.push(s)}return r}_getEntry(e,t,r){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(r.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}var oa=ia,aa=Object.defineProperty({default:oa},"__esModule",{value:!0});class la extends zo.default{constructor(){super(...arguments),this._reader=new aa.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e);return this.api(t,e,r).map(r.transform)}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}var ua=la,ca=Object.defineProperty({default:ua},"__esModule",{value:!0}),ha=b((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const r=Math.max(h.default.cpus().length,1);t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:l.default.lstat,lstatSync:l.default.lstatSync,stat:l.default.stat,statSync:l.default.statSync,readdir:l.default.readdir,readdirSync:l.default.readdirSync};t.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,r),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}}));async function pa(e,t){da(e);const r=fa(e,ta.default,t),n=await Promise.all(r);return Gi.array.flatten(n)}function fa(e,t,r){const n=[].concat(e),s=new ha.default(r),i=Bi.generate(n,s),o=new t(s);return i.map(o.read,o)}function da(e){if(![].concat(e).every((e=>Gi.string.isString(e)&&!Gi.string.isEmpty(e))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){e.sync=function(e,t){da(e);const r=fa(e,ca.default,t);return Gi.array.flatten(r)},e.stream=function(e,t){da(e);const r=fa(e,sa.default,t);return Gi.stream.merge(r)},e.generateTasks=function(e,t){da(e);const r=[].concat(e),n=new ha.default(t);return Bi.generate(r,n)},e.isDynamicPattern=function(e,t){da(e);const r=new ha.default(t);return Gi.pattern.isDynamicPattern(e,r)},e.escapePath=function(e){return da(e),Gi.path.escape(e)}}(pa||(pa={}));var ga=pa;const{promisify:ma}=p.default;async function va(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return(await ma(l.default[e])(r))[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}function Ea(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return l.default[e](r)[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}var ya={isFile:va.bind(null,"stat","isFile"),isDirectory:va.bind(null,"stat","isDirectory"),isSymlink:va.bind(null,"lstat","isSymbolicLink"),isFileSync:Ea.bind(null,"statSync","isFile"),isDirectorySync:Ea.bind(null,"statSync","isDirectory"),isSymlinkSync:Ea.bind(null,"lstatSync","isSymbolicLink")};const _a=e=>e.length>1?`{${e.join(",")}}`:e[0],Ra=(e,t)=>{const r="!"===e[0]?e.slice(1):e;return u.default.isAbsolute(r)?r:u.default.join(t,r)},Sa=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map((r=>{return u.default.posix.join(e,(n=r,s=t.extensions,u.default.extname(n)?`**/${n}`:`**/${n}.${_a(s)}`));var n,s})):t.files?t.files.map((t=>u.default.posix.join(e,`**/${t}`))):t.extensions?[u.default.posix.join(e,`**/*.${_a(t.extensions)}`)]:[u.default.posix.join(e,"**")]};var Aa=async(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=await Promise.all([].concat(e).map((async e=>await ya.isDirectory(Ra(e,t.cwd))?Sa(e,t):e)));return[].concat.apply([],r)};function ba(e){return Array.isArray(e)?e:[e]}Aa.sync=(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=[].concat(e).map((e=>ya.isDirectorySync(Ra(e,t.cwd))?Sa(e,t):e));return[].concat.apply([],r)};const wa=/^\s+$/,$a=/^\\!/,Oa=/^\\#/,Ta=/\r?\n/g,Ia=/^\.*\/|^\.+$/,La="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",Na=/([0-z])-([0-z])/g,xa=[[/\\?\s+$/,e=>0===e.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,s)=>"\\"===t?`\\[${r}${(e=>{const{length:t}=e;return e.slice(0,t-t%2)})(n)}${s}`:"]"===s&&n.length%2==0?`[${(e=>e.replace(Na,((e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:"")))(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Ca=Object.create(null),Pa=e=>"string"==typeof e;class ka{constructor(e,t,r,n){this.origin=e,this.pattern=t,this.negative=r,this.regex=n}}const Da=(e,t)=>{const r=e;let n=!1;0===e.indexOf("!")&&(n=!0,e=e.substr(1));const s=((e,t,r)=>{const n=Ca[e];if(n)return n;const s=xa.reduce(((t,r)=>t.replace(r[0],r[1].bind(e))),e);return Ca[e]=r?new RegExp(s,"i"):new RegExp(s)})(e=e.replace($a,"!").replace(Oa,"#"),0,t);return new ka(r,e,n,s)},Ma=(e,t)=>{throw new t(e)},Fa=(e,t,r)=>{if(!Pa(e))return r(`path must be a string, but got \`${t}\``,TypeError);if(!e)return r("path must not be empty",TypeError);if(Fa.isNotRelative(e)){return r(`path should be a ${"`path.relative()`d"} string, but got "${t}"`,RangeError)}return!0},Ha=e=>Ia.test(e);Fa.isNotRelative=Ha,Fa.convert=e=>e;class ja{constructor({ignorecase:e=!0}={}){var t,r,n;this._rules=[],this._ignorecase=e,t=this,r=La,n=!0,Object.defineProperty(t,r,{value:n}),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[La])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if((e=>e&&Pa(e)&&!wa.test(e)&&0!==e.indexOf("#"))(e)){const t=Da(e,this._ignorecase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,ba(Pa(e)?(e=>e.split(Ta))(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let r=!1,n=!1;return this._rules.forEach((s=>{const{negative:i}=s;if(n===i&&r!==n||i&&!r&&!n&&!t)return;s.regex.test(e)&&(r=!i,n=i)})),{ignored:r,unignored:n}}_test(e,t,r,n){const s=e&&Fa.convert(e);return Fa(s,e,Ma),this._t(s,t,r,n)}_t(e,t,r,n){if(e in t)return t[e];if(n||(n=e.split("/")),n.pop(),!n.length)return t[e]=this._testOne(e,r);const s=this._t(n.join("/")+"/",t,r,n);return t[e]=s.ignored?s:this._testOne(e,r)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return ba(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}}const Ga=e=>new ja(e),Ba=()=>!1;Ga.isPathValid=e=>Fa(e&&Fa.convert(e),e,Ba),Ga.default=Ga;var Ua=Ga;if("undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const e=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");Fa.convert=e;const t=/^[a-z]:\//i;Fa.isNotRelative=e=>t.test(e)||Ha(e)}var Xa=e=>{const t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")};const{promisify:Va}=p.default,Wa=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],Ka=Va(l.default.readFile),qa=(e,t)=>{const r=Xa(u.default.relative(t.cwd,u.default.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter((e=>!e.startsWith("#"))).map((e=>t=>t.startsWith("!")?"!"+u.default.posix.join(e,t.slice(1)):u.default.posix.join(e,t))(r))},Ya=e=>{const t=Ua();for(const r of e)t.add(qa(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},Qa=(e,t)=>r=>e.ignores(Xa(u.default.relative(t,((e,t)=>{if(e=Xa(e),u.default.isAbsolute(t)){if(Xa(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return u.default.join(e,t)})(t,r.path||r)))),Za=({ignore:e=[],cwd:t=Xa(process.cwd())}={})=>({ignore:e,cwd:t});var za=async e=>{e=Za(e);const t=await ga("**/.gitignore",{ignore:Wa.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map((t=>(async(e,t)=>{const r=u.default.join(t,e);return{cwd:t,filePath:r,content:await Ka(r,"utf8")}})(t,e.cwd)))),n=Ya(r);return Qa(n,e.cwd)};za.sync=e=>{e=Za(e);const t=ga.sync("**/.gitignore",{ignore:Wa.concat(e.ignore),cwd:e.cwd}).map((t=>((e,t)=>{const r=u.default.join(t,e);return{cwd:t,filePath:r,content:l.default.readFileSync(r,"utf8")}})(t,e.cwd))),r=Ya(t);return Qa(r,e.cwd)};const{Transform:Ja}=c.default;class el extends Ja{constructor(){super({objectMode:!0})}}var tl={FilterStream:class extends el{constructor(e){super(),this._filter=e}_transform(e,t,r){this._filter(e)&&this.push(e),r()}},UniqueStream:class extends el{constructor(){super(),this._pushed=new Set}_transform(e,t,r){this._pushed.has(e)||(this.push(e),this._pushed.add(e)),r()}}};const{FilterStream:rl,UniqueStream:nl}=tl,sl=()=>!1,il=e=>"!"===e[0],ol=(e,t)=>{(e=>{if(!e.every((e=>"string"==typeof e)))throw new TypeError("Patterns must be a string or an array of strings")})(e=Gn([].concat(e))),((e={})=>{if(!e.cwd)return;let t;try{t=l.default.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")})(t);const r=[];t={ignore:[],expandDirectories:!0,...t};for(const[n,s]of e.entries()){if(il(s))continue;const i=e.slice(n).filter((e=>il(e))).map((e=>e.slice(1))),o={...t,ignore:t.ignore.concat(i)};r.push({pattern:s,options:o})}return r},al=(e,t)=>e.options.expandDirectories?((e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:"object"==typeof e.options.expandDirectories&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)})(e,t):[e.pattern],ll=e=>e&&e.gitignore?za.sync({cwd:e.cwd,ignore:e.ignore}):sl,ul=e=>t=>{const{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Aa.sync(r.ignore)),{pattern:t,options:r}};var cl=async(e,t)=>{const r=ol(e,t),[n,s]=await Promise.all([(async()=>t&&t.gitignore?za({cwd:t.cwd,ignore:t.ignore}):sl)(),(async()=>{const e=await Promise.all(r.map((async e=>{const t=await al(e,Aa);return Promise.all(t.map(ul(e)))})));return Gn(...e)})()]),i=await Promise.all(s.map((e=>ga(e.pattern,e.options))));return Gn(...i).filter((e=>{return!n((t=e,t.stats instanceof l.default.Stats?t.path:t));var t}))},hl=ol,pl=za;cl.sync=(e,t)=>{const r=ol(e,t),n=[];for(const e of r){const t=al(e,Aa.sync).map(ul(e));n.push(...t)}const s=ll(t);let i=[];for(const e of n)i=Gn(i,ga.sync(e.pattern,e.options));return i.filter((e=>!s(e)))},cl.stream=(e,t)=>{const r=ol(e,t),n=[];for(const e of r){const t=al(e,Aa.sync).map(ul(e));n.push(...t)}const s=ll(t),i=new rl((e=>!s(e))),o=new nl;return Xn(n.map((e=>ga.stream(e.pattern,e.options)))).pipe(i).pipe(o)},cl.generateGlobTasks=hl,cl.hasMagic=(e,t)=>[].concat(e).some((e=>ga.isDynamicPattern(e,t))),cl.gitignore=pl;var fl={busySignal:null,serviceName:"busy-signal",consumer:function(t){var r=this;return this.busySignal=t.create(),new e.Disposable((function(){r.busySignal=null}))},add:function(e){try{this.busySignal.add(e)}catch(e){E.log("Busy Signal has failed",e)}},remove:function(e){void 0===e&&(e="");try{this.busySignal.remove(e)}catch(e){E.log("Busy Signal has failed",e)}},clear:function(){try{this.busySignal.clear()}catch(e){E.log("Busy Signal has failed",e)}},dispose:function(){try{this.busySignal.dispose()}catch(e){E.log("Busy Signal has failed",e)}}};function dl(){return d(this,void 0,void 0,(function(){var e,n,s=this;return g(this,(function(i){switch(i.label){case 0:return e=S("developer"),atom.inDevMode()&&e.autoOpenConsole&&atom.openDevTools(),atom.inDevMode()&&e.autoClearConsole&&console.clear(),E.log("Deleting apm cache"),fl.add("Trashman: Deleting apm cache"),[4,Mn()];case 1:return n=i.sent(),[4,cl("*",{cwd:n,onlyFiles:!1,deep:0})];case 2:return i.sent().filter((function(e){return!e.startsWith(".")&&!e.startsWith("_")&&!e.startsWith("@")})).map((function(e){return d(s,void 0,void 0,(function(){var s,i,o,a,l,u=this;return g(this,(function(c){switch(c.label){case 0:return[4,Fn(s=r.join(n,e))];case 1:return(o=c.sent())?[4,t.promises.readdir(s)]:[3,3];case 2:o=c.sent(),c.label=3;case 3:return(null==(i=o)?void 0:i.length)?(a=Hn(Array.from(i)),(null==(l=a[1])?void 0:l.length)?(l.map((function(s){return d(u,void 0,void 0,(function(){var i,o;return g(this,(function(a){switch(a.label){case 0:return[4,Fn(i=r.join(n,e,s))];case 1:if(!a.sent())return[3,5];E.log("Deleting "+i),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,t.promises.rmdir(i,{maxRetries:5,recursive:!0})];case 3:return a.sent(),[3,5];case 4:return o=a.sent(),E.error(o),[3,5];case 5:return[2]}}))}))})),[2]):(E.log("Nothing deleted"),[2])):(E.log("Skipping "+e),[2])}}))}))})),fl.remove("Trashman: Deleting apm cache"),[2]}}))}))}function gl(){return d(this,void 0,void 0,(function(){var e;return g(this,(function(t){return e=atom.packages.getAvailablePackageNames(),E.log("Deleting storage items"),fl.add("Trashman: Deleting storage items"),e.map((function(e){var t=Object.keys(localStorage).filter((function(t){return t.startsWith("installed-packages:"+e+":")})),r=new Set;t.map((function(e){r.add(e.split(":")[2])}));var n=Hn(Array.from(r)),s=n[0],i=n[1];s&&i&&i.map((function(t){Object.keys(localStorage).filter((function(r){return r.startsWith("installed-packages:"+e+":"+t)})).map((function(e){E.log("Deleting storage item: "+e),localStorage.removeItem(e)}))}))})),fl.remove("Trashman: Deleting storage items"),[2]}))}))}var ml={config:R,subscriptions:new e.CompositeDisposable,activate:function(){return d(this,void 0,void 0,(function(){var e=this;return g(this,(function(t){return E.log("Activating package"),this.subscriptions.add(atom.commands.add("atom-workspace",{"trashman:delete-apm-cache":function(){return d(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,dl()];case 1:return e.sent(),[2]}}))}))}}),atom.commands.add("atom-workspace",{"trashman:delete-outdated-storage-data":function(){return d(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,gl()];case 1:return e.sent(),[2]}}))}))}})),jn()&&(E.log("Defering cleanup by 10 seconds"),setTimeout((function(){return d(e,void 0,void 0,(function(){var e;return g(this,(function(t){switch(t.label){case 0:return E.log("Running periodic cleanup "),(e=S("periodicCleanupTypes")).includes("deleteFiles")?[4,dl()]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.includes("deleteStorage")?[4,gl()]:[3,4];case 3:t.sent(),t.label=4;case 4:return localStorage.setItem(m+".lastUpdateTime",(new Date).toISOString()),[2]}}))}))}),1e4)),[2]}))}))},migrate:function(){!function(e,t){if(atom.config.get(m+"."+t))E.warn("Setting '"+t+"' already exists, skipping migration");else{try{atom.config.set(m+"."+t,atom.config.get(m+"."+e))}catch(e){return console.log(e),void atom.notifications.addWarning("Failed to migrate configuration, see console for details")}E.warn("Setting '"+e+"' migrated successfully to '"+t+"'"),atom.config.unset(m+"."+e)}}("developerSettings","developer")},deactivate:function(){var e;E.log("Deactivating package"),null===(e=this.subscriptions)||void 0===e||e.dispose()},consumeSignal:function(e){E.log("Consuming Busy Signal service"),fl.consumer(e)}};module.exports=ml;
//# sourceMappingURL=trashman.js.map
